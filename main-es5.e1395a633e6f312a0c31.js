function _templateObject35(){var t=_taggedTemplateLiteral([":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject35=function(){return t},t}function _templateObject34(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"]);return _templateObject34=function(){return t},t}function _templateObject33(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"]);return _templateObject33=function(){return t},t}function _templateObject32(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]);return _templateObject32=function(){return t},t}function _templateObject31(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]);return _templateObject31=function(){return t},t}function _templateObject30(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]);return _templateObject30=function(){return t},t}function _templateObject29(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]);return _templateObject29=function(){return t},t}function _templateObject28(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]);return _templateObject28=function(){return t},t}function _templateObject27(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]);return _templateObject27=function(){return t},t}function _templateObject26(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]);return _templateObject26=function(){return t},t}function _templateObject25(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]);return _templateObject25=function(){return t},t}function _templateObject24(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]);return _templateObject24=function(){return t},t}function _templateObject23(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]);return _templateObject23=function(){return t},t}function _templateObject22(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]);return _templateObject22=function(){return t},t}function _templateObject21(){var t=_taggedTemplateLiteral([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]);return _templateObject21=function(){return t},t}function _templateObject20(){var t=_taggedTemplateLiteral([":@@ngb.progressbar.value\u241ff8e9a947b9db4252c0e9905765338712f2fd032f\u241f3720830768741091151:",":INTERPOLATION:"]);return _templateObject20=function(){return t},t}function _templateObject19(){var t=_taggedTemplateLiteral([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]);return _templateObject19=function(){return t},t}function _templateObject18(){var t=_taggedTemplateLiteral([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject18=function(){return t},t}function _templateObject17(){var t=_taggedTemplateLiteral([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject17=function(){return t},t}function _templateObject16(){var t=_taggedTemplateLiteral([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]);return _templateObject16=function(){return t},t}function _templateObject15(){var t=_taggedTemplateLiteral([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]);return _templateObject15=function(){return t},t}function _templateObject14(){var t=_taggedTemplateLiteral([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]);return _templateObject14=function(){return t},t}function _templateObject13(){var t=_taggedTemplateLiteral([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]);return _templateObject13=function(){return t},t}function _templateObject12(){var t=_taggedTemplateLiteral([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]);return _templateObject12=function(){return t},t}function _templateObject11(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject11=function(){return t},t}function _templateObject10(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject10=function(){return t},t}function _templateObject9(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject9=function(){return t},t}function _templateObject8(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject8=function(){return t},t}function _templateObject7(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject7=function(){return t},t}function _templateObject6(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject6=function(){return t},t}function _templateObject5(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject5=function(){return t},t}function _templateObject4(){var t=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject4=function(){return t},t}function _templateObject3(){var t=_taggedTemplateLiteral([":@@ngb.carousel.next\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject3=function(){return t},t}function _templateObject2(){var t=_taggedTemplateLiteral([":@@ngb.carousel.previous\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject2=function(){return t},t}function _templateObject(){var t=_taggedTemplateLiteral([":@@ngb.alert.close\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject=function(){return t},t}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,o=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=r++;return o[e]=!0,i.then((function(){return a(e)&&t()})),e},u=function(t){a(t)},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,i=n("EY2u"),o=n("LRne"),a=n("HDdC"),s=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new a.a((function(e){return e.error(t)}));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r)},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return xo})),n.d(e,"b",(function(){return Sc})),n.d(e,"c",(function(){return wc})),n.d(e,"d",(function(){return _c})),n.d(e,"e",(function(){return bc})),n.d(e,"f",(function(){return gl})),n.d(e,"g",(function(){return sl})),n.d(e,"h",(function(){return po})),n.d(e,"i",(function(){return Fc})),n.d(e,"j",(function(){return ys})),n.d(e,"k",(function(){return jc})),n.d(e,"l",(function(){return gs})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return $u})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return G})),n.d(e,"r",(function(){return Ao})),n.d(e,"s",(function(){return Ls})),n.d(e,"t",(function(){return Fs})),n.d(e,"u",(function(){return Ic})),n.d(e,"v",(function(){return st})),n.d(e,"w",(function(){return cl})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return nl})),n.d(e,"z",(function(){return qc})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return Oc})),n.d(e,"C",(function(){return Ec})),n.d(e,"D",(function(){return Ju})),n.d(e,"E",(function(){return ws})),n.d(e,"F",(function(){return _s})),n.d(e,"G",(function(){return bs})),n.d(e,"H",(function(){return Cs})),n.d(e,"I",(function(){return cr})),n.d(e,"J",(function(){return d})),n.d(e,"K",(function(){return fl})),n.d(e,"L",(function(){return qs})),n.d(e,"M",(function(){return Yc})),n.d(e,"N",(function(){return Os})),n.d(e,"O",(function(){return Es})),n.d(e,"P",(function(){return Bs})),n.d(e,"Q",(function(){return gt})),n.d(e,"R",(function(){return Vo})),n.d(e,"S",(function(){return rl})),n.d(e,"T",(function(){return Vn})),n.d(e,"U",(function(){return A})),n.d(e,"V",(function(){return nt})),n.d(e,"W",(function(){return Mn})),n.d(e,"X",(function(){return vl})),n.d(e,"Y",(function(){return $c})),n.d(e,"Z",(function(){return Tc})),n.d(e,"ab",(function(){return yo})),n.d(e,"bb",(function(){return ou})),n.d(e,"cb",(function(){return sr})),n.d(e,"db",(function(){return fr})),n.d(e,"eb",(function(){return Bn})),n.d(e,"fb",(function(){return jn})),n.d(e,"gb",(function(){return xn})),n.d(e,"hb",(function(){return Dn})),n.d(e,"ib",(function(){return Rn})),n.d(e,"jb",(function(){return Pn})),n.d(e,"kb",(function(){return Nn})),n.d(e,"lb",(function(){return eu})),n.d(e,"mb",(function(){return pl})),n.d(e,"nb",(function(){return nu})),n.d(e,"ob",(function(){return ru})),n.d(e,"pb",(function(){return An})),n.d(e,"qb",(function(){return M})),n.d(e,"rb",(function(){return Uo})),n.d(e,"sb",(function(){return sa})),n.d(e,"tb",(function(){return aa})),n.d(e,"ub",(function(){return Mo})),n.d(e,"vb",(function(){return tu})),n.d(e,"wb",(function(){return qt})),n.d(e,"xb",(function(){return T})),n.d(e,"yb",(function(){return In})),n.d(e,"zb",(function(){return $a})),n.d(e,"Ab",(function(){return rs})),n.d(e,"Bb",(function(){return ds})),n.d(e,"Cb",(function(){return Rr})),n.d(e,"Db",(function(){return Wo})),n.d(e,"Eb",(function(){return Aa})),n.d(e,"Fb",(function(){return Ga})),n.d(e,"Gb",(function(){return Ka})),n.d(e,"Hb",(function(){return ja})),n.d(e,"Ib",(function(){return ca})),n.d(e,"Jb",(function(){return lc})),n.d(e,"Kb",(function(){return wt})),n.d(e,"Lb",(function(){return It})),n.d(e,"Mb",(function(){return g})),n.d(e,"Nb",(function(){return m})),n.d(e,"Ob",(function(){return Ot})),n.d(e,"Pb",(function(){return jt})),n.d(e,"Qb",(function(){return Yo})),n.d(e,"Rb",(function(){return na})),n.d(e,"Sb",(function(){return ia})),n.d(e,"Tb",(function(){return ra})),n.d(e,"Ub",(function(){return ea})),n.d(e,"Vb",(function(){return ta})),n.d(e,"Wb",(function(){return oa})),n.d(e,"Xb",(function(){return gn})),n.d(e,"Yb",(function(){return Qa})),n.d(e,"Zb",(function(){return Iu})),n.d(e,"ac",(function(){return Ru})),n.d(e,"bc",(function(){return ju})),n.d(e,"cc",(function(){return Pu})),n.d(e,"dc",(function(){return et})),n.d(e,"ec",(function(){return Xo})),n.d(e,"fc",(function(){return mc})),n.d(e,"gc",(function(){return $o})),n.d(e,"hc",(function(){return ua})),n.d(e,"ic",(function(){return dc})),n.d(e,"jc",(function(){return da})),n.d(e,"kc",(function(){return Yu})),n.d(e,"lc",(function(){return Xu})),n.d(e,"mc",(function(){return ma})),n.d(e,"nc",(function(){return va})),n.d(e,"oc",(function(){return Zo})),n.d(e,"pc",(function(){return _a})),n.d(e,"qc",(function(){return ba})),n.d(e,"rc",(function(){return Hu})),n.d(e,"sc",(function(){return Wu})),n.d(e,"tc",(function(){return Gu})),n.d(e,"uc",(function(){return uc})),n.d(e,"vc",(function(){return Qo})),n.d(e,"wc",(function(){return se})),n.d(e,"xc",(function(){return dr})),n.d(e,"yc",(function(){return St})),n.d(e,"zc",(function(){return hc})),n.d(e,"Ac",(function(){return cc})),n.d(e,"Bc",(function(){return Ia})),n.d(e,"Cc",(function(){return Ko})),n.d(e,"Dc",(function(){return gc})),n.d(e,"Ec",(function(){return za})),n.d(e,"Fc",(function(){return Ba})),n.d(e,"Gc",(function(){return Ha})),n.d(e,"Hc",(function(){return Wa})),n.d(e,"Ic",(function(){return Ya}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function u(t){return{toString:t}.toString()}function c(t,e,n){return u((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var l=c("Inject",(function(t){return{token:t}})),h=c("Optional"),f=c("Self"),d=c("SkipSelf"),p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function v(t){for(var e in t)if(t[e]===v)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function m(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return b(t,t[k])||b(t,t[O])}function b(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(S))?t[C]:null}var k=v({"\u0275prov":v}),C=v({"\u0275inj":v}),E=v({"\u0275provFallback":v}),O=v({ngInjectableDef:v}),S=v({ngInjectorDef:v});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var j=v({__forward_ref__:v});function A(t){return t.__forward_ref__=A,t.toString=function(){return T(this())},t}function x(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(j)&&t.__forward_ref__===A}var R,N="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,M=N||F||D||L,V=v({"\u0275cmp":v}),U=v({"\u0275dir":v}),q=v({"\u0275pipe":v}),z=v({"\u0275mod":v}),B=v({"\u0275loc":v}),H=v({"\u0275fac":v}),W=v({__NG_ELEMENT_ID__:v}),G=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=g({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),K=new G("INJECTOR",-1),Q={},Y=/\n/gm,X=v({provide:String,useValue:v}),$=void 0;function Z(t){var e=$;return $=t,e}function J(t){var e=R;return R=t,e}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;if(void 0===$)throw new Error("inject() must be called from an injection context");return null===$?rt(t,void 0,e):$.get(t,e&p.Optional?null:void 0,e)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;return(R||tt)(x(t),e)}var nt=et;function rt(t,e,n){var r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(T(t),"]"))}function it(t){for(var e=[],n=0;n<t.length;n++){var r=x(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=p.Default,a=0;a<r.length;a++){var s=r[a];s instanceof h||"Optional"===s.ngMetadataName||s===h?o|=p.Optional:s instanceof d||"SkipSelf"===s.ngMetadataName||s===d?o|=p.SkipSelf:s instanceof f||"Self"===s.ngMetadataName||s===f?o|=p.Self:i=s instanceof l||s===l?s.token:s}e.push(et(i,o))}else e.push(et(r))}return e}var ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;if(e===Q){var n=new Error("NullInjectorError: No provider for ".concat(T(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),at=function t(){_classCallCheck(this,t)},st=function t(){_classCallCheck(this,t)};function ut(t,e){for(var n=0;n<t.length;n++)e.push(t[n])}function ct(t,e){t.forEach((function(t){return Array.isArray(t)?ct(t,e):e(t)}))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ft(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function dt(t,e,n){var r=vt(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function pt(t,e){var n=vt(t,e);if(n>=0)return t[1|n]}function vt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var yt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),gt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),mt={},_t=[],bt=0;function wt(t){return u((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=bt++,i.inputs=Tt(t.inputs,r),i.outputs=Tt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(kt)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Ct)}:null,i}))}function kt(t){return At(t)||function(t){return t[U]||null}(t)}function Ct(t){return function(t){return t[q]||null}(t)}var Et={};function Ot(t){var e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u((function(){Et[t.id]=t.type})),e}function St(t,e){return u((function(){var n=Pt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t}))}function Tt(t,e){if(null==t)return mt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var It=wt;function jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[V]||null}function xt(t,e){return t.hasOwnProperty(H)?t[H]:null}function Pt(t,e){var n=t[z]||null;if(!n&&!0===e)throw new Error("Type ".concat(T(t)," does not have '\u0275mod' property."));return n}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nt(t){return Array.isArray(t)&&!0===t[1]}function Dt(t){return 0!=(8&t.flags)}function Lt(t){return 2==(2&t.flags)}function Ft(t){return 1==(1&t.flags)}function Mt(t){return null!==t.template}function Vt(t){return 0!=(512&t[2])}var Ut=void 0;function qt(t){Ut=t}function zt(){return void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0}function Bt(t){return!!t.listen}var Ht={createRenderer:function(t,e){return zt()}};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function Gt(t,e){return Wt(e[t+20])}function Kt(t,e){return Wt(e[t.index])}function Qt(t,e){return t.data[e+20]}function Yt(t,e){return t[e+20]}function Xt(t,e){var n=e[t];return Rt(n)?n:n[0]}function $t(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Zt(t){return 4==(4&t[2])}function Jt(t){return 128==(128&t[2])}function te(t,e){return null===t||null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var re={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ie(){return re.bindingsEnabled}function oe(){return re.lFrame.lView}function ae(){return re.lFrame.tView}function se(t){re.lFrame.contextLView=t}function ue(){return re.lFrame.previousOrParentTNode}function ce(t,e){re.lFrame.previousOrParentTNode=t,re.lFrame.isParent=e}function le(){return re.lFrame.isParent}function he(){re.lFrame.isParent=!1}function fe(){return re.checkNoChangesMode}function de(t){re.checkNoChangesMode=t}function pe(){var t=re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ve(){return re.lFrame.bindingIndex}function ye(){return re.lFrame.bindingIndex++}function ge(t){var e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function me(t,e){var n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,_e(e)}function _e(t){re.lFrame.currentDirectiveIndex=t}function be(t){var e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function we(){return re.lFrame.currentQueryIndex}function ke(t){re.lFrame.currentQueryIndex=t}function Ce(t,e){var n=Oe();re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ee(t,e){var n=Oe(),r=t[1];re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Oe(){var t=re.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Te(){var t=re.lFrame;return re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var Ie=Te;function je(){var t=Te();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return re.lFrame.selectedIndex}function xe(t){re.lFrame.selectedIndex=t}function Pe(){var t=re.lFrame;return Qt(t.tView,t.selectedIndex)}function Re(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function Ne(t,e,n){Fe(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function Le(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Me(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Me(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ve=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ue(t,e,n){for(var r=Bt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];ze(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function qe(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Be(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function He(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function We(t){return-1!==t}function Ge(t){return 32767&t}function Ke(t){return t>>16}function Qe(t,e){for(var n=Ke(t),r=e;n>0;)r=r[15],n--;return r}function Ye(t){return"string"==typeof t?t:null==t?"":""+t}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ye(t)}var $e=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M);function Ze(t){return t instanceof Function?t():t}var Je=!0;function tn(t){var e=Je;return Je=t,e}var en=0;function nn(t,e){var n=on(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rn(r.data,t),rn(e,null),rn(r.blueprint,null));var i=an(t,e),o=t.injectorIndex;if(We(i))for(var a=Ge(i),s=Qe(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function sn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[W]:n.charCodeAt(0)||0;null==r&&(r=n[W]=en++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function un(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[W];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Ce(e,t);try{var a=o();if(null!=a||r&p.Optional)return a;throw new Error("No provider for ".concat(Xe(n),"!"))}finally{Ie()}}else if("number"==typeof o){if(-1===o)return new vn(t,e);var s=null,u=on(t,e),c=-1,l=r&p.Host?e[16][6]:null;for((-1===u||r&p.SkipSelf)&&(c=-1===u?an(t,e):e[u+8],pn(r,!1)?(s=e[1],u=Ge(c),e=Qe(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(dn(o,u,h.data)){var f=ln(u,e,n,s,r,l);if(f!==cn)return f}pn(r,e[1].data[u+8]===l)&&dn(o,u,e)?(s=h,u=Ge(c),e=Qe(c,e)):u=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){var d=e[9],v=J(void 0);try{return d?d.get(n,i,r&p.Optional):rt(n,i,r&p.Optional)}finally{J(v)}}if(r&p.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Xe(n),"]"))}var cn={};function ln(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=hn(s,a,n,null==r?Lt(s)&&Je:r!=a&&3===s.type,i&p.Host&&o===s);return null!==u?fn(e,a,u,s):cn}function hn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Mt(d)&&d.type===n)return u}return null}function fn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ve){var a=i;if(a.resolving)throw new Error("Circular dep for "+Xe(o[n]));var s,u=tn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=J(a.injectImpl)),Ce(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&J(s),tn(u),a.resolving=!1,Ie()}}return i}function dn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function pn(t,e){return!(t&p.Self||t&p.Host&&e)}var vn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return un(this._tNode,this._lView,t,void 0,e)}}]),t}();function yn(t){var e=t;if(P(t))return function(){var t=yn(x(e));return t?t():null};var n=xt(e);if(null===n){var r=w(e);n=r&&r.factory}return n||null}function gn(t){return u((function(){for(var e=t.prototype.constructor,n=e[H]||yn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[H]||yn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function mn(t){return t.ngDebugContext}function _n(t){return t.ngOriginalError}function bn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||bn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?mn(t)?mn(t):this._findContext(_n(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=_n(t);e&&_n(e);)e=_n(e);return e}}]),t}(),kn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(kn),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(kn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(kn),Sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(kn),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(kn);function In(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function jn(t,e){var n=An(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function An(t){return t instanceof kn&&t.getTypeName()||null}function xn(t){return new Cn(t)}function Pn(t){return new En(t)}function Rn(t){return new On(t)}function Nn(t){return new Sn(t)}function Dn(t){return new Tn(t)}var Ln=!0,Fn=!1;function Mn(){return Fn=!0,Ln}function Vn(){if(Fn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}var Un=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(qn)||t.match(zn)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Hn(t){return(t=String(t)).split(",").map((function(t){return Bn(t.trim())})).join(", ")}function Wn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Gn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Kn,Qn=Wn("area,br,col,hr,img,wbr"),Yn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Wn("rp,rt"),$n=Gn(Xn,Yn),Zn=Gn(Qn,Gn(Yn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Xn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),Jn=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Wn("srcset"),er=Gn(Jn,tr,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Wn("script,style,template"),rr=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!Zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(er.hasOwnProperty(a)){var s=i.value;Jn[a]&&(s=Bn(s)),tr[a]&&(s=Hn(s)),this.buf.push(" ",o,'="',ar(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();Zn.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(ar(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(or,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function sr(t,e){var n=null;try{Kn=Kn||new Un(t);var r=e?String(e):"";n=Kn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Kn.getInertBodyElement(r)}while(r!==o);var a=new rr,s=a.sanitizeChildren(ur(n)||n);return Mn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ur(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),lr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";var e=t.match(hr);return e&&Bn(e[1])===e[1]||t.match(lr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function dr(t){var e,n=(e=oe())&&e[12];return n?n.sanitize(cr.URL,t)||"":jn(t,"URL")?In(t):Bn(Ye(t))}function pr(t,e){t.__ngContext__=e}function vr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function yr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==gr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&"ng-template"!==t.tagName}function br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(qe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!br(t,u,n)||""===u&&1===e.length){if(kr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!mr(t.attrs,c,n)){if(kr(r))return!1;a=!0}continue}var l=Cr(8&r?"class":u,i,_r(t),n);if(-1===l){if(kr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==gr(f,c,0)||2&r&&c!==h){if(kr(r))return!1;a=!0}}}}else{if(!a&&!kr(r)&&!kr(u))return!1;if(a&&kr(u))continue;a=!1,r=u|1&r}}return kr(r)||a}function kr(t){return 0==(1&t)}function Cr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Or(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Sr(t,e){return t?":not("+e.trim()+")":e}function Tr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||kr(a)||(e+=Sr(o,i),i=""),r=a,o=o||!kr(r);n++}return""!==i&&(e+=Sr(o,i)),e}var Ir={};function jr(t){var e=t[3];return Nt(e)?e[3]:e}function Ar(t){return Pr(t[13])}function xr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!Nt(t);)t=t[4];return t}function Rr(t){Nr(ae(),oe(),Ae()+t,fe())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ne(e,i,n)}else{var o=t.preOrderHooks;null!==o&&De(e,o,0,n)}xe(n)}var Dr={marker:"element"},Lr={marker:"comment"};function Fr(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function Vr(t){return 2|t}function Ur(t){return(131068&t)>>2}function qr(t,e){return-131069&t|e<<2}function zr(t){return 1|t}function Br(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ke(i),a.contentQueries(2,e[o],o)}}}function Hr(t,e,n){return Bt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Wr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=ue(),s=le(),u=s?a:a&&a.parent,c=t.data[n]=ni(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return ce(s,!0),s}function Kr(t,e,n){Ee(e,e[6]);try{var r=t.viewQuery;null!==r&&Oi(1,r,n);var i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Oi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)bi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,je()}}function Qr(t,e,n,r){var i=e[2];if(256!=(256&i)){Ee(e,e[6]);var o=fe();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ne(e,s,null)}else{var u=t.preOrderHooks;null!==u&&De(e,u,0,null),Le(e,0)}if(function(t){for(var e=Ar(t);null!==e;e=xr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ne(o,1),i[2]|=1024}}(e),function(t){for(var e=Ar(t);null!==e;e=xr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Jt(r)&&Qr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ne(e,c)}else{var l=t.contentHooks;null!==l&&De(e,l,1),Le(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(xe(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(me(r,i),a(2,e[i])),i++)}}finally{xe(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)_i(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Oi(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ne(e,d)}else{var p=t.viewHooks;null!==p&&De(e,p,2),Le(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{je()}}}function Yr(t,e,n,r){var i=e[10],o=!fe(),a=Zt(e);try{o&&!a&&i.begin&&i.begin(),a&&Kr(t,e,r),Qr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Xr(t,e,n,r,i){var o=Ae();try{xe(-1),2&r&&e.length>20&&Nr(t,e,0,fe()),n(r,i)}finally{xe(o)}}function $r(t,e,n){if(Dt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Zr(t,e,n){ie()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||nn(n,e),pr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Mt(u);c&&pi(e,n,u);var l=fn(e,t,s,n);pr(l,e),null!==a&&yi(0,s-i,l,u,0,a),c&&(Xt(n.index,e)[8]=l)}}(t,e,n,Kt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=re.lFrame.currentDirectiveIndex;try{xe(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];_e(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ui(l,h):a&&o.push(null)}}finally{xe(-1),_e(u)}}(t,e,n))}function Jr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function ti(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ir);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ni(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ri(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,o,a,s){var u,c=Kt(e,n),l=e.inputs;!s&&null!=l&&(u=l[r])?(xi(t,n,u,r,i),Lt(e)&&function(t,e){var n=Xt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.tagName||"",r):i,Bt(o)?o.setProperty(c,r,i):ze(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function oi(t,e,n,r){var i=!1;if(ie()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Er(n,a.selectors,!1)&&(i||(i=[]),sn(nn(n,e),t,a.type),Mt(a)?(2&n.flags&&vr(n),li(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,fi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ci(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Be(n.mergedAttrs,d.hostAttrs),di(t,e,d),hi(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ai(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||_r(e)?null:gi(l,i);o.push(h),a=ri(l,u,a),s=ri(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),si(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Be(n.mergedAttrs,n.attrs),i}function ai(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function si(t,e,n){for(var r=0;r<n;r++)e.push(Ir),t.blueprint.push(Ir),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mt(e)&&(n[""]=t)}}function fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);var r=n.factory||(n.factory=xt(n.type)),i=new Ve(r,Mt(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){var r=Kt(e,t),i=ti(n),o=t[10],a=wi(t,Wr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function vi(t,e,n,r,i,o){var a=Kt(t,e),s=e[11];if(null==r)Bt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Ye(r):i(r,t.tagName||"",n);Bt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}function yi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function gi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function _i(t,e){var n=Xt(e,t);if(Jt(n)){var r=n[1];80&n[2]?Qr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Ar(e);null!==n;n=xr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Qr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Xt(a[s],e);Jt(u)&&u[5]>0&&t(u)}}(n)}}function bi(t,e){var n=Xt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Kr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ki(t){for(;t;){t[2]|=64;var e=jr(t);if(Vt(t)&&!e)return t;t=e}return null}function Ci(t,e,n){var r=e[10];r.begin&&r.begin();try{Qr(t,e,t.template,n)}catch(i){throw Ai(e,i),i}finally{r.end&&r.end()}}function Ei(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=$t(n),i=r[1];Yr(i,r,i.template,n)}}(t[8])}function Oi(t,e,n){ke(0),e(t,n)}var Si=Promise.resolve(null);function Ti(t){return t[7]||(t[7]=[])}function Ii(t){return t.cleanup||(t.cleanup=[])}function ji(t,e,n){return(null===t||Mt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ai(t,e){var n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Pi(t,e,n){var r=Gt(e,t),i=t[11];Bt(i)?i.setValue(r,n):r.textContent=n}function Ri(t,e){var n=e[3];return-1===t.index?Nt(n)?n:null:n}function Ni(t,e){var n=Ri(t,e);return n?Ki(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){var o,a=!1;Nt(r)?o=r:Rt(r)&&(a=!0,r=r[0]);var s=Wt(r);0===t&&null!==n?null==i?Wi(e,n,s):Hi(e,n,s,i||null):1===t&&null!==n?Hi(e,n,s,i||null):2===t?$i(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Wt(n)&&Di(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Ji(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Li(t,e){return Bt(e)?e.createText(t):e.createTextNode(t)}function Fi(t,e,n,r){var i=Ni(t.node,e);i&&Ji(t,e,e[11],n?1:2,i,r)}function Mi(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&ne(e[3],-1),n.splice(r,1)}function Vi(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Mi(i,r),e>0&&(t[n-1][4]=r[4]);var o=ht(t,10+e);Fi(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ui(t,e){if(!(256&e[2])){var n=e[11];Bt(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return zi(t[1],t);for(;e;){var n=null;if(Rt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&zi(e[1],e),e=qi(e,t);null===e&&(e=t),Rt(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){var n;return Rt(t)&&(n=t[6])&&2===n.type?Ri(n,t):t[3]===e?null:t[3]}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ve)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Wt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Bt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Nt(e[3])){r!==e[3]&&Mi(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Bi(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Ni(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Kt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==gt.ShadowDom&&a!==gt.Native)return null}return Kt(r,n)}function Hi(t,e,n,r){Bt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Wi(t,e,n){Bt(t)?t.appendChild(e,n):e.appendChild(n)}function Gi(t,e,n,r){null!==r?Hi(t,e,n,r):Wi(t,e,n)}function Ki(t,e){return Bt(t)?t.parentNode(e):e.parentNode}function Qi(t,e){if(2===t.type){var n=Ri(t,e);return null===n?null:Xi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Kt(t,e):null}function Yi(t,e,n,r){var i=Bi(t,r,e);if(null!=i){var o=e[11],a=Qi(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Gi(o,i,n[s],a);else Gi(o,i,n,a)}}function Xi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Kt(n,e);if(0===r)return Xi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Nt(o)?Xi(-1,o):Wt(o)}var a=e[16],s=a[6],u=jr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function $i(t,e,n){var r=Ki(t,e);r&&function(t,e,n,r){Bt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Zi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&pr(Wt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Zi(t,e,n.child,r,i,o,!1),Di(e,t,i,s,o)):1===u?eo(t,e,r,n,i,o):Di(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Ji(t,e,n,r,i,o){Zi(n,r,t.node.child,e,i,o,!1)}function to(t,e,n){eo(e[11],0,e,n,Bi(t,n,e),Qi(n.parent||e[6],e))}function eo(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Di(e,t,i,s[u],o);else Zi(t,e,s,a[3],i,o,!0)}function no(t,e,n){Bt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ro(t,e,n){Bt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var io,oo,ao,so=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ui(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Ti(n=this._lView).push(r),e.firstCreatePass&&Ii(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){ki(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Ci(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){de(!0);try{Ci(t,e,n)}finally{de(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Wt(a)),Nt(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=jr(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),uo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){Ei(this._view)}},{key:"checkNoChanges",value:function(){!function(t){de(!0);try{Ei(t)}finally{de(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(so);function co(t,e,n){return io||(io=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new io(Kt(e,n))}function lo(t,e,n,r){return oo||(oo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Wr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Kr(e,n,t),new so(n)}}]),n}(t)),0===n.type?new oo(r,n,co(e,n,r)):null}function ho(t,e,n,r){var i;ao||(ao=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(at,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Nt(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new ao(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],lt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Fi(r,n,!0,Xi(s,this._lContainer)),t.attachToViewContainerRef(this),lt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Vi(t,e);n&&Ui(n[1],n)}(this._lContainer,e),ht(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new so(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return co(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=an(this._hostTNode,this._hostView),e=Qe(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ke(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return We(t)&&null!=n?new vn(n,e):new vn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Nt(o))i=o;else{var a;if(4===n.type)a=Wt(o);else if(a=r[11].createComment(""),Vt(r)){var s=r[11],u=Kt(n,r);Hi(s,Ki(s,u),a,function(t,e){return Bt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Yi(r[1],r,a,n);r[n.index]=i=mi(o,r,a,n),wi(r,i)}return new ao(i,n,r)}function fo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Lt(t)){var r=Xt(t.index,e);return new so(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new so(e[16],e):null}(ue(),oe(),t)}var po=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return vo()},t}(),vo=fo,yo=new G("Set Injector scope."),go={},mo={},_o=[],bo=void 0;function wo(){return void 0===bo&&(bo=new ot),bo}function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Co(t,n,e||wo(),r)}var Co=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ct(n,(function(t){return i.processProvider(t,e,n)})),ct([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(K,So(void 0,this));var s=this.records.get(yo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:T(e))}return _createClass(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;this.assertNotDestroyed();var r,i=Z(this);try{if(!(n&p.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof G)&&_(t);o=a&&this.injectableDefInScope(a)?So(Eo(t),go):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&p.Self?wo():this.parent).get(t,e=n&p.Optional&&e===Q?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(T(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=T(e);if(Array.isArray(e))i=e.map(T).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):T(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Y,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Z(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(T(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=x(t)))return!1;var i=w(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=w(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{ct(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;ct(i,(function(t){return r.processProvider(t,n,i||_o)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,So(i.factory,go));var h=i.providers;if(null!=h&&!s){var f=t;ct(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Io(t=x(t))?t:x(t&&t.provide),i=function(t,e,n){return To(t)?So(void 0,t.useValue):So(Oo(t,e,n),go)}(t,e,n);if(Io(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&yr()}else{var a=this.records.get(r);a?void 0===a.multi&&yr():((a=So(void 0,go,!0)).factory=function(){return it(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===mo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(T(t)):e.value===go&&(e.value=mo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Eo(t){var e=_(t),n=null!==e?e.factory:xt(t);if(null!==n)return n;var r=w(t);if(null!==r)return r.factory;if(t instanceof G)throw new Error("Token ".concat(T(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=ft(e,"?");throw new Error("Can't resolve all parameters for ".concat(T(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[k]||t[O]||t[E]&&t[E]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Oo(t,e,n){var r,i=void 0;if(Io(t)){var o=x(t);return xt(o)||Eo(o)}if(To(t))i=function(){return x(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(it(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return et(x(t.useExisting))};else{var a=x(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(T(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return xt(a)||Eo(a);i=function(){return _construct(a,_toConsumableArray(it(t.deps)))}}return i}function So(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function To(t){return null!==t&&"object"==typeof t&&X in t}function Io(t){return"function"==typeof t}var jo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=ko(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Ao=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?jo(t,e,""):jo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Q,t.NULL=new ot,t.\u0275prov=g({token:t,providedIn:"any",factory:function(){return et(K)}}),t.__NG_ELEMENT_ID__=-1,t}(),xo=new G("AnalyzeForEntryComponents"),Po=new Map,Ro=new Set;function No(t){return"string"==typeof t?t:t.text()}function Do(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=I(i,s):2==o&&(r=I(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lo=null;function Fo(){if(!Lo){var t=M.Symbol;if(t&&t.iterator)Lo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Lo=r)}}return Lo}function Mo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Vo=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Uo(t){return!!qo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fo()in t)}function qo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function zo(t,e,n){return t[e]=n}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,r){var i=Bo(t,e,n);return Bo(t,e+1,r)||i}function Wo(t,e,n,r){var i=oe();return Bo(i,ye(),e)&&(ae(),vi(Pe(),i,t,e,n,r)),Wo}function Go(t,e,n,r){return Bo(t,ye(),n)?e+Ye(n)+r:Ir}function Ko(t,e,n,r,i,o,a,s){var u=oe(),c=ae(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Gr(e,n[6],t,0,a||null,te(c,s));oi(e,n,l,te(c,u)),Re(e,l);var h=l.tViews=ei(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ni(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];ce(h,!1);var f=u[11].createComment("");Yi(c,u,f,h),pr(f,u),wi(u,u[l]=mi(f,u,f,h)),Ft(h)&&Zr(c,u,h),null!=a&&Jr(u,h,s)}function Qo(t){return Yt(re.lFrame.contextLView,t)}function Yo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default,n=oe();return null==n?et(t,e):un(ue(),n,x(t),e)}function Xo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(qe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ue(),t)}function $o(){throw new Error("invalid")}function Zo(t,e,n){var r=oe();return Bo(r,ye(),e)&&ii(ae(),Pe(),r,t,e,r[11],n,!1),Zo}function Jo(t,e,n,r,i){var o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function ta(t,e,n,r){var i=oe(),o=ae(),a=20+t,s=i[11],u=i[a]=Hr(e,s,re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=te(s,o),c=Gr(e,n[6],t,3,i,u);return oi(e,n,c,te(s,a)),null!==c.attrs&&Do(c,c.attrs,!1),null!==c.mergedAttrs&&Do(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];ce(c,!0);var l=c.mergedAttrs;null!==l&&Ue(s,u,l);var h=c.classes;null!==h&&ro(s,u,h);var f=c.styles;null!==f&&no(s,u,f),Yi(o,i,u,c),0===re.lFrame.elementDepthCount&&pr(u,i),re.lFrame.elementDepthCount++,Ft(c)&&(Zr(o,i,c),$r(o,c,i)),null!==r&&Jr(i,c)}function ea(){var t=ue();le()?he():ce(t=t.parent,!1);var e=t;re.lFrame.elementDepthCount--;var n=ae();n.firstCreatePass&&(Re(n,t),Dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Jo(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Jo(n,e,oe(),e.stylesWithoutHost,!1)}function na(t,e,n,r){ta(t,e,n,r),ea()}function ra(t,e,n){var r=oe(),i=ae(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=te(o,r),s=Gr(e,n[6],t,4,"ng-container",a);return null!==a&&Do(s,a,!0),oi(e,n,s,te(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];ce(a,!0);var s=r[o]=r[11].createComment("");Yi(i,r,s,a),pr(s,r),Ft(a)&&(Zr(i,r,a),$r(i,a,r)),null!=n&&Jr(r,a)}function ia(){var t=ue(),e=ae();le()?he():ce(t=t.parent,!1),e.firstCreatePass&&(Re(e,t),Dt(t)&&e.queries.elementEnd(t))}function oa(){return oe()}function aa(t){return!!t&&"function"==typeof t.then}function sa(t){return!!t&&"function"==typeof t.subscribe}function ua(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=oe(),o=ae(),a=ue();return la(o,i,i[11],a,t,e,n,r),ua}function ca(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ue(),o=oe(),a=ae();return la(a,o,ji(be(a.data),i,o),i,t,e,n,r),ca}function la(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ft(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ti(e),h=!0;if(3===r.type){var f=Kt(r,e),d=s?s(f):mt,p=d.target||f,v=l.length,y=s?function(t){return s(Wt(t[r.index])).target}:r.index;if(Bt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=fa(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=fa(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var k=0;k<w;k+=2){var C=e[_[k]][_[k+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(i,r.index,E,-(E+1))}}}function ha(t,e,n){try{return!1!==e(n)}catch(r){return Ai(t,r),!1}}function fa(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Xt(t.index,e):e;0==(32&e[2])&&ki(a);for(var s=ha(e,n,o),u=i.__ngNextListenerFn__;u;)s=ha(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function da(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function pa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Er(t,o,!0):Or(r,o))return i}else n=i}return n}function va(t){var e=oe()[16][6];if(!e.projection)for(var n=e.projection=ft(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?pa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var ya=!1;function ga(t){ya=t}function ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=oe(),i=ae(),o=Gr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),he(),ya||to(i,r,o)}function _a(t,e,n){return ba(t,"",e,"",n),_a}function ba(t,e,n,r,i){var o=oe(),a=Go(o,e,n,r);return a!==Ir&&ii(ae(),Pe(),o,t,a,o[11],i,!1),ba}var wa=[];function ka(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Mr(o):Ur(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Ca(t[s],e)&&(u=!0,t[s+1]=r?zr(c):Vr(c)),s=r?Mr(c):Ur(c)}u&&(t[n+1]=r?Vr(o):zr(o))}function Ca(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vt(t,e)>=0}var Ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Oa(t){return t.substring(Ea.key,Ea.keyEnd)}function Sa(t,e){var n=Ea.textEnd;return n===e?-1:(e=Ea.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ea.key=e,n),Ta(t,e,n))}function Ta(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ia(t,e,n){return Pa(t,e,n,!1),Ia}function ja(t,e){return Pa(t,e,null,!0),ja}function Aa(t){Ra(dt,xa,t,!0)}function xa(t,e){for(var n=function(t){return function(t){Ea.key=0,Ea.keyEnd=0,Ea.value=0,Ea.valueEnd=0,Ea.textEnd=t.length}(t),Sa(t,Ta(t,0,Ea.textEnd))}(e);n>=0;n=Sa(e,n))dt(t,Oa(e),!0)}function Pa(t,e,n,r){var i,o,a=oe(),s=ae(),u=ge(2);(s.firstUpdatePass&&Da(s,t,u,r),e!==Ir&&Bo(a,u,e))&&(null==n&&(i=null===(o=re.lFrame)?null:o.currentSanitizer)&&(n=i),Ma(s,s.data[Ae()+20],a,a[11],t,a[u+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=T(In(t)))),t}(e,n),r,u))}function Ra(t,e,n,r){var i=ae(),o=ge(2);i.firstUpdatePass&&Da(i,null,o,r);var a=oe();if(n!==Ir&&Bo(a,o,n)){var s=i.data[Ae()+20];if(qa(s,r)&&!Na(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=I(u,n||"")),Jo(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ir&&(i=wa);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&Ma(t,e,n,r,p,v,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return wa;var r=[],i=In(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Na(t,e){return e>=t.expandoStartIndex}function Da(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ae()+20],a=Na(t,n);qa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=be(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fa(n=La(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=La(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Ur(r))return t[Mr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Mr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Fa(s=La(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Fa(r,t[o].hostAttrs,n);return Fa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Mr(a),u=Ur(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||vt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Mr(t[s+1]);t[r+1]=Fr(f,s),0!==f&&(t[f+1]=qr(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Fr(s,0),0!==s&&(t[s+1]=qr(t[s+1],r)),s=r;else t[r+1]=Fr(u,0),0===s?s=r:t[u+1]=qr(t[u+1],r),u=r;l&&(t[r+1]=Vr(t[r+1])),ka(t,c,r,!0),ka(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&vt(o,e)>=0&&(n[r+1]=zr(n[r+1]))}(e,c,t,r,o),a=Fr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function La(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Fa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Fa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dt(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ma(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];Ua(1==(1&c)?Va(u,e,n,i,Ur(c),a):void 0)||(Ua(o)||2==(2&c)&&(o=Va(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Bt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Gt(Ae(),n),i,o))}}function Va(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ir&&(f=h?wa:void 0);var d=h?pt(f,r):l===r?f:void 0;if(c&&!Ua(d)&&(d=pt(u,r)),Ua(d)&&(s=d,a))return s;var p=t[i+1];i=a?Mr(p):Ur(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=pt(v,r))}return s}function Ua(t){return void 0!==t}function qa(t,e){return 0!=(t.flags&(e?16:32))}function za(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=oe(),r=ae(),i=t+20,o=r.firstCreatePass?Gr(r,n[6],t,3,null,null):r.data[i],a=n[i]=Li(e,n[11]);Yi(r,n,a,o),ce(o,!1)}function Ba(t){return Ha("",t,""),Ba}function Ha(t,e,n){var r=oe(),i=Go(r,t,e,n);return i!==Ir&&Pi(r,Ae(),i),Ha}function Wa(t,e,n,r,i){var o=oe(),a=function(t,e,n,r,i,o){var a=Ho(t,ve(),n,i);return ge(2),a?e+Ye(n)+r+Ye(i)+o:Ir}(o,t,e,n,r,i);return a!==Ir&&Pi(o,Ae(),a),Wa}function Ga(t,e,n){Ra(dt,xa,Go(oe(),t,e,n),!0)}function Ka(t,e,n,r,i,o,a,s,u){Ra(dt,xa,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=Ho(t,e,n,r);return Ho(t,e+2,i,o)||a}(t,ve(),n,i,a,u);return ge(4),l?e+Ye(n)+r+Ye(i)+o+Ye(a)+s+Ye(u)+c:Ir}(oe(),t,e,n,r,i,o,a,s,u),!0)}function Qa(t,e,n){var r=oe();return Bo(r,ye(),e)&&ii(ae(),Pe(),r,t,e,r[11],n,!0),Qa}function Ya(t,e,n){var r=oe();if(Bo(r,ye(),e)){var i=ae(),o=Pe();ii(i,o,r,t,e,ji(be(i.data),o,r),n,!0)}return Ya}function Xa(t,e){var n=$t(t)[1],r=n.data.length-1;Re(n,{directiveStart:r,directiveEnd:r+1})}function $a(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Za(t.inputs),o.declaredInputs=Za(t.declaredInputs),o.outputs=Za(t.outputs);var a=i.hostBindings;a&&es(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Ja(t,s),u&&ts(t,u),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Mt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===$a&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Be(i.hostAttrs,n=Be(n,i.hostAttrs))}}(r)}function Za(t){return t===mt?{}:t===_t?[]:t}function Ja(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ts(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function es(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ns=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function rs(t){t.type.prototype.ngOnChanges&&(t.setInput=is,t.onChanges=function(){var t=os(this),e=t&&t.current;if(e){var n=t.previous;if(n===mt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function is(t,e,n,r){var i=os(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:mt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new ns(u&&u.currentValue,e,a===mt),t[r]=e}function os(t){return t.__ngSimpleChanges__||null}function as(t,e,n,r,i){if(t=x(t),Array.isArray(t))for(var o=0;o<t.length;o++)as(t[o],e,n,r,i);else{var a=ae(),s=oe(),u=Io(t)?t:x(t.provide),c=Oo(t),l=ue(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(Io(t)||!t.multi){var p=new Ve(c,i,Yo),v=cs(u,e,i?h:h+d,f);-1===v?(sn(nn(l,s),a,u),ss(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=cs(u,e,h+d,f),g=cs(u,e,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){sn(nn(l,s),a,u);var b=function(t,e,n,r,i){var o=new Ve(t,n,Yo);return o.multi=[],o.index=e,o.componentProviders=0,us(o,i,r&&!n),o}(i?hs:ls,n.length,i,r,c);!i&&_&&(n[g].providerFactory=b),ss(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else ss(a,t,y>-1?y:g,us(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function ss(t,e,n,r){var i=Io(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function us(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cs(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ls(t,e,n,r){return fs(this.multi,[])}function hs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=fn(n,n[1],this.providerFactory.index,r);fs(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else fs(o,i=[]);return i}function fs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ds(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ae();if(r.firstCreatePass){var i=Mt(t);as(n,r.data,r.blueprint,i,!0),as(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}rs.ngInherit=!0;var ps=function t(){_classCallCheck(this,t)},vs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(T(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ys=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new vs,t}(),gs=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return ms(t)},t}(),ms=function(t){return co(t,ue(),oe())},_s=function t(){_classCallCheck(this,t)},bs=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ws=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ks()},t}(),ks=function(){var t=oe(),e=Xt(ue().index,t);return function(t){var e=t[11];if(Bt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Rt(e)?e:t)},Cs=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return null}}),t}(),Es=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Os=new Es("9.1.12"),Ss=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Uo(t)}},{key:"create",value:function(t){return new Is(t)}}]),t}(),Ts=function(t,e){return e},Is=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ts}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ps(n,r,i)?e:n,a=Ps(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Uo(t))throw new Error("Error trying to diff '".concat(T(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Mo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Mo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Fo()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Mo(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Mo(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Mo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Mo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new js(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xs),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),js=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},As=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Mo(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),xs=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new As,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Ps(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Rs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||qo(t)}},{key:"create",value:function(){return new Ns}}]),t}(),Ns=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||qo(t)))throw new Error("Error trying to diff '".concat(T(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Ds(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Mo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Ds=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ls=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}}]),t}();return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return new t([new Ss])}}),t}(),Fs=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}}]),t}();return t.\u0275prov=g({token:t,providedIn:"root",factory:function(){return new t([new Rs])}}),t}(),Ms=[new Rs],Vs=new Ls([new Ss]),Us=new Fs(Ms),qs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return zs(t,gs)},t}(),zs=function(t,e){return lo(t,e,ue(),oe())},Bs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Hs(t,gs)},t}(),Hs=function(t,e){return ho(t,e,ue(),oe())},Ws={},Gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=At(t);return new Ys(e,this.ngModule)}}]),n}(ys);function Ks(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Qs=new G("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $e}}),Ys=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Tr).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Ws,i);return o!==Ws||r===Ws?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(_s,Ht),u=a.get(Cs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Bt(t))return t.selectRootElement(e,n===gt.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Hr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:$e,clean:Si,playerHandler:null,flags:0},v=ei(0,-1,null,1,0,null,null,null,null,null),y=Wr(null,v,p,f,null,null,s,c,u,a);Ee(y,null);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Gr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Do(s,u,!0),null!==t&&(Ue(i,t,u),null!==s.classes&&ro(i,t,s.classes),null!==s.styles&&no(i,t,s.styles)));var c=r.createRenderer(t,e),l=Wr(n,ti(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(sn(nn(s,n),a,e.type),li(a,s),fi(s,n.length,1)),wi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Ue(c,h,["ng-version",Os.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!kr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&Ue(c,h,_),b&&b.length>0&&ro(c,h,b.join(" "))}if(o=Qt(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),di(t,e,n));var i=fn(e,t,e.length-1,r);pr(i,e);var o=Kt(r,e);return o&&pr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=ue();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xe(s.index-20);var u=n[1];ai(u,e),si(u,n,e.hostVars),ui(e,a)}return a}(g,this.componentDef,y,p,[Xa]),Kr(v,y,null)}finally{je()}var E=new Xs(this.componentType,i,co(gs,o,y),y,o);return n&&!d||(v.node.child=o),E}},{key:"inputs",get:function(){return Ks(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ks(this.componentDef.outputs)}}]),n}(ps),Xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new uo(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ni(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new vn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),$s=void 0,Zs=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Js={};function tu(t,e,n){"string"!=typeof e&&(n=e,e=t[ou.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Js[e]=t,n&&(Js[e][ou.ExtraData]=n)}function eu(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=iu(e);if(n)return n;var r=e.split("-")[0];if(n=iu(r))return n;if("en"===r)return Zs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function nu(t){return eu(t)[ou.CurrencyCode]||null}function ru(t){return eu(t)[ou.PluralCase]}function iu(t){return t in Js||(Js[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),Js[t]}var ou=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),au=["zero","one","two","few","many"],su=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cu=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,lu=/\ufffd(\d+):?\d*\ufffd/gi,hu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function fu(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);su.test(s)?i.push(du(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function du(t){for(var e=[],n=[],r=1,i=0,o=fu(t=t.replace(su,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}))),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=fu(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function pu(t){for(var e,n,r="",i=0,o=!1;null!==(e=uu.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function vu(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=t.split(lu),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=_u(c)}else""!==u&&i.push(u)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function yu(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n|=_u(t.mainBinding);for(var r=0;r<t.values.length;r++)for(var i=t.values[r],o=0;o<i.length;o++){var a=i[o];if("string"==typeof a)for(;e=lu.exec(a);)n|=_u(parseInt(e[1],10));else n=yu(a,n)}return n}var gu=[],mu=-1;function _u(t){return 1<<Math.min(t,31)}var bu,wu=[];function ku(t){return t+bu++}function Cu(t,e,n,r,i){var o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);for(var a=e.next;a;)a.next===e&&(a.next=o),a=a.next;if(1===e.type)return to(t,i,e),e;Yi(t,i,Kt(e,i),e);var s=i[e.index];return 0!==e.type&&Nt(s)&&Yi(t,i,s[7],e),e}function Eu(t){return void 0===t}function Ou(t,e,n,r,i,o){var a=ue();e[n+20]=i;var s=Gr(t,e[6],n,r,o,null);return a&&a.next===s&&(a.next=null),s}function Su(t,e,n,r){for(var i=r[11],o=null,a=null,s=[],u=0;u<e.length;u++){var c=e[u];if("string"==typeof c){var l=Li(c,i),h=e[++u];a=o,o=Ou(n,r,h,3,l,null),s.push(h),he()}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17;a=Cu(n,o,f===t?r[6]:Qt(n,f),a,r);break;case 0:var d=c>=0,p=(d?c:~c)>>>3;s.push(p),a=o,(o=Qt(n,p))&&ce(o,d);break;case 5:a=o=Qt(n,c>>>3),ce(o,!1);break;case 4:var v=e[++u],y=e[++u];vi(Qt(n,c>>>3),r,v,y,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case Lr:var g=e[++u],m=e[++u],_=i.createComment(g);a=o,o=Ou(n,r,m,5,_,null),s.push(m),pr(_,r),o.activeCaseIndex=null,he();break;case Dr:var b=e[++u],w=e[++u];a=o,o=Ou(n,r,w,3,i.createElement(b),b),s.push(w);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}}return he(),s}function Tu(t,e,n,r){var i=Qt(t,n),o=Gt(n,e);o&&$i(e[11],o);var a=Yt(e,n);if(Nt(a)){var s=a;0!==i.type&&$i(e[11],s[7])}r&&(i.flags|=64)}function Iu(t,e,n){var r;(function(t,e,n){var r=ae();gu[++mu]=t,ga(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){var o=e.blueprint.length-20;bu=0;var a=ue(),s=le()?a:a&&a.parent,u=s&&s!==t[6]?s.index-20:n,c=0;wu[c]=u;var l=[];if(n>0&&a!==s){var h=a.index-20;le()||(h=~h),l.push(h<<3|0)}var f,d=[],p=[];if(""===r&&Eu(i))l.push(r,ku(o),u<<17|1);else for(var v=function(t,e){if(Eu(e))return pu(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return pu(t.substring(n,r))}(r,i),y=(f=v,f.replace(Mu," ")).split(cu),g=0;g<y.length;g++){var m=y[g];if(1&g)if("/"===m.charAt(0)){if("#"===m.charAt(1)){var _=parseInt(m.substr(2),10);u=wu[--c],l.push(_<<3|5)}}else{var b=parseInt(m.substr(1),10),w="#"===m.charAt(0);l.push((w?b:~b)<<3|0,u<<17|1),w&&(wu[++c]=u=b)}else for(var k=fu(m),C=0;C<k.length;C++)if(1&C){var E=k[C];if("object"!=typeof E)throw new Error('Unable to parse ICU expression in "'.concat(v,'" message.'));var O=ku(o);l.push(Lr,"",O,u<<17|1);var S=yu(E);Du(p,E,O,O);var T=p.length-1;d.push(_u(E.mainBinding),3,-1-E.mainBinding,O<<2|2,T,S,2,O<<2|3,T)}else if(""!==k[C]){var I=k[C],j=I.match(lu),A=ku(o);l.push(j?"":I,A,u<<17|1),j&&ut(vu(I,A),d)}}bu>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(var r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,bu),e.data[n+20]={vars:bu,create:l,update:d,icus:p.length?p:null}}(oe(),r,t,e,n)})(t,e,n),r=oe(),function(t,e){for(var n=gu[mu--],r=t.data[n+20],i=ue(),o=Su(n,r.create,t,e),a=n+1;a<=i.index-20;){-1===o.indexOf(a)&&Tu(t,e,a,!0);var s=Qt(t,a);!s||0!==s.type&&3!==s.type&&4!==s.type||null===s.localNames||(a+=s.localNames.length>>1),a++}}(ae(),r),ga(!1)}function ju(t,e){!function(t,e,n,r){for(var i=ue().index-20,o=[],a=0;a<r.length;a+=2)for(var s=r[a],u=r[a+1].split(hu),c=0;c<u.length;c++){var l=u[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(lu))e.firstCreatePass&&null===e.data[n+20]&&ut(vu(l,i,s),o);else{var h=Qt(e,i);3===h.type&&vi(h,t,s,l,null,null);var f=null!==h.inputs&&h.inputs[s];f&&xi(e,t,f,s,l)}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=o)}(oe(),ae(),t,e)}var Au=0,xu=0;function Pu(t){return Bo(oe(),ye(),t)&&(Au|=1<<xu),xu++,Pu}function Ru(t){if(xu){var e,n=ae(),r=n.data[t+20],i=null;Array.isArray(r)?e=r:(e=r.update,i=r.icus);var o=ve()-xu-1,a=oe();!function t(e,n,r,i,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=!1,c=0;c<e.length;c++){var l=e[c],h=e[++c];if(s||l&i)for(var f="",d=c+1;d<=c+h;d++){var p=e[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=Ye(a[r-p]);else{var v=p>>>2,y=void 0,g=void 0;switch(3&p){case 1:var m=e[++d],_=e[++d];ii(o,Qt(o,v),a,m,f,a[11],_,!1);break;case 0:Pi(a,v,f);break;case 2:if(y=n[e[++d]],null!==(g=Qt(o,v)).activeCaseIndex)for(var b=y.remove[g.activeCaseIndex],w=0;w<b.length;w++){var k=b[w];switch(7&k){case 3:Tu(o,a,k>>>3,!1);break;case 6:var C=Qt(o,b[w+1]>>>3).activeCaseIndex;null!==C&&ut(n[k>>>3].remove[C],b)}}var E=Nu(y,f);g.activeCaseIndex=-1!==E?E:null,E>-1&&(Su(-1,y.create[E],o,a),u=!0);break;case 3:y=n[e[++d]],null!==(g=Qt(o,v)).activeCaseIndex&&t(y.update[g.activeCaseIndex],n,r,i,o,a,u)}}}c+=h}}(e,i,o,Au,n,a),Au=0,xu=0}}function Nu(t,e){var n,r,i,o=t.cases.indexOf(e);if(-1===o)switch(t.type){case 1:var a=(n=e,r=ru(Vu)(parseInt(n,10)),void 0!==(i=au[r])?i:"other");-1===(o=t.cases.indexOf(a))&&"other"!==a&&(o=t.cases.indexOf("other"));break;case 0:o=t.cases.indexOf("other")}return o}function Du(t,e,n,r){for(var i=[],o=[],a=[],s=[],u=[],c=0;c<e.values.length;c++){for(var l=e.values[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}var v=Lu(l.join(""),n,h,t,r);i.push(v.create),o.push(v.remove),a.push(v.update),s.push(v.vars),u.push(v.childIcus)}t.push({type:e.type,vars:s,childIcus:u,cases:e.cases,create:i,remove:o,update:a}),bu+=Math.max.apply(Math,s)}function Lu(t,e,n,r,i){var o=new Un(zt()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,a){if(e){for(var s=[];e;){var u=e.nextSibling,c=a+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:var l=e,h=l.tagName.toLowerCase();if(Zn.hasOwnProperty(h)){n.create.push(Dr,h,c,r<<17|1);for(var f=l.attributes,d=0;d<f.length;d++){var p=f.item(d),v=p.name.toLowerCase();p.value.match(lu)?er.hasOwnProperty(v)&&ut(Jn[v]?vu(p.value,c,p.name,Bn):tr[v]?vu(p.value,c,p.name,Hn):vu(p.value,c,p.name),n.update):n.create.push(c<<3|4,p.name,p.value)}t(e.firstChild,n,c,i,o,a),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var y=e.textContent||"",g=y.match(lu);n.create.push(g?"":y,c,r<<17|1),n.remove.push(c<<3|3),g&&ut(vu(y,c),n.update);break;case Node.COMMENT_NODE:var m=Fu.exec(e.textContent||"");if(m){var _=parseInt(m[1],10);n.create.push(Lr,"",c,r<<17|1),s.push([i[_],c])}else n.vars--;break;default:n.vars--}e=u}for(var b=0;b<s.length;b++){var w=s[b][0],k=s[b][1];Du(o,w,k,a+n.vars);var C=o.length-1;n.vars+=Math.max.apply(Math,_toConsumableArray(o[C].vars)),n.childIcus.push(C);var E=yu(w);n.update.push(_u(w.mainBinding),3,-1-w.mainBinding,k<<2|2,C,E,2,k<<2|3,C),n.remove.push(C<<3|6,k<<3|3)}}}((ur(o)||o).firstChild,a,e,n,r,i),a}var Fu=/\ufffd(\d+)\ufffd/,Mu=/\uE500/g,Vu="en-US";function Uu(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&(Vu=t.toLowerCase().replace(/_/g,"-"))}var qu=new Map,zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Gs(_assertThisInitialized(i));var o=Pt(t),a=t[B]||null;return a&&Uu(a),i._bootstrapComponents=Ze(o.bootstrap),i._r3Injector=ko(t,r,[{provide:at,useValue:_assertThisInitialized(i)},{provide:ys,useValue:i.componentFactoryResolver}],T(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ao.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;return t===Ao||t===at||t===K?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(at),Bu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Pt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(T(e)," vs ").concat(T(e.name)))})(n,qu.get(n),e),qu.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new zu(this.moduleType,t)}}]),n}(st);function Hu(t,e,n,r){return Qu(oe(),pe(),t,e,n,r)}function Wu(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return Ho(t,s,i,o)?zo(t,s+2,a?r.call(a,i,o):r(i,o)):Ku(t,s+2)}(oe(),pe(),t,e,n,r,i)}function Gu(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=Ho(t,e,n,r);return Bo(t,e+2,i)||o}(t,u,i,o,a)?zo(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):Ku(t,u+3)}(oe(),pe(),t,e,n,r,i,o)}function Ku(t,e){var n=t[e];return n===Ir?void 0:n}function Qu(t,e,n,r,i,o){var a=e+n;return Bo(t,a,i)?zo(t,a+1,o?r.call(o,i):r(i)):Ku(t,a+1)}function Yu(t,e){var n,r=ae(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=xt(n.type)),a=J(Yo),s=tn(!1),u=o();return tn(s),J(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,oe(),t,u),u}function Xu(t,e,n){var r=oe(),i=Yt(r,t);return function(t,e){return Vo.isWrapped(e)&&(e=Vo.unwrap(e),t[ve()]=Ir),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Qu(r,pe(),e,i.transform,n,i):i.transform(n))}var $u=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Zu(){return this._results[Fo()]()}var Ju=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new $u,this.length=0;var e=Fo(),n=t.prototype;n[e]||(n[e]=Zu)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),tc=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),ec=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==yc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),nc=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},rc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),ic=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,oc(e,n[r]));else{var i=this.metadata.predicate;i===qs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===gs||r===Bs||r===qs&&0===e.type)this.addMatch(e.index,-2);else{var i=hn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function oc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ac(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?co(gs,t,e):0===t.type?lo(qs,gs,t,e):null}(e,t):-2===n?function(t,e,n){return n===gs?co(gs,e,t):n===qs?lo(qs,gs,e,t):n===Bs?ho(Bs,gs,e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function sc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:ac(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function uc(t){var e=oe(),n=ae(),r=we();ke(r+1);var i=yc(n,r);if(t.dirty&&Zt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=sc(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):sc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function cc(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&(vc(t,new nc(n,r,!0,i),-1),t.staticViewQueries=!0),pc(t,e)}(ae(),oe(),t,e,n)}function lc(t,e,n,r){fc(ae(),oe(),e,n,r,!1,ue(),t)}function hc(t,e,n,r){fc(ae(),oe(),e,n,r,!0,ue(),t)}function fc(t,e,n,r,i,o,a,s){t.firstCreatePass&&(vc(t,new nc(n,r,o,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),pc(t,e)}function dc(){return t=oe(),e=we(),t[19].queries[e].queryList;var t,e}function pc(t,e){var n=new Ju;!function(t,e,n,r){var i=Ti(e);i.push(n),t.firstCreatePass&&Ii(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ec),e[19].queries.push(new tc(n))}function vc(t,e,n){null===t.queries&&(t.queries=new rc),t.queries.track(new ic(e,n))}function yc(t,e){return t.queries.getByIndex(e)}function gc(t,e){return lo(qs,gs,t,e)}function mc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Default,e=fo(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var _c=new G("Application Initializer"),bc=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();aa(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(_c,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),wc=new G("AppId"),kc={provide:wc,useFactory:function(){return"".concat(Cc()).concat(Cc()).concat(Cc())},deps:[]};function Cc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ec=new G("Platform Initializer"),Oc=new G("Platform ID"),Sc=new G("appBootstrapListener"),Tc=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Ic=new G("LocaleId"),jc=new G("DefaultCurrencyCode"),Ac=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},xc=function(t){return new Bu(t)},Pc=xc,Rc=function(t){return Promise.resolve(xc(t))},Nc=function(t){var e=xc(t),n=Ze(Pt(t).declarations).reduce((function(t,e){var n=At(e);return n&&t.push(new Ys(n)),t}),[]);return new Ac(e,n)},Dc=Nc,Lc=function(t){return Promise.resolve(Nc(t))},Fc=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Pc,this.compileModuleAsync=Rc,this.compileModuleAndAllComponentsSync=Dc,this.compileModuleAndAllComponentsAsync=Lc}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Mc=new G("compilerOptions"),Vc=Promise.resolve(0);function Uc(t){"undefined"==typeof Zone?Vc.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var qc=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $u(!1),this.onMicrotaskEmpty=new $u(!1),this.onStable=new $u(!1),this.onError=new $u(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,(function(){t.lastRequestAnimationFrameId=-1,Wc(t),Hc(t)})),Wc(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return Gc(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Kc(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return Gc(n),t.invoke(r,i,o,a,s)}finally{Kc(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Wc(n),Hc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Bc,zc,zc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function zc(){}var Bc={};function Hc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Wc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Gc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kc(t){t._nesting--,Hc(t)}var Qc=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $u,this.onMicrotaskEmpty=new $u,this.onStable=new $u,this.onError=new $u}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Yc=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){qc.assertNotInAngularZone(),Uc((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Uc((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(qc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}(),Xc=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Jc.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Jc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function $c(t){Jc=t}var Zc,Jc=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),tl=function(t,e,n){var r=t.get(Mc,[]).concat(e),i=new Bu(n);if(0===Po.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=M.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=Ao.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(No))}return e}return Po.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){Ro.delete(t)}(n)}));e.push(u)})),Po=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},el=new G("AllowMultipleToken"),nl=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function rl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new G(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=il();if(!o||o.injector.get(el,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:yo,useValue:"platform"});!function(t){if(Zc&&!Zc.destroyed&&!Zc.injector.get(el,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zc=t.get(ol);var e=t.get(Ec,null);e&&e.forEach((function(t){return t()}))}(Ao.create({providers:a,name:r}))}return function(t){var e=il();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function il(){return Zc&&!Zc.destroyed?Zc:null}var ol=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Qc:("zone.js"===n?void 0:n)||new qc({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:r})),a=[{provide:qc,useValue:o}];return o.run((function(){var e=Ao.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return ul(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(bc)).runInitializers(),a.donePromise.then((function(){return Uu(n.injector.get(Ic,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return aa(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=al({},n);return tl(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(sl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(T(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(Ao))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function al(t,e){return Array.isArray(e)?e.reduce(al,t):Object.assign(Object.assign({},t),e)}var sl=function(){var t=function(){function t(e,n,r,i,u,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){qc.assertNotInAngularZone(),Uc((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){qc.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe(Object(s.a)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(at),o=n.create(Ao.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Yc,null);return a&&o.injector.get(Xc).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;ul(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sc,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),ul(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(qc),et(Tc),et(Ao),et(wn),et(ys),et(bc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function ul(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var cl=function t(){_classCallCheck(this,t)},ll=function t(){_classCallCheck(this,t)},hl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},fl=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||hl}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return dl(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return dl(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(et(Fc),et(ll,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t}();function dl(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var pl=function(t){return null},vl=rl(null,"core",[{provide:Oc,useValue:"unknown"},{provide:ol,deps:[Ao]},{provide:Xc,deps:[]},{provide:Tc,deps:[]}]),yl=[{provide:sl,useClass:sl,deps:[qc,Tc,Ao,wn,ys,bc]},{provide:Qs,deps:[qc],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:bc,useClass:bc,deps:[[new h,_c]]},{provide:Fc,useClass:Fc,deps:[]},kc,{provide:Ls,useFactory:function(){return Vs},deps:[]},{provide:Fs,useFactory:function(){return Us},deps:[]},{provide:Ic,useFactory:function(t){return Uu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Ic),new h,new d]]},{provide:jc,useValue:"USD"}],gl=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Ot({type:t}),t.\u0275inj=m({factory:function(e){return new(e||t)(et(sl))},providers:yl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),u=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return v}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function s(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(s())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return s().indexOf("Electron/")>=0}function p(){var t=s();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return s().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new y(i,s,r);return u},t}();function m(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.O("6.1.3");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function E(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var O={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,u.z,[new u.A,_]]},S=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",b.full,e.toString()),c.a.registerVersion("angular",u.N.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:_,useValue:n}]}}}]),t}();return t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({factory:function(e){return new(e||t)(u.dc(u.B))},providers:[O]}),t}()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i.a,u._tapError=i.a,u._tapComplete=i.a,u._tapError=a||i.a,u._tapComplete=s||i.a,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.a,u._tapError=r.error||i.a,u._tapComplete=r.complete||i.a),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(t){return t.lift(new c(t))}}var u,c=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(t){return s()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(s){var u,c,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&Object(a.f)(d,s.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(s)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m=p;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(m),e.a=m},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyBLUy27luGNg_vs9o4Qw1HqzuAqRQePHMU",authDomain:"invisiblefriend-fcbe4.firebaseapp.com",projectId:"invisiblefriend-fcbe4",storageBucket:"invisiblefriend-fcbe4.appspot.com",messagingSenderId:"286563631036",appId:"1:286563631036:web:8f64c7fa595ebaa5a8f5b9"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Mb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.dc)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.dc(u))},h.\u0275prov=Object(r.Mb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.dc)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var _,b=((_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275prov=Object(r.Mb)({factory:w,token:_,providedIn:"root"}),_);function w(t){var e=Object(r.dc)(u).location;return new S(Object(r.dc)(c),e&&e.origin||"")}var k,C,E,O=new r.q("appBaseHref"),S=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||E)(r.dc(c),r.dc(O,8))},E.\u0275prov=r.Mb({token:E,factory:E.\u0275fac}),E),T=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(t){return new(t||C)(r.dc(c),r.dc(O,8))},C.\u0275prov=r.Mb({token:C,factory:C.\u0275fac}),C),I=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(A(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,A(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.dc(b),r.dc(c))},k.normalizeQueryParams=m,k.joinWithSlash=y,k.stripTrailingSlash=g,k.\u0275prov=Object(r.Mb)({factory:j,token:k,providedIn:"root"}),k);function j(){return new I(Object(r.dc)(b),Object(r.dc)(c))}function A(t){return t.replace(/\/index.html$/,"")}var x,P,R=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),N=r.ob,D=function t(){_classCallCheck(this,t)},L=((P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(N(e||this.locale)(t)){case R.Zero:return"zero";case R.One:return"one";case R.Two:return"two";case R.Few:return"few";case R.Many:return"many";default:return"other"}}}]),n}(D)).\u0275fac=function(t){return new(t||P)(r.dc(r.u))},P.\u0275prov=r.Mb({token:P,factory:P.\u0275fac}),P),F=((x=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){V("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){V("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||x)(r.Qb(r.P),r.Qb(r.L))},x.\u0275dir=r.Lb({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),x),M=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function V(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.xb)(e),"'."))}var U,q,z,B,H,W,G=((q=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:q}),q.\u0275inj=r.Nb({factory:function(t){return new(t||q)},providers:[{provide:D,useClass:L}]}),q),K=((U=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Mb)({token:U,providedIn:"root",factory:function(){return new Q(Object(r.dc)(u),window,Object(r.dc)(r.m))}}),U),Q=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(Fg){return!1}}}]),t}(),Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=X||(X=document.querySelector("base"))?X.getAttribute("href"):null;return null==n?null:(e=n,z||(z=document.createElement("a")),z.setAttribute("href",e),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname)}},{key:"resetBaseElement",value:function(){X=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),X=null,$=new r.q("TRANSITION_ID"),Z=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[$,u,r.r],multi:!0}],J=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push((function(t){var e=r.qb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.Y)(new t)}}]),t}(),tt=new r.q("EventManagerPlugins"),et=((B=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||B)(r.dc(tt),r.dc(r.z))},B.\u0275prov=r.Mb({token:B,factory:B.\u0275fac}),B),nt=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),rt=((W=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||W)},W.\u0275prov=r.Mb({token:W,factory:W.\u0275fac}),W),it=((H=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(rt)).\u0275fac=function(t){return new(t||H)(r.dc(u))},H.\u0275prov=r.Mb({token:H,factory:H.\u0275fac}),H),ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function st(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?st(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ut(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ct,lt,ht,ft,dt=((ct=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.Q.Native:case r.Q.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ct)(r.dc(et),r.dc(it),r.dc(r.c))},ct.\u0275prov=r.Mb({token:ct,factory:ct.\u0275fac}),ct),pt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}]),t}(),vt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=st(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(at,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(at,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(pt),yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.Q.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=st(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(pt),gt=((lt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(nt)).\u0275fac=function(t){return new(t||lt)(r.dc(u))},lt.\u0275prov=r.Mb({token:lt,factory:lt.\u0275fac}),lt),mt=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},kt=((ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(mt.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bt.hasOwnProperty(e)&&(e=bt[e]))}return _t[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),mt.forEach((function(r){r!=n&&(0,wt[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(nt)).\u0275fac=function(t){return new(t||ht)(r.dc(u))},ht.\u0275prov=r.Mb({token:ht,factory:ht.\u0275fac}),ht),Ct=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Y.makeCurrent(),J.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],Et=Object(r.S)(r.X,"browser",Ct),Ot=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:tt,useClass:gt,multi:!0,deps:[u,r.z,r.B]},{provide:tt,useClass:kt,multi:!0,deps:[u]},[],{provide:dt,useClass:dt,deps:[et,it,r.c]},{provide:r.F,useExisting:dt},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[u]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:et,useClass:et,deps:[tt,r.z]},[]],St=((ft=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$,useExisting:r.c},Z]}}}]),t}()).\u0275mod=r.Ob({type:ft}),ft.\u0275inj=r.Nb({factory:function(t){return new(t||ft)(r.dc(ft,12))},providers:Ot,imports:[G,r.f]}),ft);"undefined"!=typeof window&&window;var Tt=n("LRne"),It=n("Cfvw"),jt=n("XNiG"),At=n("9ppp"),xt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(jt.a),Pt=n("HDdC"),Rt=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Nt=n("z+Ro"),Dt=n("DH7j"),Lt=n("l7GE"),Ft=n("ZUHj"),Mt=n("yCtX"),Vt={},Ut=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qt(t,this.resultSelector))}}]),t}(),qt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(Vt),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Ft.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Vt?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Lt.a),zt=n("EY2u");function Bt(t){return new Pt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(It.a)(n):Object(zt.b)()).subscribe(e)}))}var Ht=n("lJxs"),Wt=n("bHdf");function Gt(){return Object(Wt.a)(1)}var Kt=n("7o/Q");function Qt(t,e){return function(n){return n.lift(new Yt(t,e))}}var Yt=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xt(t,this.predicate,this.thisArg))}}]),t}(),Xt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Kt.a),$t=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Zt(t){return function(e){return 0===t?Object(zt.b)():e.lift(new Jt(t))}}var Jt=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new $t}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new te(t,this.total))}}]),t}(),te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Kt.a);function ee(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return function(e){return e.lift(new ne(t))}}var ne=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new re(t,this.errorFactory))}}]),t}(),re=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(Kt.a);function ie(){return new Rt}function oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new ae(t))}}var ae=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new se(t,this.defaultValue))}}]),t}(),se=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Kt.a),ue=n("SpAZ");function ce(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Qt((function(e,n){return t(e,n,r)})):ue.a,Zt(1),n?oe(e):ee((function(){return new Rt})))}}var le=n("51Dv");function he(t){return function(e){var n=new fe(t),r=e.lift(n);return n.caught=r}}var fe=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new de(t,this.selector,this.caught))}}]),t}(),de=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new le.a(this,void 0,void 0);this.add(r);var i=Object(Ft.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Lt.a);function pe(t){return function(e){return 0===t?Object(zt.b)():e.lift(new ve(t))}}var ve=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new $t}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ye(t,this.total))}}]),t}(),ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Kt.a);function ge(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Qt((function(e,n){return t(e,n,r)})):ue.a,pe(1),n?oe(e):ee((function(){return new Rt})))}}var me=n("5+tZ"),_e=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new be(t,this.predicate,this.thisArg,this.source))}}]),t}(),be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Kt.a);function we(t,e){return"function"==typeof e?function(n){return n.pipe(we((function(n,r){return Object(It.a)(t(n,r)).pipe(Object(Ht.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new ke(t))}}var ke=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ce(t,this.project))}}]),t}(),Ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new le.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Ft.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Lt.a);function Ee(){return Gt()(Object(Tt.a).apply(void 0,arguments))}function Oe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Nt.a)(r)?(e.pop(),function(t){return Ee(e,t,r)}):function(t){return Ee(e,t)}}function Se(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Te(t,e,n))}}var Te=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ie(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ie=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(Kt.a);function je(t,e){return Object(me.a)(t,e,1)}var Ae,xe=n("mCNh"),Pe=n("vkgz"),Re=n("quSY"),Ne=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new De(t,this.callback))}}]),t}(),De=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Re.a(r)),i}return n}(Kt.a),Le=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Fe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Le),Me=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Le),Ve=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Le),Ue=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Le),qe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Le),ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Le),Be=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Le),He=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Le),We=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Le),Ge=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Ke=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Qe=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ye=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Xe=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$e=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ze=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Je=((Ae=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Ae)},Ae.\u0275cmp=r.Kb({type:Ae,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:function(){return[ii]},encapsulation:2}),Ae),tn=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function en(t){return new tn(t)}function nn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function rn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var on=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function an(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];sn(r,un(e,r))}}function sn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&an(t.children,e)}function un(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function cn(t){var e=t.children&&t.children.map(cn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Je),n}function ln(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!hn(t[n=r[o]],e[n]))return!1;return!0}function hn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function fn(t){return Array.prototype.concat.apply([],t)}function dn(t){return t.length>0?t[t.length-1]:null}function pn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function vn(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(It.a)(Promise.resolve(t)):Object(Tt.a)(t)}function yn(t,e,n){return n?function(t,e){return ln(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!bn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return hn(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!bn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!bn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!bn(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var gn=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return En.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}}]),t}(),mn=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,pn(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return On(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),_n=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return xn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}}]),t}();function bn(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function wn(t,e){var n=[];return pn(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),pn(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var kn=function t(){_classCallCheck(this,t)},Cn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Ln(t);return new gn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return On(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return pn(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=wn(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(On(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(Tn(t),"=").concat(Tn(e))})).join("&"):"".concat(Tn(t),"=").concat(Tn(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),En=new Cn;function On(t){return t.segments.map((function(t){return xn(t)})).join("/")}function Sn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tn(t){return Sn(t).replace(/%3B/gi,";")}function In(t){return Sn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(t){return decodeURIComponent(t)}function An(t){return jn(t.replace(/\+/g,"%20"))}function xn(t){return"".concat(In(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(In(t),"=").concat(In(e[t]))})).join("")));var e}var Pn=/^[^\/()?;=#]+/;function Rn(t){var e=t.match(Pn);return e?e[0]:""}var Nn=/^[^=?&#]+/,Dn=/^[^?&#]+/,Ln=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mn(t,e)),n}},{key:"parseSegment",value:function(){var t=Rn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new _n(jn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Rn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Rn(this.remaining);r&&(n=r,this.capture(n))}t[jn(e)]=jn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Nn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Dn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=An(e),o=An(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Rn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new mn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Fn=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Mn(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Vn(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Vn(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Mn(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Mn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Vn(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=Vn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Un=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function qn(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var zn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Qn(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Fn);function Bn(t,e){var n=function(t,e){var n=new Gn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Kn("",new Un(n,[]))}(t,e),r=new xt([new _n("",{})]),i=new xt({}),o=new xt({}),a=new xt({}),s=new xt(""),u=new Hn(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new zn(new Un(u,[]),n)}var Hn=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ht.a)((function(t){return en(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ht.a)((function(t){return en(t)})))),this._queryParamMap}}]),t}();function Wn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Gn=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}}]),t}(),Kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Qn(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Yn(this._root)}}]),n}(Fn);function Qn(t,e){e.value._routerState=t,e.children.forEach((function(e){return Qn(t,e)}))}function Yn(t){var e=t.children.length>0?" { ".concat(t.children.map(Yn).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Xn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ln(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ln(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $n(t,e){return ln(t.params,e.params)&&function(t,e){return bn(t,e)&&t.every((function(t,n){return ln(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$n(t.parent,e.parent))}function Zn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jn(t,e,n,r,i){var o={};return r&&pn(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new gn(n.root===t?e:function t(e,n,r){var i={};return pn(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new mn(e.segments,i)}(n.root,t,e),o,i)}var tr=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zn(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==dn(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),er=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function nr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function rr(t,e,n){if(t||(t=new mn([],{})),0===t.segments.length&&t.hasChildren())return ir(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=nr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ur(s,u,a))return o;r+=2}else{if(!ur(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new mn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new mn(t.segments.slice(r.pathIndex),t.children),ir(o,0,i)}return r.match&&0===i.length?new mn(t.segments,{}):r.match&&!t.hasChildren()?or(t,e,n):r.match?ir(t,0,i):or(t,e,n)}function ir(t,e,n){if(0===n.length)return new mn(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return pn(r,(function(n,r){null!==n&&(i[r]=rr(t.children[r],e,n))})),pn(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new mn(t.segments,i)}function or(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=ar(n[i].outlets);return new mn(r,o)}if(0===i&&Zn(n[0]))r.push(new _n(t.segments[e].path,n[0])),i++;else{var a=nr(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Zn(s)?(r.push(new _n(a,sr(s))),i+=2):(r.push(new _n(a,{})),i++)}}return new mn(r,{})}function ar(t){var e={};return pn(t,(function(t,n){null!==t&&(e[n]=or(new mn([],{}),0,t))})),e}function sr(t){var e={};return pn(t,(function(t,n){return e[n]=""+t})),e}function ur(t,e,n){return t==n.path&&ln(e,n.parameters)}var cr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xn(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=qn(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),pn(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=qn(t),o=t.value.component?r.children:e;pn(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=qn(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new $e(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Ye(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Xn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),lr(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function lr(t){Xn(t.value),t.children.forEach(lr)}function hr(t){return"function"==typeof t}function fr(t){return t instanceof gn}var dr=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},pr=function t(e){_classCallCheck(this,t),this.urlTree=e};function vr(t){return new Pt.a((function(e){return e.error(new dr(t))}))}function yr(t){return new Pt.a((function(e){return e.error(new pr(t))}))}function gr(t){return new Pt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var mr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Ht.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(he((function(e){if(e instanceof pr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof dr)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Ht.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(he((function(t){if(t instanceof dr)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new mn([],{primary:t}):t;return new gn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ht.a)((function(t){return new mn([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Tt.a)({});var o=[],a=[],s={};return pn(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(Ht.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Tt.a.apply(null,o.concat(a)).pipe(Gt(),ce(),Object(Ht.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Tt.a).apply(void 0,_toConsumableArray(n)).pipe(Object(Ht.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(he((function(t){if(t instanceof dr)return Object(Tt.a)(null);throw t})))})),Gt(),ge((function(t){return!!t})),he((function(t,n){if(t instanceof Rt||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Tt.a)(new mn([],{}));throw new dr(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return kr(r)!==o?vr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(o):this.lineralizeSegments(n,o).pipe(Object(me.a)((function(n){var o=new mn(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=_r(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return vr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?yr(f):this.lineralizeSegments(r,f).pipe(Object(me.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ht.a)((function(t){return n._loadedConfig=t,new mn(r,{})}))):Object(Tt.a)(new mn(r,{}));var o=_r(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return vr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(me.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return wr(t,e,n)&&"primary"!==kr(n)}))}(t,n,r)?{segmentGroup:br(new mn(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==kr(o)&&(n[kr(o)]=new mn([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new mn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return wr(t,e,n)}))}(t,n,r)?{segmentGroup:br(new mn(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;wr(t,e,s)&&!r[kr(s)]&&(o[kr(s)]=new mn([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(Ht.a)((function(t){return new mn(s,t)}))):0===r.length&&0===u.length?Object(Tt.a)(new mn(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(Ht.a)((function(t){return new mn(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Tt.a)(new on(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Tt.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(It.a)(i).pipe(Object(Ht.a)((function(r){var i,o=t.get(r);if(function(t){return t&&hr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!hr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return vn(i)}))).pipe(Gt(),(r=function(t){return!0===t},function(t){return t.lift(new _e(r,void 0,t))})):Object(Tt.a)(!0)}(t.injector,e,n).pipe(Object(me.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(Ht.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Pt.a((function(e){return e.error(nn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Tt.a)(new on([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Tt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return gr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new gn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return pn(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return pn(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new mn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function _r(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||rn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function br(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new mn(t.segments.concat(e.segments),e.children)}return t}function wr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function kr(t){return t.outlet||"primary"}var Cr=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Er=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Or(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Sr(t,e,n){var r=qn(t),i=t.value;pn(r,(function(t,r){Sr(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Er(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Tr=Symbol("INITIAL_VALUE");function Ir(){return we((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Nt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Dt.a)(e[0])&&(e=e[0]),Object(Mt.a)(e,i).lift(new Ut(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(pe(1),Oe(Tr))})))).pipe(Se((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Tr)return t;if(r===Tr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||fr(r))return r}return t}),t)}),Tr),Qt((function(t){return t!==Tr})),Object(Ht.a)((function(t){return fr(t)?t:!0===t})),pe(1))}))}function jr(t,e){return null!==t&&e&&e(new Xe(t)),Object(Tt.a)(!0)}function Ar(t,e){return null!==t&&e&&e(new Qe(t)),Object(Tt.a)(!0)}function xr(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Tt.a)(!0);var i=r.map((function(r){return Bt((function(){var i,o=Or(r,e,n);if(function(t){return t&&hr(t.canActivate)}(o))i=vn(o.canActivate(e,t));else{if(!hr(o))throw new Error("Invalid CanActivate guard");i=vn(o(e,t))}return i.pipe(ge())}))}));return Object(Tt.a)(i).pipe(Ir())}function Pr(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Bt((function(){var i=e.guards.map((function(i){var o,a=Or(i,e.node,n);if(function(t){return t&&hr(t.canActivateChild)}(a))o=vn(a.canActivateChild(r,t));else{if(!hr(a))throw new Error("Invalid CanActivateChild guard");o=vn(a(r,t))}return o.pipe(ge())}));return Object(Tt.a)(i).pipe(Ir())}))}));return Object(Tt.a)(i).pipe(Ir())}var Rr=function t(){_classCallCheck(this,t)},Nr=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Fr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Gn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Un(n,e),i=new Kn(this.url,r);return this.inheritParamsAndData(i._root),Object(Tt.a)(i)}catch(o){return new Pt.a((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Wn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=wn(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof Rr))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rr}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Rr;if((t.outlet||"primary")!==r)throw new Rr;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?dn(n).parameters:{};i=new Gn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+n.length,qr(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rr;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||rn)(n,t,e);if(!r)throw new Rr;var i={};pn(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Gn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+o.length,qr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Fr(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Un(i,d)]}if(0===c.length&&0===f.length)return[new Un(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Un(i,p)]}}]),t}();function Dr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Mr(t,e,n)&&"primary"!==Vr(n)}))}(t,n,r)){var o=new mn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Vr(s)){var u=new mn([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Vr(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new mn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Mr(t,e,n)}))}(t,n,r)){var a=new mn(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Mr(t,n,c)&&!i[Vr(c)]){var l=new mn([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Vr(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new mn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Mr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Vr(t){return t.outlet||"primary"}function Ur(t){return t.data||{}}function qr(t){return t.resolve||{}}function zr(t,e,n,r){var i=Or(t,e,r);return vn(i.resolve?i.resolve(e,n):i(e,n))}function Br(t){return function(e){return e.pipe(we((function(e){var n=t(e);return n?Object(It.a)(n).pipe(Object(Ht.a)((function(){return e}))):Object(It.a)([e])})))}}var Hr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Wr=new r.q("ROUTES"),Gr=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ht.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new on(fn(i.injector.get(Wr)).map(cn),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(It.a)(this.loader.load(t)):vn(t()).pipe(Object(me.a)((function(t){return t instanceof r.v?Object(Tt.a)(t):Object(It.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),Kr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Qr(t){throw t}function Yr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(Tt.a)(null)}var $r,Zr,Jr,ti,ei=(($r=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new jt.a,this.errorHandler=Qr,this.malformedUriErrorHandler=Yr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Hr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.Z);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new gn(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gr(s,u,(function(t){return l.triggerEvent(new Ge(t))}),(function(t){return l.triggerEvent(new Ke(t))})),this.routerState=Bn(this.currentUrlTree,this.rootComponentType),this.transitions=new xt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Qt((function(t){return 0!==t.id})),Object(Ht.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),we((function(t){var r,i,o,a,s=!1,u=!1;return Object(Tt.a)(t).pipe(Object(Pe.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),we((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Tt.a)(t).pipe(we((function(t){var r=e.transitions.getValue();return n.next(new Fe(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?zt.a:[t]})),we((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(we((function(t){return function(t,e,n,r,i){return new mr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(Ht.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Pe.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(me.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Nr(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(Ht.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Pe.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Pe.a)((function(t){var r=new qe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Fe(u,e.serializeUrl(c),l,h);n.next(d);var p=Bn(c,e.rootComponentType).snapshot;return Object(Tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),zt.a})),Br((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Pe.a)((function(t){var n=new ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(Ht.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=qn(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bn(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$n(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!$n(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Cr(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Er(u&&u.outlet&&u.outlet.component||null,s))}else s&&Sr(n,u,o),o.canActivateChecks.push(new Cr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),pn(a,(function(t,e){return Sr(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(me.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(It.a)(t).pipe(Object(me.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Tt.a)(!0);var a=o.map((function(o){var a,s=Or(o,e,i);if(function(t){return t&&hr(t.canDeactivate)}(s))a=vn(s.canDeactivate(t,e,n,r));else{if(!hr(s))throw new Error("Invalid CanDeactivate guard");a=vn(s(t,e,n,r))}return a.pipe(ge())}));return Object(Tt.a)(a).pipe(Ir())}(t.component,t.route,n,e,r)})),ge((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(me.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(It.a)(e).pipe(je((function(e){return Object(It.a)([Ar(e.route.parent,r),jr(e.route,r),Pr(t,e.path,n),xr(t,e.route,n)]).pipe(Gt(),ge((function(t){return!0!==t}),!0))})),ge((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Tt.a)(n)})),Object(Ht.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Pe.a)((function(t){if(fr(t.guardsResult)){var n=nn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Pe.a)((function(t){var n=new Be(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Qt((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Ve(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Br((function(t){if(t.guards.canActivateChecks.length)return Object(Tt.a)(t).pipe(Object(Pe.a)((function(t){var n=new He(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(me.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(It.a)(i).pipe(je((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Tt.a)({});if(1===i.length){var o=i[0];return zr(t[o],e,n,r).pipe(Object(Ht.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(It.a)(i).pipe(Object(me.a)((function(i){return zr(t[i],e,n,r).pipe(Object(Ht.a)((function(t){return a[i]=t,t})))}))).pipe(ce(),Object(Ht.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(Ht.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wn(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(xe.a)(Se(t,e),Zt(1),oe(e))(n)}:function(e){return Object(xe.a)(Se((function(e,n,r){return t(e,n,r+1)})),Zt(1))(e)}}((function(t,e){return t})),Object(Ht.a)((function(e){return t}))):Object(Tt.a)(t)})))}),Object(Pe.a)((function(t){var n=new We(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Br((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Ht.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new Un(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new Hn(new xt((u=n.value).url),new xt(u.params),new xt(u.queryParams),new xt(u.fragment),new xt(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new Un(c,l)}(t,e._root,n?n._root:void 0);return new zn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Pe.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Ht.a)((function(t){return new cr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Pe.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Ve(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Ne(r))}),he((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=fr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Ve(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ue(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return zt.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){an(t),this.config=t.map(cn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.W)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Jn(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new tr(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return pn(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new tr(n,e,r)}(n);if(o.toRoot())return Jn(e.root,new mn([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new er(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new er(n.snapshot._urlSegment,!0,0);var r=Zn(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new er(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?ir(a.segmentGroup,a.index,o.commands):rr(a.segmentGroup,a.index,o.commands);return Jn(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=fr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(fr(t))return yn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return yn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Me(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.gc()},$r.\u0275dir=r.Lb({type:$r}),$r),ni=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new ri,this.attachRef=null},ri=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ni,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ii=((Zr=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new oi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Zr)(r.Qb(ri),r.Qb(r.P),r.Qb(r.j),r.ec("name"),r.Qb(r.h))},Zr.\u0275dir=r.Lb({type:Zr,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Zr),oi=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===Hn?this.route:t===ri?this.childContexts:this.parent.get(t,e)}}]),t}(),ai=function t(){_classCallCheck(this,t)},si=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Tt.a)(null)}}]),t}(),ui=((ti=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Gr(n,r,(function(t){return e.triggerEvent(new Ge(t))}),(function(t){return e.triggerEvent(new Ke(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Qt((function(t){return t instanceof Me})),je((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(It.a)(r).pipe(Object(Wt.a)(),Object(Ht.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(me.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||ti)(r.dc(ei),r.dc(r.w),r.dc(r.i),r.dc(r.r),r.dc(ai))},ti.\u0275prov=r.Mb({token:ti,factory:ti.\u0275fac}),ti),ci=((Jr=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Fe?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Me&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Ze&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.gc()},Jr.\u0275dir=r.Lb({type:Jr}),Jr),li=new r.q("ROUTER_CONFIGURATION"),hi=new r.q("ROUTER_FORROOT_GUARD"),fi=[I,{provide:kn,useClass:Cn},{provide:ei,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ei(null,t,e,n,r,i,o,fn(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[kn,ri,I,r.r,r.w,r.i,Wr,li,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},ri,{provide:Hn,useFactory:function(t){return t.routerState.root},deps:[ei]},{provide:r.w,useClass:r.K},ui,si,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(he((function(){return Object(Tt.a)(null)})))}}]),t}(),{provide:li,useValue:{enableTracing:!1}}];function di(){return new r.y("Router",ei)}var pi,vi=((pi=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[fi,_i(e),{provide:hi,useFactory:mi,deps:[[ei,new r.A,new r.J]]},{provide:li,useValue:n||{}},{provide:b,useFactory:gi,deps:[c,[new r.p(O),new r.A],li]},{provide:ci,useFactory:yi,deps:[ei,K,li]},{provide:ai,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:si},{provide:r.y,multi:!0,useFactory:di},[wi,{provide:r.d,multi:!0,useFactory:ki,deps:[wi]},{provide:Oi,useFactory:Ci,deps:[wi]},{provide:r.b,multi:!0,useExisting:Oi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[_i(e)]}}}]),t}()).\u0275mod=r.Ob({type:pi}),pi.\u0275inj=r.Nb({factory:function(t){return new(t||pi)(r.dc(hi,8),r.dc(ei,8))}}),pi);function yi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ci(t,e,n)}function gi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(t,e):new S(t,e)}function mi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _i(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Wr,multi:!0,useValue:t}]}var bi,wi=((bi=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new jt.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(ei),i=t.injector.get(li);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Tt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(li),n=this.injector.get(ui),i=this.injector.get(ci),o=this.injector.get(ei),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||bi)(r.dc(r.r))},bi.\u0275prov=r.Mb({token:bi,factory:bi.\u0275fac}),bi);function ki(t){return t.appInitializer.bind(t)}function Ci(t){return t.bootstrapListener.bind(t)}var Ei,Oi=new r.q("Router Initializer"),Si=[],Ti=((Ei=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:Ei}),Ei.\u0275inj=r.Nb({factory:function(t){return new(t||Ei)},imports:[[vi.forRoot(Si)],vi]}),Ei),Ii=function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.name=n,this.assigned=r,this.picture=i},ji=n("D0XW");function Ai(){return function(t){return t.lift(new xi)}}var xi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pi(t))}}]),t}(),Pi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Kt.a),Ri=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ni(t,this.compare,this.keySelector))}}]),t}(),Ni=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Kt.a),Di=n("pxpQ"),Li=n("spgP"),Fi=n("Jgta"),Mi=n("mrSG"),Vi=n("zIRd"),Ui=n("q/0M"),qi=n("qOnz"),zi=function(t,e){return(zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Bi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hi,Wi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gi=Gi||{},Ki=Wi||self;function Qi(){}function Yi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $i="closure_uid_"+(1e9*Math.random()>>>0),Zi=0;function Ji(t,e,n){return t.call.apply(t.bind,arguments)}function to(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function eo(t,e,n){return(eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ji:to).apply(null,arguments)}function no(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ro(){return Date.now()}function io(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function oo(){this.j=this.j,this.i=this.i}oo.prototype.j=!1,oo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,$i)&&t[$i]||(t[$i]=++Zi)}(this)},oo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ao=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},so=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function uo(t){return Array.prototype.concat.apply([],arguments)}function co(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function lo(t){return/^[\s\xa0]*$/.test(t)}var ho,fo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function po(t,e){return-1!=t.indexOf(e)}function vo(t,e){return t<e?-1:t>e?1:0}t:{var yo=Ki.navigator;if(yo){var go=yo.userAgent;if(go){ho=go;break t}}ho=""}function mo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _o(t){var e={};for(var n in t)e[n]=t[n];return e}var bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<bo.length;o++)n=bo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ko(t){return ko[" "](t),t}ko[" "]=Qi;var Co,Eo,Oo=po(ho,"Opera"),So=po(ho,"Trident")||po(ho,"MSIE"),To=po(ho,"Edge"),Io=To||So,jo=po(ho,"Gecko")&&!(po(ho.toLowerCase(),"webkit")&&!po(ho,"Edge"))&&!(po(ho,"Trident")||po(ho,"MSIE"))&&!po(ho,"Edge"),Ao=po(ho.toLowerCase(),"webkit")&&!po(ho,"Edge");function xo(){var t=Ki.document;return t?t.documentMode:void 0}t:{var Po="",Ro=(Eo=ho,jo?/rv:([^\);]+)(\)|;)/.exec(Eo):To?/Edge\/([\d\.]+)/.exec(Eo):So?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Eo):Ao?/WebKit\/(\S+)/.exec(Eo):Oo?/(?:Version)[ \/]?(\S+)/.exec(Eo):void 0);if(Ro&&(Po=Ro?Ro[1]:""),So){var No=xo();if(null!=No&&No>parseFloat(Po)){Co=String(No);break t}}Co=Po}var Do={};function Lo(t){return function(t,e){var n=Do;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=fo(String(Co)).split("."),r=fo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=vo(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||vo(0==a[2].length,0==s[2].length)||vo(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var Fo=Ki.document&&So&&(xo()||parseInt(Co,10))||void 0,Mo=!So||9<=Number(Fo),Vo=So&&!Lo("9"),Uo=function(){if(!Ki.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ki.addEventListener("test",Qi,e),Ki.removeEventListener("test",Qi,e)}catch(n){}return t}();function qo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function zo(t,e){if(qo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jo){t:{try{ko(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}qo.prototype.b=function(){this.defaultPrevented=!0},io(zo,qo);var Bo={2:"touch",3:"pen",4:"mouse"};zo.prototype.b=function(){zo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ho="closure_listenable_"+(1e6*Math.random()|0),Wo=0;function Go(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Wo,this.Y=this.Z=!1}function Ko(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qo(t){this.src=t,this.a={},this.b=0}function Yo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ao(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ko(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Xo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Qo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Xo(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new Go(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var $o="closure_lm_"+(1e6*Math.random()|0),Zo={};function Jo(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=sa(r),e&&e[Ho]?e.wa(n,r,Xi(i)?!!i.capture:!!i,o):ta(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jo(t,e[o],n,r,i);return null}return n=sa(n),t&&t[Ho]?t.va(e,n,Xi(r)?!!r.capture:!!r,i):ta(t,e,n,!1,r,i)}function ta(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Xi(i)?!!i.capture:!!i;if(a&&!Mo)return null;var s=oa(t);if(s||(t[$o]=s=new Qo(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=ia,e=Mo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Uo||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(na(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ea(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ho])Yo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(na(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oa(e))?(Yo(n,t),0==n.b&&(n.src=null,e[$o]=null)):Ko(t)}}}function na(t){return t in Zo?Zo[t]:Zo[t]="on"+t}function ra(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ea(t),n.call(r,e)}function ia(t,e){if(t.Y)return!0;if(!Mo){if(!e)t:{e=["window","event"];for(var n=Ki,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ra(t,e=new zo(e,this))}return ra(t,new zo(e,this))}function oa(t){return(t=t[$o])instanceof Qo?t:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function sa(t){return"function"==typeof t?t:(t[aa]||(t[aa]=function(e){return t.handleEvent(e)}),t[aa])}function ua(){oo.call(this),this.c=new Qo(this),this.J=this,this.C=null}function ca(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new qo(e,t);else if(e instanceof qo)e.target=e.target||t;else{var i=e;wo(e=new qo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=la(a,r,!0,e)&&i}if(i=la(a=e.a=t,r,!0,e)&&i,i=la(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=la(a=e.a=n[o],r,!1,e)&&i}function la(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Yo(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}io(ua,oo),ua.prototype[Ho]=!0,(Hi=ua.prototype).addEventListener=function(t,e,n,r){Jo(this,t,e,n,r)},Hi.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=Xi(i)?!!i.capture:!!i,r=sa(r),e&&e[Ho]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Xo(a=e.a[n],r,i,o))&&(Ko(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=oa(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Xo(n,r,i,o)),(r=-1<e?n[e]:null)&&ea(r))}(this,t,e,n,r)},Hi.G=function(){if(ua.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ko(n[r]);delete e.a[t],e.b--}}this.C=null},Hi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Hi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ha=Ki.JSON.stringify;function fa(){this.b=this.a=null}var da,pa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new ya}),(function(t){t.reset()}));function va(){var t=ba,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ya(){this.next=this.b=this.a=null}function ga(t){Ki.setTimeout((function(){throw t}),0)}function ma(t,e){da||function(){var t=Ki.Promise.resolve(void 0);da=function(){t.then(wa)}}(),_a||(da(),_a=!0),ba.add(t,e)}fa.prototype.add=function(t,e){var n=pa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ya.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ya.prototype.reset=function(){this.next=this.b=this.a=null};var _a=!1,ba=new fa;function wa(){for(var t;t=va();){try{t.a.call(t.b)}catch(n){ga(n)}var e=pa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}_a=!1}function ka(t,e){ua.call(this),this.b=t||1,this.a=e||Ki,this.f=eo(this.Za,this),this.g=ro()}function Ca(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ea(t,e,n){if("function"==typeof t)n&&(t=eo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=eo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ki.setTimeout(t,e||0)}function Oa(t){t.a=Ea((function(){t.a=null,t.c&&(t.c=!1,Oa(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}io(ka,ua),(Hi=ka.prototype).aa=!1,Hi.M=null,Hi.Za=function(){if(this.aa){var t=ro()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ca(this,"tick"),this.aa&&(Ca(this),this.start()))}},Hi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ro())},Hi.G=function(){ka.X.G.call(this),Ca(this),delete this.a};var Sa=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Oa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ki.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(oo);function Ta(t){oo.call(this),this.b=t,this.a={}}io(Ta,oo);var Ia=[];function ja(t,e,n,r){Array.isArray(n)||(n&&(Ia[0]=n.toString()),n=Ia);for(var i=0;i<n.length;i++){var o=Jo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Aa(t){mo(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ea(t)}),t),t.a={}}function xa(){this.a=!0}function Pa(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ha(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Ta.prototype.G=function(){Ta.X.G.call(this),Aa(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xa.prototype.info=function(){};var Ra={},Na=null;function Da(){return Na=Na||new ua}function La(t){qo.call(this,Ra.Fa,t)}function Fa(t){var e=Da();ca(e,new La(e,t))}function Ma(t,e){qo.call(this,Ra.STAT_EVENT,t),this.stat=e}function Va(t){var e=Da();ca(e,new Ma(e,t))}function Ua(t){qo.call(this,Ra.Ga,t)}function qa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ki.setTimeout((function(){t()}),e)}Ra.Fa="serverreachability",io(La,qo),Ra.STAT_EVENT="statevent",io(Ma,qo),Ra.Ga="timingevent",io(Ua,qo);var za={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ba={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ha(){}function Wa(){}Ha.prototype.a=null;var Ga,Ka={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Qa(){qo.call(this,"d")}function Ya(){qo.call(this,"c")}function Xa(){}function $a(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ta(this),this.P=Za,this.R=new ka(t=Io?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}io(Qa,qo),io(Ya,qo),io(Xa,Ha),Ga=new Xa;var Za=45e3,Ja={},ts={};function es(t,e,n){t.H=1,t.i=Cs(gs(e)),t.j=n,t.I=!0,ns(t,null)}function ns(t,e){t.u=ro(),os(t),t.l=gs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ls(n.b,"t",r),t.D=0,t.a=Au(t.g,t.g.C?e:null),0<t.O&&(t.F=new Sa(eo(t.Ca,t,t.a),t.O)),ja(t.J,t.a,"readystatechange",t.Xa),e=t.B?_o(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Fa(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function rs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=is(t,n);if(i==ts){4==e&&(t.h=4,Va(14),r=!1),Pa(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ja){t.h=4,Va(15),Pa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Pa(t.c,t.f,i,null),ls(t,i)}4==e&&0==n.length&&(t.h=1,Va(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ku(e),e.F=!0,Va(11))):(Pa(t.c,t.f,n,"[Invalid Chunked Response]"),cs(t),us(t))}function is(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ts:(n=Number(e.substring(n,r)),isNaN(n)?Ja:(r+=1)+n>e.length?ts:(e=e.substr(r,n),t.D=r+n,e))}function os(t){t.T=ro()+t.P,as(t,t.P)}function as(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=qa(eo(t.Va,t),e)}function ss(t){t.o&&(Ki.clearTimeout(t.o),t.o=null)}function us(t){0==t.g.v||t.A||Ou(t.g,t)}function cs(t){ss(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ca(t.R),Aa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ls(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Bs(n.b,t)))if(n.I=t.N,!t.C&&Bs(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ym){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Eu(n),du(n)}wu(n),Va(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=qa(eo(n.Sa,n),6e3));if(1>=zs(n.b)&&n.ea){try{n.ea()}catch(ym){}n.ea=void 0}}else Tu(n,11)}else if((t.C||n.a==t)&&Eu(n),!lo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(po(l,"spdy")||po(l,"quic")||po(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Hs(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ks(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ro()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ju(u,u.C?u.ga:null,u.fa),d.C){Ws(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(ss(p),os(p)),u.a=d}else bu(u);0<n.g.length&&yu(n)}else"stop"!=i[0]&&"close"!=i[0]||Tu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Tu(n,7):fu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Fa(4)}catch(ym){}}function hs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yi(t)||"string"==typeof t)so(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Yi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Yi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ds(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ps(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ps(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ps(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hi=$a.prototype).setTimeout=function(t){this.P=t},Hi.Xa=function(t){t=t.target;var e=this.F;e&&3==uu(t)?e.f():this.Ca(t)},Hi.Ca=function(t){try{if(t==this.a)t:{var e=uu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Io&&!this.a.$())){this.A||4!=e||7==n||Fa(8==n||0>=r?3:2),ss(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lo(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Va(12),cs(this),us(this);break t}Pa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ls(this,u)}this.I?(rs(this,e,o),Io&&this.b&&3==e&&(ja(this.J,this.R,"tick",this.Wa),this.R.start())):(Pa(this.c,this.f,o,null),ls(this,o)),4==e&&cs(this),this.b&&!this.A&&(4==e?Ou(this.g,this):(this.b=!1,os(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Va(12)):(this.h=0,Va(13)),cs(this),us(this)}}}catch(c){}},Hi.Wa=function(){if(this.a){var t=uu(this.a),e=this.a.$();this.D<e.length&&(ss(this),rs(this,t,e),this.b&&4!=t&&os(this))}},Hi.cancel=function(){this.A=!0,cs(this)},Hi.Va=function(){this.o=null;var t=ro();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Fa(3),Va(17)),cs(this),this.h=2,us(this)):as(this,this.T-t)},(Hi=fs.prototype).K=function(){ds(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Hi.L=function(){return ds(this),this.a.concat()},Hi.get=function(t,e){return ps(this.b,t)?this.b[t]:e},Hi.set=function(t,e){ps(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Hi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var vs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ys(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ys){this.a=void 0!==e?e:t.a,ms(this,t.f),this.j=t.j,_s(this,t.c),bs(this,t.h),this.g=t.g,e=t.b;var n=new Ps;n.c=e.c,e.a&&(n.a=new fs(e.a),n.b=e.b),ws(this,n),this.i=t.i}else t&&(n=String(t).match(vs))?(this.a=!!e,ms(this,n[1]||"",!0),this.j=Es(n[2]||""),_s(this,n[3]||"",!0),bs(this,n[4]),this.g=Es(n[5]||"",!0),ws(this,n[6]||"",!0),this.i=Es(n[7]||"")):(this.a=!!e,this.b=new Ps(null,this.a))}function gs(t){return new ys(t)}function ms(t,e,n){t.f=n?Es(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _s(t,e,n){t.c=n?Es(e,!0):e}function bs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ws(t,e,n){e instanceof Ps?(t.b=e,function(t,e){e&&!t.f&&(Rs(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ns(this,e),Ls(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Os(e,As)),t.b=new Ps(e,t.a))}function ks(t,e,n){t.b.set(e,n)}function Cs(t){return ks(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ro()).toString(36)),t}function Es(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Os(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ss),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ss(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ys.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Os(e,Ts,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Os(e,Ts,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Os(n,"/"==n.charAt(0)?js:Is,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Os(n,xs)),t.join("")};var Ts=/[#\/\?@]/g,Is=/[#\?:]/g,js=/[#\?]/g,As=/[#\?@]/g,xs=/#/g;function Ps(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rs(t){t.a||(t.a=new fs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ns(t,e){Rs(t),e=Fs(t,e),ps(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ps((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ds(t)))}function Ds(t,e){return Rs(t),e=Fs(t,e),ps(t.a.b,e)}function Ls(t,e,n){Ns(t,e),0<n.length&&(t.c=null,t.a.set(Fs(t,e),co(n)),t.b+=n.length)}function Fs(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Hi=Ps.prototype).add=function(t,e){Rs(this),this.c=null,t=Fs(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Hi.forEach=function(t,e){Rs(this),this.a.forEach((function(n,r){so(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Hi.L=function(){Rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Hi.K=function(t){Rs(this);var e=[];if("string"==typeof t)Ds(this,t)&&(e=uo(e,this.a.get(Fs(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=uo(e,t[n])}return e},Hi.set=function(t,e){return Rs(this),this.c=null,Ds(this,t=Fs(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Hi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Hi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ms=function(t,e){this.b=t,this.a=e};function Vs(t){this.g=t||Us,t=Ki.PerformanceNavigationTiming?0<(t=Ki.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ki.ia&&Ki.ia.ya&&Ki.ia.ya()&&Ki.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Us=10;function qs(t){return!!t.b||!!t.a&&t.a.size>=t.f}function zs(t){return t.b?1:t.a?t.a.size:0}function Bs(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Hs(t,e){t.a?t.a.add(e):t.b=e}function Ws(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Gs(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Bi(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return co(t.c)}function Ks(){}function Qs(){this.a=new Ks}function Ys(t,e,n){var r=n||"";try{hs(t,(function(t,n){var i=t;Xi(t)&&(i=ha(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Vs.prototype.cancel=function(){var t,e;if(this.c=Gs(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Bi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ks.prototype.stringify=function(t){return Ki.JSON.stringify(t,void 0)},Ks.prototype.parse=function(t){return Ki.JSON.parse(t,void 0)};var $s=Ki.JSON.parse;function Zs(t){ua.call(this),this.headers=new fs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Js,this.D=this.F=!1}io(Zs,ua);var Js="",tu=/^https?$/i,eu=["POST","PUT"];function nu(t){return"content-type"==t.toLowerCase()}function ru(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,iu(t),au(t)}function iu(t){t.u||(t.u=!0,ca(t,"complete"),ca(t,"error"))}function ou(t){if(t.b&&void 0!==Gi&&(!t.s[1]||4!=uu(t)||2!=t.W()))if(t.l&&4==uu(t))Ea(t.za,0,t);else if(ca(t,"readystatechange"),4==uu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(vs)[1]||null;if(!o&&Ki.self&&Ki.self.location){var a=Ki.self.location.protocol;o=a.substr(0,a.length-1)}i=!tu.test(o?o.toLowerCase():"")}e=i}if(e)ca(t,"complete"),ca(t,"success");else{t.h=6;try{var s=2<uu(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",iu(t)}}finally{au(t)}}}function au(t,e){if(t.a){su(t);var n=t.a,r=t.s[0]?Qi:null;t.a=null,t.s=null,e||ca(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function su(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ki.clearTimeout(t.m),t.m=null)}function uu(t){return t.a?t.a.readyState:0}function cu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return mo(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ks(t,e,n))}function lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hu(t){this.pa=0,this.g=[],this.c=new xa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=lu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=lu("baseRetryDelayMs",5e3,t),this.Ra=lu("retryDelaySeedMs",1e4,t),this.Ma=lu("forwardChannelMaxRetries",2,t),this.ma=lu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Vs(t&&t.concurrentRequestLimit),this.ka=new Qs,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function fu(t){if(pu(t),3==t.v){var e=t.R++,n=gs(t.B);ks(n,"SID",t.J),ks(n,"RID",e),ks(n,"TYPE","terminate"),mu(t,n),(e=new $a(t,t.c,e,void 0)).H=2,e.i=Cs(gs(n)),n=!1,Ki.navigator&&Ki.navigator.sendBeacon&&(n=Ki.navigator.sendBeacon(e.i.toString(),"")),!n&&Ki.Image&&((new Image).src=e.i,n=!0),n||(e.a=Au(e.g,null),e.a.ba(e.i)),e.u=ro(),os(e)}Iu(t)}function du(t){t.a&&(ku(t),t.a.cancel(),t.a=null)}function pu(t){du(t),t.j&&(Ki.clearTimeout(t.j),t.j=null),Eu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ki.clearTimeout(t.h),t.h=null)}function vu(t,e){t.g.push(new Ms(t.Oa++,e)),3==t.v&&yu(t)}function yu(t){qs(t.b)||t.h||(t.h=!0,ma(t.Ba,t),t.u=0)}function gu(t,e){var n;n=e?e.f:t.R++;var r=gs(t.B);ks(r,"SID",t.J),ks(r,"RID",n),ks(r,"AID",t.P),mu(t,r),t.i&&t.l&&cu(r,t.i,t.l),n=new $a(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=_u(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Hs(t.b,n),es(n,r,e)}function mu(t,e){t.f&&hs({},(function(t,n){ks(e,n,t)}))}function _u(t,e,n){n=Math.min(t.g.length,n);var r=t.f?eo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Ys(l,a,"req"+c+"_")}catch(cc){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function bu(t){t.a||t.j||(t.T=1,ma(t.Aa,t),t.o=0)}function wu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=qa(eo(t.Aa,t),Su(t,t.o)),t.o++,0))}function ku(t){null!=t.s&&(Ki.clearTimeout(t.s),t.s=null)}function Cu(t){t.a=new $a(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gs(t.la);ks(e,"RID","rpc"),ks(e,"SID",t.J),ks(e,"CI",t.H?"0":"1"),ks(e,"AID",t.P),mu(t,e),ks(e,"TYPE","xmlhttp"),t.i&&t.l&&cu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Cs(gs(e)),n.j=null,n.I=!0,ns(n,t)}function Eu(t){null!=t.m&&(Ki.clearTimeout(t.m),t.m=null)}function Ou(t,e){var n=null;if(t.a==e){Eu(t),ku(t),t.a=null;var r=2}else{if(!Bs(t.b,e))return;n=e.s,Ws(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ro()-e.u;var i=t.u;ca(r=Da(),new Ua(r,n,e,i)),yu(t)}else bu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(zs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=qa(eo(t.Ba,t,e),Su(t,t.u)),t.u++,0)))}(t,e)||2==r&&wu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Tu(t,5);break;case 4:Tu(t,10);break;case 3:Tu(t,6);break;default:Tu(t,2)}}function Su(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Tu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=eo(t.Ya,t);n||(n=new ys("//www.google.com/images/cleardot.gif"),Ki.location&&"http"==Ki.location.protocol||ms(n,"https"),Cs(n)),function(t,e){var n=new xa;if(Ki.Image){var r=new Image;r.onload=no(Xs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=no(Xs,n,r,"TestLoadImage: error",!1,e),r.onabort=no(Xs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=no(Xs,n,r,"TestLoadImage: timeout",!1,e),Ki.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Va(2);t.v=0,t.f&&t.f.ra(e),Iu(t),pu(t)}function Iu(t){t.v=0,t.I=-1,t.f&&(0==Gs(t.b).length&&0==t.g.length||(t.b.c.length=0,co(t.g),t.g.length=0),t.f.qa())}function ju(t,e,n){var r=function(t){return t instanceof ys?gs(t):new ys(t,void 0)}(n);if(""!=r.c)e&&_s(r,e+"."+r.c),bs(r,r.h);else{var i=Ki.location;r=function(t,e,n,r){var i=new ys(null,void 0);return t&&ms(i,t),e&&_s(i,e),n&&bs(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&mo(t.V,(function(t,e){ks(r,e,t)})),n=t.na,(e=t.A)&&n&&ks(r,e,n),ks(r,"VER",t.ha),mu(t,r),r}function Au(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zs(t.Na)).F=t.C,e}function xu(){}function Pu(){if(So&&!(10<=Number(Fo)))throw Error("Environmental error: no available transport.")}function Ru(t,e){ua.call(this),this.a=new hu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!lo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lu(this)}function Nu(t){Qa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Du(){Ya.call(this),this.status=1}function Lu(t){this.a=t}(Hi=Zs.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ga),this.a.onreadystatechange=eo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ru(this,o)}t=n||"";var i=new fs(this.headers);r&&hs(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=nu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ki.FormData&&t instanceof Ki.FormData,!(0<=ao(eu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{su(this),0<this.o&&((this.D=function(t){return So&&Lo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=eo(this.xa,this)):this.m=Ea(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ru(this,o)}},Hi.xa=function(){void 0!==Gi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ca(this,"timeout"),this.abort(8))},Hi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ca(this,"complete"),ca(this,"abort"),au(this))},Hi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),au(this,!0)),Zs.X.G.call(this)},Hi.za=function(){this.j||(this.A||this.l||this.g?ou(this):this.Ua())},Hi.Ua=function(){ou(this)},Hi.W=function(){try{return 2<uu(this)?this.a.status:-1}catch(Eo){return-1}},Hi.$=function(){try{return this.a?this.a.responseText:""}catch(Eo){return""}},Hi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$s(e)}},Hi.ua=function(){return this.h},Hi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Hi=hu.prototype).ha=8,Hi.v=1,Hi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new $a(this,this.c,t,void 0),r=this.l;if(this.O&&(r?wo(r=_o(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=_u(this,n,e),ks(i=gs(this.B),"RID",t),ks(i,"CVER",22),this.A&&ks(i,"X-HTTP-Session-Id",this.A),mu(this,i),this.i&&r&&cu(i,this.i,r),Hs(this.b,n),this.Ia&&ks(i,"TYPE","init"),this.da?(ks(i,"$req",e),ks(i,"SID","null"),n.U=!0,es(n,i,null)):es(n,i,e),this.v=2}}else 3==this.v&&(t?gu(this,t):0==this.g.length||qs(this.b)||gu(this))},Hi.Aa=function(){if(this.j=null,Cu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=qa(eo(this.Ta,this),t)}},Hi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Va(10),du(this),Cu(this))},Hi.Sa=function(){null!=this.m&&(this.m=null,du(this),wu(this),Va(19))},Hi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Va(2)):(this.c.info("Failed to ping google.com"),Va(1))},(Hi=xu.prototype).ta=function(){},Hi.sa=function(){},Hi.ra=function(){},Hi.qa=function(){},Hi.Ja=function(){},Pu.prototype.a=function(t,e){return new Ru(t,e)},io(Ru,ua),Ru.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Va(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ju(t,null,t.fa),yu(t)},Ru.prototype.close=function(){fu(this.a)},Ru.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vu(this.a,e)}else this.l?((e={}).__data__=ha(t),vu(this.a,e)):vu(this.a,t)},Ru.prototype.G=function(){this.a.f=null,delete this.f,fu(this.a),delete this.a,Ru.X.G.call(this)},io(Nu,Qa),io(Du,Ya),io(Lu,xu),Lu.prototype.ta=function(){ca(this.a,"a")},Lu.prototype.sa=function(t){ca(this.a,new Nu(t))},Lu.prototype.ra=function(t){ca(this.a,new Du(t))},Lu.prototype.qa=function(){ca(this.a,"b")},Pu.prototype.createWebChannel=Pu.prototype.a,Ru.prototype.send=Ru.prototype.h,Ru.prototype.open=Ru.prototype.g,Ru.prototype.close=Ru.prototype.close,za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Ba.COMPLETE="complete",Wa.EventType=Ka,Ka.OPEN="a",Ka.CLOSE="b",Ka.ERROR="c",Ka.MESSAGE="d",ua.prototype.listen=ua.prototype.va,Zs.prototype.listenOnce=Zs.prototype.wa,Zs.prototype.getLastError=Zs.prototype.Qa,Zs.prototype.getLastErrorCode=Zs.prototype.ua,Zs.prototype.getStatus=Zs.prototype.W,Zs.prototype.getResponseJson=Zs.prototype.Pa,Zs.prototype.getResponseText=Zs.prototype.$,Zs.prototype.send=Zs.prototype.ba;var Fu=za,Mu=Ba,Vu=Ra,Uu=Wa,qu=Zs,zu=n("/6Yf"),Bu=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Hu=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wu=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Wu.UNAUTHENTICATED=new Wu(null),Wu.l=new Wu("google-credentials-uid"),Wu._=new Wu("first-party-uid");var Gu=new Ui.b("@firebase/firestore");function Ku(){return Gu.logLevel}function Qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=Ui.a.DEBUG){var r=e.map($u);Gu.debug.apply(Gu,Object(Mi.g)(["Firestore (8.1.1): "+t],r))}}function Yu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=Ui.a.ERROR){var r=e.map($u);Gu.error.apply(Gu,Object(Mi.g)(["Firestore (8.1.1): "+t],r))}}function Xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gu.logLevel<=Ui.a.WARN){var r=e.map($u);Gu.warn.apply(Gu,Object(Mi.g)(["Firestore (8.1.1): "+t],r))}}function $u(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Zu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function Ju(t,e){t||Zu()}function tc(t,e){return t}var ec={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Mi.c)(e,t),e}(Error),rc=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},ic=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Wu.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),oc=function(){function t(t){var e=this;this.P=null,this.currentUser=Wu.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(Qu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ju("string"==typeof n.accessToken),new rc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Ju(null===t||"string"==typeof t),new Wu(t)},t}(),ac=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Wu._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),sc=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new ac(this.v,this.S))},t.prototype.A=function(t){t(Wu._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function uc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cc=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=uc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function lc(t,e){return t<e?-1:t>e?1:0}function hc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function fc(t){return t+"\0"}var dc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nc(ec.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nc(ec.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new nc(ec.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nc(ec.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?lc(this.nanoseconds,t.nanoseconds):lc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),pc=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new dc(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),vc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zu(),void 0===n?n=t.length-e:n>t.length-e&&Zu(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new nc(ec.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(vc),gc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return gc.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new nc(ec.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new nc(ec.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nc(ec.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new nc(ec.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(vc),_c=function(){function t(t){this.path=t}return t.st=function(e){return new t(yc.Y(e))},t.it=function(e){return new t(yc.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yc.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return yc.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new yc(e.slice()))},t}();function bc(t){return null==t}function wc(t){return 0===t&&1/t==-1/0}function kc(t){return"number"==typeof t&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Cc=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null};function Ec(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Cc(t,e,n,r,i,o,a)}function Oc(t){var e=tc(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+_l(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),bc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bf(e.startAt)),e.endAt&&(n+="|ub:",n+=bf(e.endAt)),e.ut=n}return e.ut}function Sc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Of(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kf(t.startAt,e.startAt)&&kf(t.endAt,e.endAt)}function Tc(t){return _c.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ic=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return lc(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Ic.lt=new Ic("");var jc,Ac,xc=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=pc.min()),void 0===o&&(o=pc.min()),void 0===a&&(a=Ic.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Pc=function(t){this.count=t};function Rc(t){switch(t){case ec.OK:return Zu();case ec.CANCELLED:case ec.UNKNOWN:case ec.DEADLINE_EXCEEDED:case ec.RESOURCE_EXHAUSTED:case ec.INTERNAL:case ec.UNAVAILABLE:case ec.UNAUTHENTICATED:return!1;case ec.INVALID_ARGUMENT:case ec.NOT_FOUND:case ec.ALREADY_EXISTS:case ec.PERMISSION_DENIED:case ec.FAILED_PRECONDITION:case ec.ABORTED:case ec.OUT_OF_RANGE:case ec.UNIMPLEMENTED:case ec.DATA_LOSS:return!0;default:return Zu()}}function Nc(t){if(void 0===t)return Yu("GRPC error has no .code"),ec.UNKNOWN;switch(t){case jc.OK:return ec.OK;case jc.CANCELLED:return ec.CANCELLED;case jc.UNKNOWN:return ec.UNKNOWN;case jc.DEADLINE_EXCEEDED:return ec.DEADLINE_EXCEEDED;case jc.RESOURCE_EXHAUSTED:return ec.RESOURCE_EXHAUSTED;case jc.INTERNAL:return ec.INTERNAL;case jc.UNAVAILABLE:return ec.UNAVAILABLE;case jc.UNAUTHENTICATED:return ec.UNAUTHENTICATED;case jc.INVALID_ARGUMENT:return ec.INVALID_ARGUMENT;case jc.NOT_FOUND:return ec.NOT_FOUND;case jc.ALREADY_EXISTS:return ec.ALREADY_EXISTS;case jc.PERMISSION_DENIED:return ec.PERMISSION_DENIED;case jc.FAILED_PRECONDITION:return ec.FAILED_PRECONDITION;case jc.ABORTED:return ec.ABORTED;case jc.OUT_OF_RANGE:return ec.OUT_OF_RANGE;case jc.UNIMPLEMENTED:return ec.UNIMPLEMENTED;case jc.DATA_LOSS:return ec.DATA_LOSS;default:return Zu()}}(Ac=jc||(jc={}))[Ac.OK=0]="OK",Ac[Ac.CANCELLED=1]="CANCELLED",Ac[Ac.UNKNOWN=2]="UNKNOWN",Ac[Ac.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ac[Ac.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ac[Ac.NOT_FOUND=5]="NOT_FOUND",Ac[Ac.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ac[Ac.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ac[Ac.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ac[Ac.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ac[Ac.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ac[Ac.ABORTED=10]="ABORTED",Ac[Ac.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ac[Ac.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ac[Ac.INTERNAL=13]="INTERNAL",Ac[Ac.UNAVAILABLE=14]="UNAVAILABLE",Ac[Ac.DATA_LOSS=15]="DATA_LOSS";var Dc=function(){function t(t,e){this.$=t,this.root=e||Fc.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Fc.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Fc.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Lc(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Lc(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Lc(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Lc(this.root,t,this.$,!0)},t}(),Lc=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Fc=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Zu();if(this.right.Mt())throw Zu();var t=this.left.Qt();if(t!==this.right.Qt())throw Zu();return t+(this.Mt()?0:1)},t}();Fc.EMPTY=null,Fc.RED=!0,Fc.It=!1,Fc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Fc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Mc=function(){function t(t){this.$=t,this.data=new Dc(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Vc(this.data.yt())},t.prototype.Vt=function(t){return new Vc(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Vc=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Uc=new Dc(_c.$);function qc(){return Uc}function zc(){return qc()}var Bc=new Dc(_c.$);function Hc(){return Bc}var Wc=new Dc(_c.$),Gc=new Mc(_c.$);function Kc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Gc,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Qc=new Mc(lc);function Yc(){return Qc}var Xc=function(){function t(t){this.$=t?function(e,n){return t(e,n)||_c.$(e.key,n.key)}:function(t,e){return _c.$(t.key,e.key)},this.Ht=Hc(),this.Jt=new Dc(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),$c=function(){function t(){this.Xt=new Dc(_c.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Zu():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),Zc=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=a,this.se=s}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Xc.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&of(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Jc=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,tl.he(e,n)),new t(pc.min(),r,Yc(),qc(),Kc())},t}(),tl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Ic.lt,n,Kc(),Kc(),Kc())},t}(),el=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},nl=function(t,e){this.targetId=t,this.Te=e},rl=function(t,e,n,r){void 0===n&&(n=Ic.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},il=function(){function t(){this.Ie=0,this.me=sl(),this.Ae=Ic.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Kc(),e=Kc(),n=Kc();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zu()}})),new tl(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=sl()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),ol=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=qc(),this.Me=al(),this.ke=new Mc(lc)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Hh?this.Le(r,t.Ee):t.Ee instanceof Wh&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Zu()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Tc(i))if(0===n){var o=new _c(i.path);this.Be(e,o,new Wh(o,pc.min()))}else Ju(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&Tc(o.target)){var a=new _c(o.target.path);null!==e.Oe.get(a)||e.Je(i,a)||e.Be(i,a,new Wh(a,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=Kc();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Jc(t,n,this.ke,this.Oe,r);return this.Oe=qc(),this.Me=al(),this.ke=new Mc(lc),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new il,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Mc(lc),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Qu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new il),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function al(){return new Dc(_c.$)}function sl(){return new Dc(_c.$)}function ul(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ll(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fl(t){var e=bl(t.mapValue.fields.__local_write_time__.timestampValue);return new dc(e.seconds,e.nanos)}var dl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hl(t)?4:10:Zu()}function vl(t,e){var n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=bl(t.timestampValue),r=bl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return kl(t.bytesValue).isEqual(kl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wl(t.geoPointValue.latitude)===wl(e.geoPointValue.latitude)&&wl(t.geoPointValue.longitude)===wl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wl(t.integerValue)===wl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wl(t.doubleValue),r=wl(e.doubleValue);return n===r?wc(n)===wc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],vl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ul(n)!==ul(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vl(n[i],r[i])))return!1;return!0}(t,e);default:return Zu()}}function yl(t,e){return void 0!==(t.values||[]).find((function(t){return vl(t,e)}))}function gl(t,e){var n=pl(t),r=pl(e);if(n!==r)return lc(n,r);switch(n){case 0:return 0;case 1:return lc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wl(t.integerValue||t.doubleValue),r=wl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ml(t.timestampValue,e.timestampValue);case 4:return ml(fl(t),fl(e));case 5:return lc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=kl(t),r=kl(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=lc(n[i],r[i]);if(0!==o)return o}return lc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=lc(wl(t.latitude),wl(e.latitude));return 0!==n?n:lc(wl(t.longitude),wl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=gl(n[i],r[i]);if(o)return o}return lc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=lc(r[a],o[a]);if(0!==s)return s;var u=gl(n[r[a]],i[o[a]]);if(0!==u)return u}return lc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zu()}}function ml(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return lc(t,e);var n=bl(t),r=bl(e),i=lc(n.seconds,r.seconds);return 0!==i?i:lc(n.nanos,r.nanos)}function _l(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=bl(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kl(e.bytesValue).toBase64():"referenceValue"in e?_c.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Zu();var n}(t)}function bl(t){if(Ju(!!t),"string"==typeof t){var e=0,n=dl.exec(t);if(Ju(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wl(t.seconds),nanos:wl(t.nanos)}}function wl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function kl(t){return"string"==typeof t?Ic.fromBase64String(t):Ic.fromUint8Array(t)}function Cl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function El(t){return!!t&&"integerValue"in t}function Ol(t){return!!t&&"arrayValue"in t}function Sl(t){return!!t&&"nullValue"in t}function Tl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}var jl={asc:"ASCENDING",desc:"DESCENDING"},Al={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xl=function(t,e){this.t=t,this.tn=e};function Pl(t){return{integerValue:""+t}}function Rl(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function Nl(t,e){return kc(e)?Pl(e):Rl(t,e)}function Dl(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ll(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Fl(t,e){return Dl(t,e.M())}function Ml(t){return Ju(!!t),pc.N(function(t){var e=bl(t);return new dc(e.seconds,e.nanos)}(t))}function Vl(t,e){return function(t){return new yc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Ul(t){var e=yc.Y(t);return Ju(uh(e)),e}function ql(t,e){return Vl(t.t,e.path)}function zl(t,e){var n=Ul(e);if(n.get(1)!==t.t.projectId)throw new nc(ec.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new nc(ec.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new _c(Gl(n))}function Bl(t,e){return Vl(t.t,e)}function Hl(t){var e=Ul(t);return 4===e.length?yc.X():Gl(e)}function Wl(t){return new yc(["projects",t.t.projectId,"databases",t.t.database]).J()}function Gl(t){return Ju(t.length>4&&"documents"===t.get(4)),t.B(5)}function Kl(t,e,n){return{name:ql(t,e),fields:n.proto.mapValue.fields}}function Ql(t,e){var n;if(e instanceof Ph)n={update:Kl(t,e.key,e.value)};else if(e instanceof Mh)n={delete:ql(t,e.key)};else if(e instanceof Rh)n={update:Kl(t,e.key,e.data),updateMask:sh(e.en)};else if(e instanceof Dh)n={transform:{document:ql(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof dh)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof ph)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof mh)return{fieldPath:e.field.J(),increment:n.nn};throw Zu()}(0,t)}))}};else{if(!(e instanceof Vh))return Zu();n={verify:ql(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zu()}(t,e.rn)),n}function Yl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Eh.updateTime(Ml(t.updateTime)):void 0!==t.exists?Eh.exists(t.exists):Eh.on()}(e.currentDocument):Eh.on();if(e.update){var r=zl(t,e.update.name),i=new Uh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new wh((t.fieldPaths||[]).map((function(t){return mc.nt(t)})))}(e.updateMask);return new Rh(r,i,o,n)}return new Ph(r,i,n)}if(e.delete){var a=zl(t,e.delete);return new Mh(a,n)}if(e.transform){var s=zl(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ju("REQUEST_TIME"===e.setToServerValue),n=new dh):"appendMissingElements"in e?n=new ph(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yh(e.removeAllFromArray.values||[]):"increment"in e?n=new mh(t,e.increment):Zu();var r=mc.nt(e.fieldPath);return new kh(r,n)}(t,e)}));return Ju(!0===n.exists),new Dh(s,u)}if(e.verify){var c=zl(t,e.verify);return new Vh(c,n)}return Zu()}function Xl(t,e){return{documents:[Bl(t,e.path)]}}function $l(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bl(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Tl(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NAN"}};if(Sl(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Tl(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NAN"}};if(Sl(t.value))return{unaryFilter:{field:rh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(t.field),op:nh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:rh(t.field),direction:eh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.tn||bc(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Jl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Jl(e.endAt)),n}function Zl(t){var e=Hl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ju(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[ah(e)]:void 0!==e.fieldFilter?[oh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Zu():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Cf(ih(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return bc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=th(n.startAt));var l=null;return n.endAt&&(l=th(n.endAt)),Qh(e,i,s,a,u,"F",c,l)}function Jl(t){return{before:t.before,values:t.position}}function th(t){return new _f(t.values||[],!!t.before)}function eh(t){return jl[t]}function nh(t){return Al[t]}function rh(t){return{fieldPath:t.J()}}function ih(t){return mc.nt(t.fieldPath)}function oh(t){return lf.create(ih(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zu()}}(t.fieldFilter.op),t.fieldFilter.value)}function ah(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ih(t.unaryFilter.field);return lf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ih(t.unaryFilter.field);return lf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ih(t.unaryFilter.field);return lf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ih(t.unaryFilter.field);return lf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zu()}}function sh(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function uh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ch=function(){this.cn=void 0};function lh(t,e,n){return t instanceof dh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ph?vh(t,e):t instanceof yh?gh(t,e):function(t,e){var n=fh(t,e),r=_h(n)+_h(t.nn);return El(n)&&El(t.nn)?Pl(r):Rl(t.serializer,r)}(t,e)}function hh(t,e,n){return t instanceof ph?vh(t,e):t instanceof yh?gh(t,e):n}function fh(t,e){return t instanceof mh?El(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e}(ch),ph=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Mi.c)(e,t),e}(ch);function vh(t,e){for(var n=bh(e),r=function(t){n.some((function(e){return vl(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Mi.c)(e,t),e}(ch);function gh(t,e){for(var n=bh(e),r=function(t){n=n.filter((function(e){return!vl(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var mh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Mi.c)(e,t),e}(ch);function _h(t){return wl(t.integerValue||t.doubleValue)}function bh(t){return Ol(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var wh=function(){function t(t){this.fields=t,t.sort(mc.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return hc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),kh=function(t,e){this.field=t,this.transform=e},Ch=function(t,e){this.version=t,this.transformResults=e},Eh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Oh(t,e){return void 0!==t.updateTime?e instanceof Hh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Hh}var Sh=function(){};function Th(t,e,n){return t instanceof Ph?function(t,e,n){return new Hh(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Rh?function(t,e,n){if(!Oh(t.rn,e))return new Gh(t.key,n.version);var r=Nh(t,e);return new Hh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Dh?function(t,e,n){if(Ju(null!=n.transformResults),!Oh(t.rn,e))return new Gh(t.key,n.version);var r=Lh(0,e),i=function(t,e,n){var r=[];Ju(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Hh&&(s=e.field(o.field)),r.push(hh(a,s,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,a=Fh(t,r.data(),i);return new Hh(t.key,o,a,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ih(t,e,n,r){return t instanceof Ph?function(t,e){if(!Oh(t.rn,e))return e;var n=xh(e);return new Hh(t.key,n,t.value,{an:!0})}(t,e):t instanceof Rh?function(t,e){if(!Oh(t.rn,e))return e;var n=xh(e),r=Nh(t,e);return new Hh(t.key,n,r,{an:!0})}(t,e):t instanceof Dh?function(t,e,n,r){if(!Oh(t.rn,e))return e;var i=Lh(0,e),o=function(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=null;n instanceof Hh&&(c=n.field(s.field)),null===c&&r instanceof Hh&&(c=r.field(s.field)),i.push(lh(u,c,e))}return i}(t.fieldTransforms,n,e,r),a=Fh(t,i.data(),o);return new Hh(t.key,i.version,a,{an:!0})}(t,e,r,n):function(t,e){return Oh(t.rn,e)?new Wh(t.key,pc.min()):e}(t,e)}function jh(t,e){return t instanceof Dh?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e instanceof Hh?e.field(o.field):void 0,s=fh(o.transform,a||null);null!=s&&(n=null==n?(new qh).set(o.field,s):n.set(o.field,s))}return n?n.hn():null}(t,e):null}function Ah(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||hc(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ph&&e instanceof ph||t instanceof yh&&e instanceof yh?hc(t.elements,e.elements,vl):t instanceof mh&&e instanceof mh?vl(t.nn,e.nn):t instanceof dh&&e instanceof dh}(t.transform,e.transform)}(t,e)})))}function xh(t){return t instanceof Hh?t.version:pc.min()}var Ph=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Mi.c)(e,t),e}(Sh),Rh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Mi.c)(e,t),e}(Sh);function Nh(t,e){return function(t,e){var n=new qh(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Hh?e.data():Uh.empty())}var Dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Eh.exists(!0),r}return Object(Mi.c)(e,t),e}(Sh);function Lh(t,e){return e}function Fh(t,e,n){for(var r=new qh(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Mh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Mi.c)(e,t),e}(Sh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Mi.c)(e,t),e}(Sh),Uh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Il(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return vl(this.proto,t.proto)},t}(),qh=function(){function t(t){void 0===t&&(t=Uh.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===pl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(mc.X(),this._n);return null!=t?new Uh(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Il(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.dn(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function zh(t){var e=[];return cl(t.fields||{},(function(t,n){var r=new mc([t]);if(Il(n)){var i=zh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new wh(e)}var Bh=function(t,e){this.key=t,this.version=e},Hh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Mi.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Bh),Wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Mi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bh),Gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bh),Kh=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.In=null,this.mn=null};function Qh(t,e,n,r,i,o,a,s){return new Kh(t,e,n,r,i,o,a,s)}function Yh(t){return new Kh(t)}function Xh(t){return!bc(t.limit)&&"F"===t.limitType}function $h(t){return!bc(t.limit)&&"L"===t.limitType}function Zh(t){return t.Tn.length>0?t.Tn[0].field:null}function Jh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function tf(t){return null!==t.collectionGroup}function ef(t){var e=tc(t);if(null===e.In){e.In=[];var n=Jh(e),r=Zh(e);if(null!==n&&null===r)n.tt()||e.In.push(new Cf(n)),e.In.push(new Cf(mc.et(),"asc"));else{for(var i=!1,o=0,a=e.Tn;o<a.length;o++){var s=a[o];e.In.push(s),s.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Cf(mc.et(),u))}}}return e.In}function nf(t){var e=tc(t);if(!e.mn)if("F"===e.limitType)e.mn=Ec(e.path,e.collectionGroup,ef(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ef(e);r<i.length;r++){var o=i[r];n.push(new Cf(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new _f(e.endAt.position,!e.endAt.before):null,s=e.startAt?new _f(e.startAt.position,!e.startAt.before):null;e.mn=Ec(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.mn}function rf(t,e,n){return new Kh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return Sc(nf(t),nf(e))&&t.limitType===e.limitType}function af(t){return Oc(nf(t))+"|lt:"+t.limitType}function sf(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+_l(e.value);var e})).join(", ")+"]"),bc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bf(t.startAt)),t.endAt&&(e+=", endAt: "+bf(t.endAt)),"Target("+e+")"}(nf(t))+"; limitType="+t.limitType+")"}function uf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):_c.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!wf(t.startAt,ef(t),e)||t.endAt&&wf(t.endAt,ef(t),e))}(t,e)}function cf(t){return function(e,n){for(var r=!1,i=0,o=ef(t);i<o.length;i++){var a=o[i],s=Ef(a,e,n);if(0!==s)return s;r=r||a.field.tt()}return 0}}var lf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Mi.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new hf(t,n,r):"array-contains"===n?new vf(t,r):"in"===n?new yf(t,r):"not-in"===n?new gf(t,r):"array-contains-any"===n?new mf(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new ff(t,n):new df(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(gl(e,this.value)):null!==e&&pl(this.value)===pl(e)&&this.Pn(gl(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zu()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=_c.it(r.referenceValue),i}return Object(Mi.c)(e,t),e.prototype.matches=function(t){var e=_c.$(t.key,this.key);return this.Pn(e)},e}(lf),ff=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=pf(0,n),r}return Object(Mi.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lf),df=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=pf(0,n),r}return Object(Mi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lf);function pf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return _c.it(t.referenceValue)}))}var vf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Mi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ol(e)&&yl(e.arrayValue,this.value)},e}(lf),yf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Mi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&yl(this.value.arrayValue,e)},e}(lf),gf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Mi.c)(e,t),e.prototype.matches=function(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!yl(this.value.arrayValue,e)},e}(lf),mf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Mi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ol(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return yl(e.value.arrayValue,t)}))},e}(lf),_f=function(t,e){this.position=t,this.before=e};function bf(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return _l(t)})).join(",")}function wf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.tt()?_c.$(_c.it(a.referenceValue),n.key):gl(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function kf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vl(t.position[n],e.position[n]))return!1;return!0}var Cf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ef(t,e,n){var r=t.field.tt()?_c.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?gl(r,i):Zu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zu()}}function Of(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Sf=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Th(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ih(i,e,e,this.gn))}for(var o=e,a=0,s=this.mutations;a<s.length;a++){var u=s[a];u.key.isEqual(t)&&(e=Ih(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Kc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&hc(this.mutations,t.mutations,(function(t,e){return Ah(t,e)}))&&hc(this.baseMutations,t.baseMutations,(function(t,e){return Ah(t,e)}))},t}(),Tf=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Ju(e.mutations.length===r.length);for(var i=Wc,o=e.mutations,a=0;a<o.length;a++)i=i.Tt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),If=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.Cn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){cl(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.W=function(){return ll(this.Nn)},t}(),jf=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Zu(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Af=function(){function t(){this.Qn=new If((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:pc.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?jf.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),xf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Pf(t){return new xl(t,!0)}function Rf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Nf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Df=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),Lf=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=zc();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=qc();return i.forEach((function(t,e){e||(e=new Wh(t,pc.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return _c.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):tf(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new _c(e)).next((function(t){var e=Hc();return t instanceof Hh&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=Hc();return this.os.As(t,i).next((function(a){return jf.forEach(a,(function(a){var s=function(t,e){return new Kh(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Is(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return o.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=Ih(u,l,l,o.gn);r=h instanceof Hh?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){uf(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=Kc(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Rh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Hh&&(c=c.Tt(t,e))})),c}))},t}(),Ff=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Kc(),i=Kc(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Mf.Ds=-1;var Vf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Qu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Uf=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(qi.g)())&&Yu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qu("SimpleDb","Removing database:",t),Gf(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(qi.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Qu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new zf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new nc(ec.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zf(t,n))},i.onupgradeneeded=function(t){Qu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Qu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Mi.b)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(Mi.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(Mi.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Xs(t)];case 2:return s.db=h.sent(),e=Hf.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),jf.reject(t)})).Ln(),u={},a.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Qu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qf=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Gf(this.ni.delete())},t}(),zf=function(t){function e(e,n){var r=this;return(r=t.call(this,ec.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Mi.c)(e,t),e}(nc);function Bf(t){return"IndexedDbTransactionError"===t.name}var Hf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new xf,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new zf(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Qf(e.target.error);n.ci.reject(new zf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new zf(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Qu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Wf(e)},t}(),Wf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Gf(n)},t.prototype.add=function(t){return Qu("SimpleDb","ADD",this.store.name,t,t),Gf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Gf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Qu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Qu("SimpleDb","DELETE",this.store.name,t),Gf(this.store.delete(t))},t.prototype.count=function(){return Qu("SimpleDb","COUNT",this.store.name),Gf(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){Qu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new jf((function(n,r){e.onerror=function(t){var e=Qf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new jf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new qf(i),a=e(i.primaryKey,i.value,o);if(a instanceof jf){var s=a.catch((function(t){return o.done(),jf.reject(t)}));n.push(s)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return jf.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Gf(t){return new jf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Qf(t.target.error);n(e)}}))}var Kf=!1;function Qf(t){var e=Uf.js(Object(qi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new nc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Kf||(Kf=!0,setTimeout((function(){throw r}),0)),r}}return t}function Yf(){return"undefined"!=typeof window?window:null}function Xf(){return"undefined"!=typeof document?document:null}var $f=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new xf,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new nc(ec.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Zf=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Vf(this,"async_queue_retry"),this.Di=function(){var e=Xf();e&&Qu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Xf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Xf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Bf(t=n.sent()))throw t;return Qu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Yu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=$f.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Zu()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var t;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Jf(t,e){if(Yu("AsyncQueue",e+": "+t),Bf(t))return new nc(ec.UNAVAILABLE,e+": "+t);throw t}function td(t,e){var n=t[1],r=e[1],i=lc(t[0],e[0]);return 0===i?lc(n,r):i}var ed=function(){function t(t){this.Ki=t,this.buffer=new Mc(td),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();td(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nd={zi:!1,Hi:0,Ji:0,Yi:0},rd=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();rd.nr=10,rd.sr=1e3,rd.ir=new rd(41943040,rd.nr,rd.sr),rd.rr=new rd(-1,0,0);var id=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Qu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(Mi.b)(e,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Bf(e=n.sent())?(Qu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),od=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return jf.resolve(Mf.Ds);var r=new ed(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Qu("LruGarbageCollector","Garbage collection skipped; disabled"),jf.resolve(nd)):this.Pr(t).next((function(r){return r<n.params.Xi?(Qu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),nd):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(Qu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,a=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),Ku()<=Ui.a.DEBUG&&Qu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),jf.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function ad(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ud(e)),e=sd(t.get(n),e);return ud(e)}function sd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ud(t){return t+"\x01\x01"}function cd(t){var e=t.length;if(Ju(e>=2),2===e)return Ju("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yc.X();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Zu(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Zu()}o=a+2}return new yc(r)}var ld=function(t){this.yr=t};function hd(t,e){if(e.document)return function(t,e,n){var r=zl(t,e.name),i=Ml(e.updateTime),o=new Uh({mapValue:{fields:e.fields}});return new Hh(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=_c.ct(e.noDocument.path),r=yd(e.noDocument.readTime);return new Wh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=_c.ct(e.unknownDocument.path),o=yd(e.unknownDocument.version);return new Gh(i,o)}return Zu()}function fd(t,e,n){var r=dd(n),i=e.key.path.q().H();if(e instanceof Hh){var o=function(t,e){return{name:ql(t,e.key),fields:e.En().mapValue.fields,updateTime:Dl(t,e.version.M())}}(t.yr,e);return new Bd(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof Wh){var a=e.key.path.H(),s=vd(e.version),u=e.hasCommittedMutations;return new Bd(null,new qd(a,s),null,u,r,i)}if(e instanceof Gh){var c=e.key.path.H(),l=vd(e.version);return new Bd(new zd(c,l),null,null,!0,r,i)}return Zu()}function dd(t){var e=t.M();return[e.seconds,e.nanoseconds]}function pd(t){var e=new dc(t[0],t[1]);return pc.N(e)}function vd(t){var e=t.M();return new Ld(e.seconds,e.nanoseconds)}function yd(t){var e=new dc(t.seconds,t.nanoseconds);return pc.N(e)}function gd(t,e){var n=(e.baseMutations||[]).map((function(e){return Yl(t.yr,e)})),r=e.mutations.map((function(e){return Yl(t.yr,e)})),i=dc.fromMillis(e.localWriteTimeMs);return new Sf(e.batchId,i,n,r)}function md(t){var e,n,r=yd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yd(t.lastLimboFreeSnapshotVersion):pc.min();return void 0!==t.query.documents?(Ju(1===(n=t.query).documents.length),e=nf(Yh(Hl(n.documents[0])))):e=function(t){return nf(Zl(t))}(t.query),new xc(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ic.fromBase64String(t.resumeToken))}function _d(t,e){var n,r=vd(e.ft),i=vd(e.lastLimboFreeSnapshotVersion);n=Tc(e.target)?Xl(t.yr,e.target):$l(t.yr,e.target);var o=e.resumeToken.toBase64();return new Wd(e.targetId,Oc(e.target),r,o,e.sequenceNumber,i,n)}function bd(t){var e=Zl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?rf(e,e.limit,"L"):e}var wd=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return Ju(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ed(t)._i({index:Vd.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,o=Od(t),a=Ed(t);return a.add({}).next((function(s){Ju("number"==typeof s);for(var u=new Sf(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ql(t.yr,e)})),i=n.mutations.map((function(e){return Ql(t.yr,e)}));return new Vd(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Mc((function(t,e){return lc(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Ud.key(i.userId,p.key.path,s);h=h.add(p.key.path.q()),l.push(a.put(c)),l.push(o.put(v,Ud.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Dr(t,e))})),t.es((function(){i.pr[s]=u.keys()})),jf.qn(l).next((function(){return u}))}))},t.prototype.Cr=function(t,e){var n=this;return Ed(t).get(e).next((function(t){return t?(Ju(t.userId===n.userId),gd(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?jf.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ed(t)._i({index:Vd.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ju(e.batchId>=r),o=gd(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ed(t)._i({index:Vd.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ed(t).ui(Vd.userMutationsIndex,n).next((function(t){return t.map((function(t){return gd(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=Ud.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Od(t)._i({range:i},(function(r,i,a){var s=r[0],u=r[2],c=cd(r[1]);if(s===n.userId&&e.path.isEqual(c))return Ed(t).get(u).next((function(t){if(!t)throw Zu();Ju(t.userId===n.userId),o.push(gd(n.serializer,t))}));a.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new Mc(lc),i=[];return e.forEach((function(e){var o=Ud.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Od(t)._i({range:a},(function(t,i,o){var a=t[0],s=t[2],u=cd(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),jf.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=Ud.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Mc(lc);return Od(t)._i({range:a},(function(t,e,o){var a=t[0],u=t[2],c=cd(t[1]);a===n.userId&&r.j(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.kr(t,s)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ed(t).get(e).next((function(t){if(null===t)throw Zu();Ju(t.userId===n.userId),r.push(gd(n.serializer,t))})))})),jf.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return Cd(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),jf.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return jf.resolve();var r=IDBKeyRange.lowerBound(Ud.prefixForUser(e.userId)),i=[];return Od(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=cd(t[1]);i.push(o)}else r.done()})).next((function(){Ju(0===i.length)}))}))},t.prototype.Qr=function(t,e){return kd(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return Sd(t).get(this.userId).next((function(t){return t||new Md(e.userId,-1,"")}))},t}();function kd(t,e,n){var r=Ud.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Od(t)._i({range:o,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function Cd(t,e,n){var r=t.store(Vd.store),i=t.store(Ud.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r._i({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Ju(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ud.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return jf.qn(o).next((function(){return c}))}function Ed(t){return fp.Ys(t,Vd.store)}function Od(t){return fp.Ys(t,Ud.store)}function Sd(t){return fp.Ys(t,Md.store)}var Td=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Ad(t).put(xd(e),n)},t.prototype.Hn=function(t,e){var n=Ad(t),r=xd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return Ad(t).get(xd(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return Ad(t).get(xd(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:Pd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=zc();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=zc(),i=new Dc(_c.$);return this.zr(t,e,(function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Pd(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return jf.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Ad(t)._i({range:r},(function(t,e,r){for(var a=_c.ct(t);o&&_c.$(o,a)<0;)n(o,null),o=i.Ct();o&&o.isEqual(a)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=Hc(),o=e.path.length+1,a={};if(n.isEqual(pc.min())){var s=e.path.H();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.H(),c=dd(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Bd.collectionReadTimeIndex}return Ad(t)._i(a,(function(t,n,a){if(t.length===o){var s=hd(r.serializer,n);e.path.j(s.key.path)?s instanceof Hh&&uf(e,s)&&(i=i.Tt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new Id(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return jd(t).get(Hd.key).next((function(t){return Ju(!!t),t}))},t.prototype.Wr=function(t,e){return jd(t).put(Hd.key,e)},t.prototype.jr=function(t){if(t){var e=hd(this.serializer,t);return e instanceof Wh&&e.version.isEqual(pc.min())?null:e}return null},t}(),Id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new If((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Mi.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Mc((function(t,e){return lc(t.J(),e.J())}));return this.Qn.forEach((function(o,a){var s=e.so.get(o);if(a.zn){var u=fd(e.no.serializer,a.zn,e.Wn(o));i=i.add(o.path.q());var c=Pd(u);r+=c-s,n.push(e.no.jn(t,o,u))}else if(r-=s,e.Zr){var l=fd(e.no.serializer,new Wh(o,pc.min()),e.Wn(o));n.push(e.no.jn(t,o,l))}else n.push(e.no.Hn(t,o))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),jf.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(Af);function jd(t){return fp.Ys(t,Hd.store)}function Ad(t){return fp.Ys(t,Bd.store)}function xd(t){return t.path.H()}function Pd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zu();e=t.noDocument}return JSON.stringify(e).length}var Rd=function(){function t(){this.io=new Nd}return t.prototype.Dr=function(t,e){return this.io.add(e),jf.resolve()},t.prototype.As=function(t,e){return jf.resolve(this.io.getEntries(e))},t}(),Nd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Mc(yc.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mc(yc.$)).H()},t}(),Dd=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ju(n<r&&n>=0&&r<=11);var o=new Hf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fd.store)}(t),function(t){t.createObjectStore(Md.store,{keyPath:Md.keyPath}),t.createObjectStore(Vd.store,{keyPath:Vd.keyPath,autoIncrement:!0}).createIndex(Vd.userMutationsIndex,Vd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ud.store)}(t),Yd(t),function(t){t.createObjectStore(Bd.store)}(t));var a=jf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gd.store),t.deleteObjectStore(Wd.store),t.deleteObjectStore(Kd.store)}(t),Yd(t)),a=a.next((function(){return function(t){var e=t.store(Kd.store),n=new Kd(0,0,pc.min().M(),0);return e.put(Kd.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Vd.store).ui().next((function(n){t.deleteObjectStore(Vd.store),t.createObjectStore(Vd.store,{keyPath:Vd.keyPath,autoIncrement:!0}).createIndex(Vd.userMutationsIndex,Vd.userMutationsKeyPath,{unique:!0});var r=e.store(Vd.store),i=n.map((function(t){return r.put(t)}));return jf.qn(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Xd.store,{keyPath:Xd.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Hd.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bd.store);e.createIndex(Bd.readTimeIndex,Bd.readTimeIndexPath,{unique:!1}),e.createIndex(Bd.collectionReadTimeIndex,Bd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore($d.store,{keyPath:$d.keyPath})}(t),function(t){t.createObjectStore(Zd.store,{keyPath:Zd.keyPath})}(t)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Bd.store)._i((function(t,n){e+=Pd(n)})).next((function(){var n=new Hd(e);return t.store(Hd.store).put(Hd.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Md.store),r=t.store(Vd.store);return n.ui().next((function(n){return jf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Vd.userMutationsIndex,i).next((function(r){return jf.forEach(r,(function(r){Ju(r.userId===n.userId);var i=gd(e.serializer,r);return Cd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Gd.store),n=t.store(Bd.store);return t.store(Kd.store).get(Kd.key).next((function(t){var r=[];return n._i((function(n,i){var o=new yc(n),a=function(t){return[0,ad(t)]}(o);r.push(e.get(a).next((function(n){return n?jf.resolve():function(n){return e.put(new Gd(0,ad(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return jf.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Qd.store,{keyPath:Qd.keyPath});var n=e.store(Qd.store),r=new Nd,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:ad(i)})}};return e.store(Bd.store)._i({li:!0},(function(t,e){var n=new yc(t);return i(n.q())})).next((function(){return e.store(Ud.store)._i({li:!0},(function(t,e){var n=cd(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Wd.store);return n._i((function(t,r){var i=md(r),o=_d(e.serializer,i);return n.put(o)}))},t}(),Ld=function(t,e){this.seconds=t,this.nanoseconds=e},Fd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fd.store="owner",Fd.key="owner";var Md=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Md.store="mutationQueues",Md.keyPath="userId";var Vd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Vd.store="mutations",Vd.keyPath="batchId",Vd.userMutationsIndex="userMutationsIndex",Vd.userMutationsKeyPath=["userId","batchId"];var Ud=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ad(e)]},t.key=function(t,e,n){return[t,ad(e),n]},t}();Ud.store="documentMutations",Ud.PLACEHOLDER=new Ud;var qd=function(t,e){this.path=t,this.readTime=e},zd=function(t,e){this.path=t,this.version=e},Bd=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Bd.store="remoteDocuments",Bd.readTimeIndex="readTimeIndex",Bd.readTimeIndexPath="readTime",Bd.collectionReadTimeIndex="collectionReadTimeIndex",Bd.collectionReadTimeIndexPath=["parentPath","readTime"];var Hd=function(t){this.byteSize=t};Hd.store="remoteDocumentGlobal",Hd.key="remoteDocumentGlobalKey";var Wd=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wd.store="targets",Wd.keyPath="targetId",Wd.queryTargetsIndexName="queryTargetsIndex",Wd.queryTargetsKeyPath=["canonicalId","targetId"];var Gd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gd.store="targetDocuments",Gd.keyPath=["targetId","path"],Gd.documentTargetsIndex="documentTargetsIndex",Gd.documentTargetsKeyPath=["path","targetId"];var Kd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Kd.key="targetGlobalKey",Kd.store="targetGlobal";var Qd=function(t,e){this.collectionId=t,this.parent=e};function Yd(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath}).createIndex(Gd.documentTargetsIndex,Gd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wd.store,{keyPath:Wd.keyPath}).createIndex(Wd.queryTargetsIndexName,Wd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Kd.store)}Qd.store="collectionParents",Qd.keyPath=["collectionId","parent"];var Xd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xd.store="clientMetadata",Xd.keyPath="clientId";var $d=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};$d.store="bundles",$d.keyPath="bundleId";var Zd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zd.store="namedQueries",Zd.keyPath="name";var Jd=Object(Mi.g)(Object(Mi.g)(Object(Mi.g)(Object(Mi.g)([Md.store,Vd.store,Ud.store,Bd.store,Wd.store,Fd.store,Kd.store,Gd.store],[Xd.store]),[Hd.store]),[Qd.store]),[$d.store,Zd.store]),tp=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return ep(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:yd(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return ep(t).put({bundleId:(n=e).id,createTime:vd(Ml(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return np(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:bd(e.bundledQuery),readTime:yd(e.readTime)};var e}))},t.prototype.uo=function(t,e){return np(t).put(function(t){return{name:t.name,readTime:vd(Ml(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ep(t){return fp.Ys(t,$d.store)}function np(t){return fp.Ys(t,Zd.store)}var rp=function(){function t(){this.ao=new Nd}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var o={collectionId:r,parent:ad(i)};return ip(t).put(o)}return jf.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[fc(e),""],!1,!0);return ip(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(cd(o.parent))}return n}))},t}();function ip(t){return fp.Ys(t,Qd.store)}var op=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),ap=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new op(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return pc.N(new dc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return sp(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return Ju(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return sp(t)._i((function(a,s){var u=md(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Vo(t,u)))})).next((function(){return jf.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return sp(t)._i((function(t,n){var r=md(n);e(r)}))},t.prototype.wo=function(t){return up(t).get(Kd.key).next((function(t){return Ju(null!==t),t}))},t.prototype.Eo=function(t,e){return up(t).put(Kd.key,e)},t.prototype.Ro=function(t,e){return sp(t).put(_d(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=Oc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sp(t)._i({range:r,index:Wd.queryTargetsIndexName},(function(t,n,r){var o=md(n);Sc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],o=cp(t);return e.forEach((function(e){var a=ad(e.path);i.push(o.put(new Gd(n,a))),i.push(r.Vr.Do(t,n,e))})),jf.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=cp(t);return jf.forEach(e,(function(e){var o=ad(e.path);return jf.qn([i.delete([n,o]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=cp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=cp(t),i=Kc();return r._i({range:n,li:!0},(function(t,e,n){var r=cd(t[1]),o=new _c(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=ad(e.path),r=IDBKeyRange.bound([n],[fc(n)],!1,!0),i=0;return cp(t)._i({index:Gd.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return sp(t).get(e).next((function(t){return t?md(t):null}))},t}();function sp(t){return fp.Ys(t,Wd.store)}function up(t){return fp.Ys(t,Kd.store)}function cp(t){return fp.Ys(t,Gd.store)}var lp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Mi.c)(e,t),e}(Df),fp=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=a,this.document=s,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new nc(ec.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new vp(this,i),this.Ko=n+"main",this.serializer=new ld(u),this.Wo=new Uf(this.Ko,11,new Dd(this.serializer)),this.jo=new ap(this.Vr,this.serializer),this.os=new rp,this.ss=function(t,e){return new Td(t,e)}(this.serializer,this.os),this.Go=new tp(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&Yu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof hp)return Uf.Ys(t.Lr,e);throw Zu()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new nc(ec.FAILED_PRECONDITION,lp);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new Mf(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return pp(e).put(new Xd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(Bf(e))return Qu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return dp(t).get(Fd.key).next((function(t){return jf.resolve(e.oc(t))}))},t.prototype.cc=function(t){return pp(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,Xd.store);return n.ui().next((function(t){var e=i.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return jf.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?jf.resolve(!0):dp(t).get(Fd.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new nc(ec.FAILED_PRECONDITION,lp);return!1}}return!(!e.networkEnabled||!e.inForeground)||pp(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Qu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var t=this;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Fd.store,Xd.store],(function(e){var n=new hp(e,Mf.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return pp(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return wd.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qu("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Jd,(function(o){return r=new hp(o,i.ko?i.ko.next():Mf.Ds),"readwrite-primary"===e?i.nc(r).next((function(t){return!!t||i.sc(r)})).next((function(e){if(!e)throw Yu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new nc(ec.FAILED_PRECONDITION,Nf);return n(r)})).next((function(t){return i.rc(r).next((function(){return t}))})):i.yc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.yc=function(t){var e=this;return dp(t).get(Fd.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new nc(ec.FAILED_PRECONDITION,lp)}))},t.prototype.rc=function(t){var e=new Fd(this.clientId,this.allowTabSynchronization,Date.now());return dp(t).put(Fd.key,e)},t.Gs=function(){return Uf.Gs()},t.prototype.ic=function(t){var e=this,n=dp(t);return n.get(Fd.key).next((function(t){return e.oc(t)?(Qu("IndexedDbPersistence","Releasing primary lease."),n.delete(Fd.key)):jf.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Yu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Qu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Yu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Yu("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dp(t){return fp.Ys(t,Fd.store)}function pp(t){return fp.Ys(t,Xd.store)}var vp=function(){function t(t,e){this.db=t,this.cr=new od(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return yp(t,n)},t.prototype.No=function(t,e,n){return yp(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return yp(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Sd(t).fi((function(r){return kd(t,r,e).next((function(t){return t&&(n=!0),jf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,(function(a,s){if(s<=e){var u=n.bc(t,a).next((function(e){if(!e)return o++,r.Jn(t,a).next((function(){return r.Hn(a),cp(t).delete([0,ad(a.path)])}))}));i.push(u)}})).next((function(){return jf.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return yp(t,e)},t.prototype.vc=function(t,e){var n,r=cp(t),i=Mf.Ds;return r._i({index:Gd.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Mf.Ds&&e(new _c(cd(n)),i),i=a,n=o):i=Mf.Ds})).next((function(){i!==Mf.Ds&&e(new _c(cd(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function yp(t,e){return cp(t).put(function(t,e){return new Gd(0,ad(t.path),e)}(e,t.Fo))}function gp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mp=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new Dc(lc),this.Nc=new If((function(t){return Oc(t)}),Sc),this.xc=pc.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Lf(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function _p(t,e,n,r){return new mp(t,e,n,r)}function bp(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:return n=tc(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.Mr(t).next((function(a){return o=a,r=n.persistence.mc(e),i=new Lf(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],a=Kc(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i._s(t,a).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}}))}))}function wp(t,e){var n=tc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=jf.resolve();return o.forEach((function(t){a=a.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,a=n.Sn.get(t);Ju(null!==a),(!o||o.version.F(a)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),a.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function kp(t){var e=tc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function Cp(t,e){var n=tc(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var a=[];e.re.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.jo.Co(t,e.de,o).next((function(){return n.jo.So(t,e._e,o)})));var u=e.resumeToken;if(u.ht()>0){var c=s.wt(u,r).dt(t.Fo);i=i.Tt(o,c),function(t,e,n){return Ju(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(s,c,e)&&a.push(n.jo.yo(t,c))}}}));var s=qc();if(e.ce.forEach((function(r,i){e.ue.has(r)&&a.push(n.persistence.Vr.Sc(t,r))})),a.push(function(t,e,n,r,i){var o=Kc();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=qc();return n.forEach((function(n,o){var a=t.get(n),s=r;o instanceof Wh&&o.version.isEqual(pc.min())?(e.Hn(n,s),i=i.Tt(n,o)):null==a||o.version.F(a.version)>0||0===o.version.F(a.version)&&a.hasPendingWrites?(e.jn(o,s),i=i.Tt(n,o)):Qu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){s=t}))),!r.isEqual(pc.min())){var u=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));a.push(u)}return jf.qn(a).next((function(){return o.apply(t)})).next((function(){return n.Oc.fs(t,s)}))})).then((function(t){return n.Cc=i,t}))}function Ep(t,e){var n=tc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function Op(t,e){var n=tc(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?jf.resolve(r=i):n.jo.fo(t).next((function(i){return r=new xc(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function Sp(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:r=tc(t),i=r.Cc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Bf(a=s.sent()))throw a;return Qu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function Tp(t,e,n){var r=tc(t),i=pc.min(),o=Kc();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=tc(t),i=r.Nc.get(n);return void 0!==i?jf.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,nf(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Dc.ws(t,e,n?i:pc.min(),n?o:Kc())})).next((function(t){return{documents:t,Bc:o}}))}))}function Ip(t,e){var n=tc(t),r=tc(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function jp(t){var e=tc(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=tc(t),i=qc(),o=dd(n),a=Ad(e),s=IDBKeyRange.lowerBound(o,!0);return a._i({index:Bd.readTimeIndex,range:s},(function(t,e){var n=hd(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{qc:i,readTime:pd(o)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc;return e.xc=t.readTime,n}))}function Ap(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){return[2,(e=tc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Ad(t),n=pc.min();return e._i({index:Bd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=pd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function xp(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){if(t.code!==ec.FAILED_PRECONDITION||t.message!==Nf)throw t;return Qu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Pp=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Vf(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===ec.RESOURCE_EXHAUSTED?(Yu(e.toString()),Yu("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===ec.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new nc(ec.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(Mi.b)(t,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return Qu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(Qu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return Object(Mi.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(Ju(void 0===e||"string"==typeof e),Ic.fromBase64String(e||"")):(Ju(void 0===e||e instanceof Uint8Array),Ic.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?ec.UNKNOWN:Nc(t.code);return new nc(e,t.message||"")}(a);n=new rl(r,i,o,s||null)}else if("documentChange"in e){var u=e.documentChange,c=zl(t,u.document.name),l=Ml(u.document.updateTime),h=new Uh({mapValue:{fields:u.document.fields}}),f=new Hh(c,l,h,{});n=new el(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=zl(t,d.document),v=d.readTime?Ml(d.readTime):pc.min(),y=new Wh(p,v);n=new el([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var g=e.documentRemove,m=zl(t,g.document);n=new el([],g.removedTargetIds||[],m,null)}else{if(!("filter"in e))return Zu();var _=e.filter,b=new Pc(_.count||0);n=new nl(_.targetId,b)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return pc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?pc.min():e.readTime?Ml(e.readTime):pc.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Wl(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Tc(r)?{documents:Xl(t,r)}:{query:$l(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Ll(t,e.resumeToken):e.ft.F(pc.min())>0&&(n.readTime=Dl(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zu()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Wl(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Pp),Np=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a._u=!1,a}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(Ju(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Ju(void 0!==e),t.map((function(t){return function(t,e){var n=Ml(t.updateTime?t.updateTime:e);n.isEqual(pc.min())&&(n=Ml(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ch(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ml(t.commitTime);return this.listener.wu(n,e)}return Ju(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Wl(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ql(e.serializer,t)}))};this.Zc(n)},e}(Pp),Dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Mi.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new nc(ec.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===ec.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===ec.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),Lp=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Yu(e),this.Vu=!1):Qu("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Fp=function(t,e,n,r,i){var o=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return Object(Mi.b)(o,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return Gp(this)?(Qu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return(e=tc(t)).Mu.add(4),[4,Vp(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,Mp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new Lp(n,r)};function Mp(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:if(!Gp(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Vp(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Up(t,e){var n=tc(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Wp(n)?Hp(n):sv(n).zc()&&zp(n,e))}function qp(t,e){var n=tc(t),r=sv(n);n.Ou.delete(e),r.zc()&&Bp(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Gp(n)&&n.Bu.set("Unknown"))}function zp(t,e){t.qu.De(e.targetId),sv(t).hu(e)}function Bp(t,e){t.qu.De(e),sv(t).lu(e)}function Hp(t){t.qu=new ol({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),sv(t).start(),t.Bu.pu()}function Wp(t){return Gp(t)&&!sv(t).Gc()&&t.Ou.size>0}function Gp(t){return 0===tc(t).Mu.size}function Kp(t){t.qu=void 0}function Qp(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){return t.Ou.forEach((function(e,n){zp(t,e)})),[2]}))}))}function Yp(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(n){return Kp(t),Wp(t)?(t.Bu.Su(e),Hp(t)):t.Bu.set("Unknown"),[2]}))}))}function Xp(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:if(t.Bu.set("Online"),!(e instanceof rl&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Ou.has(o=i[r])?[4,t.xu.Uu(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ou.delete(o),t.qu.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Qu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,$p(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof el?t.qu.$e(e):e instanceof nl?t.qu.je(e):t.qu.qe(e),n.isEqual(pc.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,kp(t.Cu)];case 8:return i=a.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(Ic.lt,n.ft)),Bp(t,e);var r=new xc(n.target,e,1,n.sequenceNumber);zp(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Qu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,$p(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function $p(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r=this;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:if(!Bf(e))throw e;return t.Mu.add(1),[4,Vp(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return kp(t.Cu)}),t.di.Mi((function(){return Object(Mi.b)(r,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return Qu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,Mp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Zp(t,e){return e().catch((function(n){return $p(t,n,e)}))}function Jp(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:e=tc(t),n=uv(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Gp(t)&&t.Fu.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ep(e.Cu,r)];case 3:return null===(i=a.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=uv(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,$p(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tv(e)&&ev(e),[2]}}))}))}function tv(t){return Gp(t)&&!uv(t).Gc()&&t.Fu.length>0}function ev(t){uv(t).start()}function nv(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){return uv(t).Tu(),[2]}))}))}function rv(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Mi.d)(this,(function(i){for(e=uv(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]}))}))}function iv(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=Tf.from(r,e,n),[4,Zp(t,(function(){return t.xu.Ku(i)}))];case 1:return o.sent(),[4,Jp(t)];case 2:return o.sent(),[2]}}))}))}function ov(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return e&&uv(t).fu?[4,function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return Rc(r=e.code)&&r!==ec.ABORTED?(n=t.Fu.shift(),uv(t).Jc(),[4,Zp(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Jp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tv(t)&&ev(t),[2]}}))}))}function av(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return n=tc(t),e?(n.Mu.delete(2),[4,Mp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Vp(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sv(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=tc(t);return r.mu(),new Rp(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Qp.bind(null,t),nu:Yp.bind(null,t),au:Xp.bind(null,t)}),t.ku.push((function(n){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Wp(t)?Hp(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Kp(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function uv(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=tc(t);return r.mu(),new Np(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:nv.bind(null,t),nu:ov.bind(null,t),Eu:rv.bind(null,t),wu:iv.bind(null,t)}),t.ku.push((function(n){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Jp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Qu("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var cv=function(){this.zu=void 0,this.listeners=[]},lv=function(){this.queries=new If((function(t){return af(t)}),of),this.onlineState="Unknown",this.Hu=new Set};function hv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Mi.d)(this,(function(c){switch(c.label){case 0:if(n=tc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new cv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.Ju(r)];case 2:return a.zu=c.sent(),[3,4];case 3:return s=c.sent(),u=Jf(s,"Initialization of query '"+sf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&vv(n),[2]}}))}))}function fv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Mi.d)(this,(function(s){return n=tc(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function dv(t,e){for(var n=tc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Xu(a)&&(r=!0);s.zu=a}}r&&vv(n)}function pv(t,e,n){var r=tc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function vv(t){t.Hu.forEach((function(t){t.next()}))}var yv=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Zc(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Zc.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),gv=function(){function t(){this.ca=new Mc(mv.ua),this.aa=new Mc(mv.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new mv(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new mv(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new _c(new yc([])),r=new mv(n,t),i=new mv(n,t+1),o=[];return this.aa.Kt([r,i],(function(t){e._a(t),o.push(t.key)})),o},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new _c(new yc([])),n=new mv(e,t),r=new mv(e,t+1),i=Kc();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new mv(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),mv=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return _c.$(t.key,e.key)||lc(t.Ta,e.Ta)},t.ha=function(t,e){return lc(t.Ta,e.Ta)||_c.$(t.key,e.key)},t}();function _v(t,e){return"firestore_clients_"+t+"_"+e}function bv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function wv(t,e){return"firestore_targets_"+t+"_"+e}var kv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new nc(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(Yu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new nc(r.error.code,r.error.message)),i?new t(e,r.state,o):(Yu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ev=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Yc(),a=0;i&&a<r.activeTargetIds.length;++a)i=kc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Yu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ov=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Yu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Sv=function(){function t(){this.activeTargetIds=Yc()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tv=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Dc(lc),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=_v(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Sv),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(Mi.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(_v(this.persistenceKey,r)))&&(o=Ev.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(a=this.storage.getItem(this.xa))&&(s=this.Ma(a))&&this.ka(s),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",(function(){return l.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(wv(this.persistenceKey,t));if(n){var r=Cv.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(wv(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Yu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(Mi.b)(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Object(Mi.d)(this,(function(s){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(a=function(t){var e=Mf.Ds;if(null!=t)try{var n=JSON.parse(t);Ju("number"==typeof n),e=n}catch(t){Yu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mf.Ds&&this.ps(a);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new kv(this.currentUser,t,e,n),i=bv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=bv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=wv(this.persistenceKey,t),i=new Cv(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Ev.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return kv.Ia(new Wu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Cv.Ia(r,e)},t.prototype.Ma=function(t){return Ov.Ia(t)},t.prototype.uh=function(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Qu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.ga.dh(a,s).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Yc();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),Iv=function(){function t(){this.wh=new Sv,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Sv,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),jv=function(t){this.key=t},Av=function(t){this.key=t},xv=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Kc(),this.ee=Kc(),this.Ah=cf(t),this.Rh=new Xc(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new $c,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,a=i,s=!1,u=Xh(this.query)&&i.size===this.query.limit?i.last():null,c=$h(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof Hh?e:null;h&&(h=uf(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Xh(this.query)||$h(this.query))for(;a.size>this.query.limit;){var l=Xh(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Rh:a,yh:r,ph:s,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zu()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var a=e?this.Sh():[],s=0===this.mh.size&&this.le?1:0,u=s!==this.Ih;return this.Ih=s,0!==o.length||u?{snapshot:new Zc(this.query,t.Rh,i,o,t.ee,0===s,u,!1),Dh:a}:{Dh:a}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new $c,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Kc(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Av(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new jv(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Kc();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Zc.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Pv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Rv=function(t){this.key=t,this.Fh=!1},Nv=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new If((function(t){return af(t)}),of),this.qh=new Map,this.Uh=[],this.Qh=new Dc(_c.$),this.Kh=new Map,this.Wh=new gv,this.jh={},this.Gh=new Map,this.zh=op._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Dv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:return n=ly(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,Op(n.Cu,nf(e))];case 2:return o=s.sent(),a=n.kh.Wa(o.targetId),[4,Lv(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Jh&&Up(n.Oh,o),s.label=4;case 4:return[2,r]}}))}))}function Lv(t,e,n,r){return Object(Mi.b)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(Mi.d)(this,(function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Mi.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:return(i=e.view.gh(n)).ph?[4,Tp(t.Cu,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.re.get(e.targetId),a=e.view.Zn(i,t.Jh,o),[2,(Yv(t,e.targetId,a.Dh),a.snapshot)]}}))}))}(t,e,n,r)},[4,Tp(t.Cu,e,!0)];case 1:return i=l.sent(),o=new xv(e,i.Bc),a=o.gh(i.documents),s=tl.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(a,t.Jh,s),Yv(t,n,u.Dh),c=new Pv(e,n,o),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}}))}))}function Fv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return n=tc(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!of(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,Sp(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),qp(n.Oh,r.targetId),Kv(n,r.targetId)})).catch(xp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kv(n,r.targetId),[4,Sp(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Mv(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:r=hy(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=tc(t),i=dc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Kc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=jh(c,n.get(c.key));null!=l&&a.push(new Rh(c.key,l,zh(l.proto.mapValue),Eh.exists(!0)))}return r.rs.Sr(t,i,a,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=s.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new Dc(lc)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Zv(r,i.Qn)];case 3:return s.sent(),[4,Jp(r.Oh)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Jf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Vv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:n=tc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cp(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(Ju(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?Ju(r.Fh):t.de.size>0&&(Ju(r.Fh),r.Fh=!1))})),[4,Zv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Uv(t,e,n){var r=tc(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=tc(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)})),r&&vv(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function qv(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(Mi.d)(this,(function(c){switch(c.label){case 0:return(r=tc(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(a=(a=new Dc(_c.$)).Tt(o,new Wh(o,pc.min())),s=Kc().add(o),u=new Jc(pc.min(),new Map,new Mc(lc),a,s),[4,Vv(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),$v(r),[3,4];case 2:return[4,Sp(r.Cu,e,!1).then((function(){return Kv(r,e,n)})).catch(xp)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function zv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:n=tc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,wp(n.Cu,e)];case 2:return i=o.sent(),Gv(n,r,null),Wv(n,r),n.kh.Qa(r,"acknowledged"),[4,Zv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bv(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:r=tc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=tc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return Ju(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=o.sent(),Gv(r,e,n),Wv(r,e),r.kh.Qa(e,"rejected",n),[4,Zv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Hv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:Gp((n=tc(t)).Oh)||Qu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=tc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return o=s.sent(),a=Jf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Wv(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Gv(t,e,n){var r=tc(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Kv(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||Qv(t,e)}))}function Qv(t,e){var n=t.Qh.get(e);null!==n&&(qp(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),$v(t))}function Yv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jv?(t.Wh.Do(o.key,e),Xv(t,o)):o instanceof Av?(Qu("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||Qv(t,o.key)):Zu()}}function Xv(t,e){var n=e.key;t.Qh.get(n)||(Qu("SyncEngine","New document in limbo: "+n),t.Uh.push(n),$v(t))}function $v(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Rv(e)),t.Qh=t.Qh.Tt(e,n),Up(t.Oh,new xc(nf(Yh(e.path)),n,2,Mf.Ds))}}function Zv(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:return r=tc(t),i=[],o=[],a=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,s){a.push(r.Yh(s,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ff.Vs(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.Lh.au(i),[4,function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Object(Mi.d)(this,(function(l){switch(l.label){case 0:n=tc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return jf.forEach(e,(function(e){return jf.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return jf.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Bf(r=l.sent()))throw r;return Qu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Cc.get(s),c=u.Et(u.ft),n.Cc=n.Cc.Tt(s,c));return[2]}}))}))}(r.Cu,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Jv(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return(n=tc(t)).currentUser.isEqual(e)?[3,3]:(Qu("SyncEngine","User change. New user:",e.h()),[4,bp(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new nc(ec.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Zv(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ty(t,e){var n=tc(t),r=n.Kh.get(e);if(r&&r.Fh)return Kc().add(r.key);var i=Kc(),o=n.qh.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Bh.get(s[a]);i=i.Gt(u.view.Ph)}return i}function ey(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return[4,Tp((n=tc(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&Yv(n,e.targetId,i.Dh),i)]}}))}))}function ny(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){return[2,jp((e=tc(t)).Cu).then((function(t){return Zv(e,t)}))]}))}))}function ry(t,e,n,r){return Object(Mi.b)(this,void 0,void 0,(function(){var i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=tc(t),r=tc(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):jf.resolve(null)}))}))}((i=tc(t)).Cu,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Jp(i.Oh)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gv(i,e,r||null),Wv(i,e),function(t,e){tc(tc(t).rs).Br(e)}(i.Cu,e)):Zu(),a.label=4;case 4:return[4,Zv(i,o)];case 5:return a.sent(),[3,7];case 6:Qu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function iy(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(Mi.d)(this,(function(c){switch(c.label){case 0:return ly(n=tc(t)),hy(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,oy(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,av(n.Oh,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Up(n.Oh,a[o]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(s=[],u=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?s.push(e):u=u.then((function(){return Kv(n,e),Sp(n.Cu,e,!0)})),qp(n.Oh,e)})),[4,u]);case 4:return c.sent(),[4,oy(n,s)];case 5:return c.sent(),function(t){var e=tc(t);e.Kh.forEach((function(t,n){qp(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new Dc(_c.$)}(n),n.Hh=!1,[4,av(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function oy(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(Mi.d)(this,(function(v){switch(v.label){case 0:n=tc(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.qh.get(s=a[o]))&&0!==c.length?[4,Op(n.Cu,nf(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,ey(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ip(n.Cu,s)];case 8:return p=v.sent(),[4,Op(n.Cu,p)];case 9:return u=v.sent(),[4,Lv(n,ay(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function ay(t){return Qh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sy(t){var e=tc(t);return tc(tc(e.Cu).persistence).Ic()}function uy(t,e,n,r){return Object(Mi.b)(this,void 0,void 0,(function(){var i,o,a;return Object(Mi.d)(this,(function(s){switch(s.label){case 0:return(i=tc(t)).Hh?(Qu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jp(i.Cu)];case 3:return o=s.sent(),a=Jc.ae(e,"current"===n),[4,Zv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Sp(i.Cu,e,!0)];case 6:return s.sent(),Kv(i,e,r),[3,8];case 7:Zu(),s.label=8;case 8:return[2]}}))}))}function cy(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Object(Mi.d)(this,(function(f){switch(f.label){case 0:if(!(r=ly(t)).Hh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.qh.has(a=o[i])?(Qu("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ip(r.Cu,a)]:[3,6];case 2:return s=f.sent(),[4,Op(r.Cu,s)];case 3:return u=f.sent(),[4,Lv(r,ay(s),u.targetId,!1)];case 4:f.sent(),Up(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,Sp(r.Cu,t,!1).then((function(){qp(r.Oh,t),Kv(r,t)})).catch(xp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function ly(t){var e=tc(t);return e.Oh.xu.Qu=Vv.bind(null,e),e.Oh.xu.Xe=ty.bind(null,e),e.Oh.xu.Uu=qv.bind(null,e),e.Lh.au=dv.bind(null,e.Mh),e.Lh.Xh=pv.bind(null,e.Mh),e}function hy(t){var e=tc(t);return e.Oh.xu.Ku=zv.bind(null,e),e.Oh.xu.Wu=Bv.bind(null,e),e}var fy=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(pc.min())?this.tl(t,e):this.Zh._s(t,r).next((function(o){var a=i.el(e,o);return(Xh(e)||$h(e))&&i.ph(e.limitType,a,r,n)?i.tl(t,e):(Ku()<=Ui.a.DEBUG&&Qu("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),sf(e)),i.Zh.ws(t,e,n).next((function(t){return a.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Mc(cf(t));return e.forEach((function(e,r){r instanceof Hh&&uf(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Ku()<=Ui.a.DEBUG&&Qu("IndexFreeQueryEngine","Using full collection scan to execute query:",sf(e)),this.Zh.ws(t,e,pc.min())},t}(),dy=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Mc(mv.ua)}return t.prototype.br=function(t){return jf.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var o=new Sf(i,e,n,r);this.rs.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.sl=this.sl.add(new mv(u.key,i)),this.os.Dr(t,u.key.path.q())}return jf.resolve(o)},t.prototype.Cr=function(t,e){return jf.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return jf.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return jf.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return jf.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new mv(e,0),i=new mv(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);o.push(e)})),jf.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Mc(lc);return e.forEach((function(t){var e=new mv(t,0),i=new mv(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),jf.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;_c.ot(i)||(i=i.child(""));var o=new mv(new _c(i),0),a=new Mc(lc);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(a=a.add(t.Ta)),!0)}),o),jf.resolve(this.ol(a))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;Ju(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return jf.forEach(e.mutations,(function(i){var o=new mv(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new mv(e,0),r=this.sl.jt(n);return jf.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return jf.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),py=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Dc(_c.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:a,readTime:n}),this.size+=a-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return jf.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=zc();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),jf.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Hc(),i=new _c(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var a=o.Ct(),s=a.value,u=s.zn,c=s.readTime;if(!e.path.j(a.key.path))break;c.F(n)<=0||u instanceof Hh&&uf(e,u)&&(r=r.Tt(u.key,u))}return jf.resolve(r)},t.prototype.al=function(t,e){return jf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new vy(this)},t.prototype.eo=function(t){return jf.resolve(this.size)},t}(),vy=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Mi.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),jf.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Af),yy=function(){function t(t){this.persistence=t,this.hl=new If((function(t){return Oc(t)}),Sc),this.lastRemoteSnapshotVersion=pc.min(),this.highestTargetId=0,this.ll=0,this._l=new gv,this.targetCount=0,this.fl=op.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),jf.resolve()},t.prototype.To=function(t){return jf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return jf.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),jf.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),jf.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new op(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,jf.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),jf.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,jf.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.hl.delete(a),o.push(r.po(t,s.targetId)),i++)})),jf.qn(o).next((function(){return i}))},t.prototype.vo=function(t){return jf.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return jf.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),jf.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),jf.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),jf.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return jf.resolve(n)},t.prototype.Qr=function(t,e){return jf.resolve(this._l.Qr(e))},t}(),gy=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return jf.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Ml(n.createTime)}),jf.resolve()},t.prototype.co=function(t,e){return jf.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:bd(n.bundledQuery),readTime:Ml(n.readTime)}),jf.resolve()},t}(),my=function(){function t(t,e){var n=this;this.El={},this.ko=new Mf(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new yy(this),this.os=new Rd,this.ss=function(t,e){return new py(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new ld(e),this.Go=new gy(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new dy(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Qu("MemoryPersistence","Starting transaction:",t);var i=new _y(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return jf.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),_y=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Mi.c)(e,t),e}(Df),by=function(){function t(t){this.persistence=t,this.Rl=new gv,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Zu()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),jf.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),jf.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),jf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return jf.forEach(this.yl,(function(r){var i=_c.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return jf.Un([function(){return jf.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),wy=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Mi.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var a=new qu;a.listenOnce(Mu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Fu.NO_ERROR:var e=a.getResponseJson();Qu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fu.TIMEOUT:Qu("Connection",'RPC "'+t+'" timed out'),o(new nc(ec.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:var n=a.getStatus();if(Qu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(ec).indexOf(e)>=0?e:ec.UNKNOWN}(r.status);o(new nc(s,r.message))}else o(new nc(ec.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new nc(ec.UNAVAILABLE,"Connection failed."));break;default:Zu()}}finally{Qu("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pu,i=Da(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(qi.l)()||Object(qi.n)()||Object(qi.j)()||Object(qi.k)()||Object(qi.o)()||Object(qi.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Qu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new wy({pl:function(t){c?Qu("Connection","Not sending because WebChannel is closed:",t):(u||(Qu("Connection","Opening WebChannel transport."),s.open(),u=!0),Qu("Connection","WebChannel sending:",t),s.send(t))},vl:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Uu.EventType.OPEN,(function(){c||Qu("Connection","WebChannel transport opened.")})),h(s,Uu.EventType.CLOSE,(function(){c||(c=!0,Qu("Connection","WebChannel transport closed"),l.Nl())})),h(s,Uu.EventType.ERROR,(function(t){c||(c=!0,Xu("Connection","WebChannel transport errored:",t),l.Nl(new nc(ec.UNAVAILABLE,"The operation could not be completed")))})),h(s,Uu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Ju(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=jc[t];if(void 0!==e)return Nc(e)}(i),a=r.message;void 0===o&&(o=ec.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new nc(o,a)),s.close()}else Qu("Connection","WebChannel received:",n),l.xl(n)}})),h(i,Vu.STAT_EVENT,(function(t){10===t.stat?Qu("Connection","Detected buffering proxy"):11===t.stat&&Qu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Qu("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return Qu("RestConnection","Received: ",t),t}),(function(e){throw Xu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+ky[t]},t}()),Ey=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Qu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Qu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Oy=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),Sy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return this.serializer=Pf(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return _p(this.persistence,new fy,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new my(by.gl,this.serializer)},t.prototype.jl=function(t){return new Iv},t.prototype.terminate=function(){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),Ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Mi.c)(e,t),e.prototype.initialize=function(e){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ap(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,hy(this.Xl.ga)];case 4:return n.sent(),[4,Jp(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return _p(this.persistence,new fy,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new id(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=gp(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?rd.er(this.cacheSizeBytes):rd.ir;return new fp(this.synchronizeTabs,e,t.clientId,n,t.di,Yf(),Xf(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Iv},e}(Sy),Iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Mi.c)(e,t),e.prototype.initialize=function(e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Tv?(this.kh.ga={_h:ry.bind(null,n),fh:uy.bind(null,n),dh:cy.bind(null,n),Ic:sy.bind(null,n),lh:ny.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return Object(Mi.b)(r,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,iy(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Yf();if(!Tv.Gs(e))throw new nc(ec.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gp(t.Fl.t,t.Fl.persistenceKey);return new Tv(e,t.di,n,t.clientId,t.Yl)},e}(Ty),jy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n=this;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return Uv(n.ga,t,1)},this.Oh.xu.s_=Jv.bind(null,this.ga),[4,av(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new lv},t.prototype.Zl=function(t){var e=Pf(t.Fl.t),n=new Cy(t.Fl);return function(t,e,n){return new Dp(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return Uv(a.ga,t,0)},o=Ey.Gs()?new Ey:new Oy,new Fp(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new Nv(t,e,n,r,i,o);return a&&(s.Hh=!0),s}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return e=tc(t),Qu("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Vp(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Ay=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),xy=function(t){this.o_=t};function Py(t,e,n){if(!n)throw new nc(ec.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ry(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nc(ec.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ny(t,e,n,r){if(!0===e&&!0===r)throw new nc(ec.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dy(t){if(!_c.ot(t))throw new nc(ec.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ly(t){if(_c.ot(t))throw new nc(ec.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Fy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zu()}function My(t,e){if(t instanceof xy&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new nc(ec.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Fy(t);throw new nc(ec.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Vy(t,e){if(e<=0)throw new nc(ec.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Uy=function(t){this.c_=t},qy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Uy);function zy(t,e,n){return new Wg({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var By=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.u_=function(t){return new kh(t.path,new dh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Uy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Mi.c)(e,t),e.prototype.u_=function(t){var e=zy(this,t,!0),n=this.f_.map((function(t){return $g(t,e)})),r=new ph(n);return new kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Uy),Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Mi.c)(e,t),e.prototype.u_=function(t){var e=zy(this,t,!0),n=this.f_.map((function(t){return $g(t,e)})),r=new yh(n);return new kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Uy),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Mi.c)(e,t),e.prototype.u_=function(t){var e=new mh(t.serializer,Nl(t.serializer,this.d_));return new kh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Uy),Ky=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new nc(ec.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nc(ec.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return lc(this.w_,t.w_)||lc(this.E_,t.E_)},t}(),Qy=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(Ic.fromBase64String(e))}catch(e){throw new nc(ec.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ic.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),Yy=new Map,Xy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new nc(ec.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nc(ec.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ny("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),$y=function(){function t(t,e){this.I_="(lite)",this.m_=new Xy({}),this.A_=!1,t instanceof Hu?(this.R_=t,this.P_=new ic):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nc(ec.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(t.options.projectId)}(t),this.P_=new oc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new nc(ec.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new nc(ec.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Xy(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new ic;switch(t.type){case"gapi":var e=t.client;return Ju(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new nc(ec.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=Yy.get(t);e&&(Qu("ComponentProvider","Removing Datastore"),Yy.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Zy(){if("undefined"==typeof Uint8Array)throw new nc(ec.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Jy(){if("undefined"==typeof atob)throw new nc(ec.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.fromBase64String=function(t){return Jy(),new e(Qy.fromBase64String(t))},e.fromUint8Array=function(t){return Zy(),new e(Qy.fromUint8Array(t))},e.prototype.toBase64=function(){return Jy(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Zy(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(xy),eg=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),pl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wl(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(kl(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Zu()}},t.prototype.L_=function(t,e){var n=this,r={};return cl(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new Ky(wl(t.latitude),wl(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return hl(n)?t(n):n}(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(fl(t));default:return null}},t.prototype.N_=function(t){var e=bl(t);return new dc(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=yc.Y(t);Ju(uh(n));var r=new Hu(n.get(1),n.get(3)),i=new _c(n.B(5));return r.isEqual(e)||Yu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Mi.c)(e,t),e.prototype.F_=function(t){return new tg(new Qy(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return jm.q_(e,this.firestore,null)},e}(eg),rg=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new bg(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new ig(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(og("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rg);function og(t,e){return"string"==typeof e?rm(t,e):e instanceof xy?e.o_.G_:e.G_}var ag=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new nc(ec.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new mc(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),sg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Zf,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Mi.c)(e,t),e.prototype.D_=function(){return this.H_||Sm(this),this.H_.terminate()},e}($y);function ug(t,e,n){var r=this,i=new xf;return t.di.enqueue((function(){return Object(Mi.b)(r,void 0,void 0,(function(){var r;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cm(t,n)];case 1:return o.sent(),[4,lm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ec.FAILED_PRECONDITION||t.code===ec.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function cg(t){if(t.y_||t.V_)throw new nc(ec.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lg=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).U_=e,s.J_=e,s.metadata=o,s}return Object(Mi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new hg(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(og("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(rg),hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lg),fg=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Rm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new hg(n.U_,n.Q_,r.key,r,new Rm(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new nc(ec.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){return{type:"added",doc:new hg(t.U_,t.Q_,e.doc.key,e.doc,new Rm(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new hg(t.U_,t.Q_,e.doc.key,e.doc,new Rm(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:dg(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Z_=e),this.X_},t}();function dg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zu()}}function pg(t,e){return t instanceof lg&&e instanceof lg?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof fg&&e instanceof fg&&t.U_===e.U_&&Vg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var vg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Mi.c)(e,t),e.prototype.F_=function(t){return new Qy(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new bg(this.firestore,null,e)},e}(eg);function yg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=My(t.firestore,sg),a=Ug(o);return e instanceof xy&&(e=e.o_),mg(o,("string"==typeof e||e instanceof ag?Yg(a,"updateDoc",t.K_,e,n,r):Qg(a,"updateDoc",t.K_,e)).ef(t.K_,Eh.exists(!0)))}function gg(t){for(var e,n,r,i=this,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[u]||Rf(o[u])||(s=o[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Rf(o[u])){var d=o[u];o[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),o[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),o[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof bg)l=My(t.firestore,sg),h=Yh(t.K_.path),c={next:function(e){o[u]&&o[u](_g(l,t,e))},error:o[u+1],complete:o[u+2]};else{l=My(t.firestore,sg),h=t.tf;var p=new vg(l);c={next:function(e){o[u]&&o[u](new fg(l,p,t,e))},error:o[u+1],complete:o[u+2]},Rg(t.tf)}var v=Om(l),y=new Ay(c),g=new yv(h,y,f);return l.z_.Ri((function(){return Object(Mi.b)(i,void 0,void 0,(function(){var t;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t=hv,[4,gm(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}}))}))})),function(){y.r_(),l.z_.Ri((function(){return Object(Mi.b)(i,void 0,void 0,(function(){var t;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t=fv,[4,gm(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}}))}))}))}}function mg(t,e){return function(t,e){var n=this,r=new xf;return t.di.Ri((function(){return Object(Mi.b)(n,void 0,void 0,(function(){var n;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return n=Mv,[4,ym(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Om(t),e)}function _g(t,e,n){var r=n.docs.get(e.K_),i=new vg(t);return new lg(t,i,e.K_,r,new Rm(n.hasPendingWrites,n.fromCache),e.j_)}var bg=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ng(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),wg=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),kg=function(){};function Cg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var Eg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Mi.c)(e,t),e.prototype.sf=function(t){var e=Ug(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new nc(ec.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){xg(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Ag(r,t,l[c]));s={arrayValue:{values:u}}}else s=Ag(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||xg(a,o),s=Xg(n,"where",a,"in"===o||"not-in"===o);var h=lf.create(i,o,s);return function(t,e){if(e.An()){var n=Jh(t);if(null!==n&&!n.isEqual(e.field))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Zh(t);null!==r&&Pg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new nc(ec.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new wg(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(kg),Og=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Mi.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new nc(ec.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nc(ec.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cf(e,n);return function(t,e){if(null===Zh(t)){var n=Jh(t);null!==n&&Pg(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new wg(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Kh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(kg),Sg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Mi.c)(e,t),e.prototype.sf=function(t){return new wg(t.firestore,t.j_,rf(t.tf,this.hf,this.lf))},e}(kg),Tg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Mi.c)(e,t),e.prototype.sf=function(t){var e=jg(t,this.type,this._f,this.ff);return new wg(t.firestore,t.j_,function(t,e){return new Kh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(kg),Ig=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Mi.c)(e,t),e.prototype.sf=function(t){var e=jg(t,this.type,this._f,this.ff);return new wg(t.firestore,t.j_,function(t,e){return new Kh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(kg);function jg(t,e,n,r){if(n[0]instanceof xy&&(n[0]=n[0].o_),n[0]instanceof rg)return function(t,e,n,r,i){if(!r)throw new nc(ec.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ef(t);a<s.length;a++){var u=s[a];if(u.field.tt())o.push(Cl(e,r.key));else{var c=r.field(u.field);if(hl(c))throw new nc(ec.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new nc(ec.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new _f(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=Ug(t.firestore);return function(t,e,n,r,i,o){var a=t.Tn;if(i.length>a.length)throw new nc(ec.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.tt()){if("string"!=typeof c)throw new nc(ec.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!tf(t)&&-1!==c.indexOf("/"))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(yc.Y(c));if(!_c.ot(l))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new _c(l);s.push(Cl(e,h))}else{var f=Xg(n,r,c);s.push(f)}}return new _f(s,o)}(t.tf,t.firestore.R_,i,e,n,r)}function Ag(t,e,n){if(n instanceof xy&&(n=n.o_),"string"==typeof n){if(""===n)throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tf(e)&&-1!==n.indexOf("/"))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yc.Y(n));if(!_c.ot(r))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cl(t,new _c(r))}if(n instanceof bg)return Cl(t,n.K_);throw new nc(ec.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Fy(n)+".")}function xg(t,e){if(!Array.isArray(t)||0===t.length)throw new nc(ec.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new nc(ec.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Pg(t,e,n){if(!n.isEqual(e))throw new nc(ec.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Rg(t){if($h(t)&&0===t.Tn.length)throw new nc(ec.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Yh(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new bg(this.firestore,null,new _c(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(wg);function Dg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Py("collection","path",e),t instanceof $y){var i=yc.Y.apply(yc,Object(Mi.g)([e],n));return Ly(i),new Ng(t,null,i)}if(!(t instanceof bg||t instanceof Ng))throw new nc(ec.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=yc.Y.apply(yc,Object(Mi.g)([t.path],n)).child(yc.Y(e));return Ly(o),new Ng(t.firestore,null,o)}function Lg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=cc.D()),Py("doc","path",e),t instanceof $y){var i=yc.Y.apply(yc,Object(Mi.g)([e],n));return Dy(i),new bg(t,null,new _c(i))}if(!(t instanceof bg||t instanceof Ng))throw new nc(ec.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(yc.Y.apply(yc,Object(Mi.g)([e],n)));return Dy(o),new bg(t.firestore,t instanceof Ng?t.j_:null,new _c(o))}var Fg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Mi.c)(e,t),e.prototype.F_=function(t){return new Qy(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new bg(this.firestore,null,e)},e}(eg);function Mg(t,e){return(t instanceof bg||t instanceof Ng)&&(e instanceof bg||e instanceof Ng)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function Vg(t,e){return t instanceof wg&&e instanceof wg&&t.firestore===e.firestore&&of(t.tf,e.tf)&&t.j_===e.j_}function Ug(t){var e=t.S_(),n=Pf(t.R_);return new Gg(t.R_,!!e.ignoreUndefinedProperties,n)}var qg=/^__.*__$/,zg=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Rh(t,this.data,this.en,e):new Ph(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Dh(t,this.fieldTransforms)),n},t}(),Bg=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Rh(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Dh(t,this.fieldTransforms)),n},t}();function Hg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zu()}}var Wg=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return im(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Hg(this.a_)&&qg.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Gg=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Pf(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Wg({a_:t,methodName:e,l_:n,path:mc.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Kg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);tm("Data must be an object, but it was:",a,r);var s,u,c=Zg(r,a);if(o.merge)s=new wh(a.en),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=em(e,f[h],n);if(!a.contains(d))throw new nc(ec.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");om(l,d)||l.push(d)}s=new wh(l),u=a.fieldTransforms.filter((function(t){return s.un(t.field)}))}else s=null,u=a.fieldTransforms;return new zg(new Uh(c),s,u)}function Qg(t,e,n,r){var i=t.Rf(1,e,n);tm("Data must be an object, but it was:",i,r);var o=[],a=new qh;cl(r,(function(t,r){var s=rm(e,t,n);r instanceof xy&&(r=r.o_);var u=i.If(s);if(r instanceof qy)o.push(s);else{var c=$g(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new wh(o);return new Bg(a.hn(),s,i.fieldTransforms)}function Yg(t,e,n,r,i,o){var a=t.Rf(1,e,n),s=[em(e,r,n)],u=[i];if(o.length%2!=0)throw new nc(ec.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(em(e,o[c])),u.push(o[c+1]);for(var l=[],h=new qh,f=s.length-1;f>=0;--f)if(!om(l,s[f])){var d=s[f],p=u[f];p instanceof xy&&(p=p.o_);var v=a.If(d);if(p instanceof qy)l.push(d);else{var y=$g(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new wh(l);return new Bg(h.hn(),g,a.fieldTransforms)}function Xg(t,e,n,r){return void 0===r&&(r=!1),$g(n,t.Rf(r?4:3,e))}function $g(t,e){if(t instanceof xy&&(t=t.o_),Jg(t))return tm("Unsupported field value:",e,t),Zg(t,e);if(t instanceof Uy)return function(t,e){if(!Hg(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=$g(o[i],e.mf(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof xy&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nl(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=dc.fromDate(t);return{timestampValue:Dl(e.serializer,n)}}if(t instanceof dc){var r=new dc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dl(e.serializer,r)}}if(t instanceof Ky)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qy)return{bytesValue:Ll(e.serializer,t.T_)};if(t instanceof bg){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Vl(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Fy(t))}(t,e)}function Zg(t,e){var n={};return ll(t)?e.path&&e.path.length>0&&e.en.push(e.path):cl(t,(function(t,r){var i=$g(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Jg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof dc||t instanceof Ky||t instanceof Qy||t instanceof bg||t instanceof Uy)}function tm(t,e,n){if(!Jg(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Fy(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function em(t,e,n){if(e instanceof xy&&(e=e.o_),e instanceof ag)return e.G_;if("string"==typeof e)return rm(t,e);throw im("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var nm=new RegExp("[~\\*/\\[\\]]");function rm(t,e,n){if(e.search(nm)>=0)throw im("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ag.bind.apply(ag,Object(Mi.g)([void 0],e.split("."))))).G_}catch(r){throw im("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function im(t,e,n,r,i){var o=r&&!r.W(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new nc(ec.INVALID_ARGUMENT,(s+=". ")+t+u)}function om(t,e){return t.some((function(t){return t.isEqual(e)}))}var am=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new nc(ec.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(Mi.d)(this,(function(u){switch(u.label){case 0:return n=tc(t),r=Wl(n.serializer)+"/documents",i={documents:e.map((function(t){return ql(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Ju(!!e.found);var n=zl(t,e.found.name),r=Ml(e.found.updateTime),i=new Uh({mapValue:{fields:e.found.fields}});return new Hh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ju(!!e.missing),Ju(!!e.readTime);var n=zl(t,e.missing),r=Ml(e.readTime);return new Wh(n,r)}(t,e):Zu()}(n.serializer,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Ju(!!e),s.push(e)})),s)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Wh||t instanceof Hh?n.bf(t):Zu()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Mh(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Mi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=_c.st(n);e.mutations.push(new Vh(r,e.rn(r)))})),[4,function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Mi.d)(this,(function(o){switch(o.label){case 0:return n=tc(t),r=Wl(n.serializer)+"/documents",i={writes:e.map((function(t){return Ql(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof Hh)e=t.version;else{if(!(t instanceof Wh))throw Zu();e=pc.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new nc(ec.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?Eh.updateTime(e):Eh.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(pc.min()))throw new nc(ec.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Eh.updateTime(e)}return Eh.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),sm=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Vf(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return Object(Mi.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Mi.d)(this,(function(r){return t=new am(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!bc(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Rc(e)}return!1},t}(),um=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Wu.UNAUTHENTICATED,this.clientId=cc.D(),this.Of=function(){},this.g=new xf,this.credentials.A((function(t){Qu("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new nc(ec.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new xf;return this.di.Ni((function(){return Object(Mi.b)(t,void 0,void 0,(function(){var t,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function cm(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),Qu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return Object(Mi.b)(r,void 0,void 0,(function(){return Object(Mi.d)(this,(function(t){switch(t.label){case 0:return[4,bp(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function lm(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,hm(t)];case 1:return n=i.sent(),Qu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return Object(Mi.b)(this,void 0,void 0,(function(){var n,r;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return(n=tc(t)).di.Li(),Qu("RemoteStore","RemoteStore received new credentials"),r=Gp(n),n.Mu.add(3),[4,Vp(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,Mp(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function hm(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Qu("FirestoreClient","Using default OfflineComponentProvider"),[4,cm(t,new Sy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function fm(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(Qu("FirestoreClient","Using default OnlineComponentProvider"),[4,lm(t,new jy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function dm(t){return hm(t).then((function(t){return t.persistence}))}function pm(t){return hm(t).then((function(t){return t.Cu}))}function vm(t){return fm(t).then((function(t){return t.Oh}))}function ym(t){return fm(t).then((function(t){return t.ga}))}function gm(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return[4,fm(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Dv.bind(null,e.ga),n.Zu=Fv.bind(null,e.ga),n)]}}))}))}function mm(t,e,n,r,i){var o=new Ay({next:function(o){e.Ri((function(){return fv(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new nc(ec.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new nc(ec.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new yv(Yh(n.path),o,{includeMetadataChanges:!0,oa:!0});return hv(t,a)}function _m(t,e,n,r,i){var o=new Ay({next:function(n){e.Ri((function(){return fv(t,a)})),n.fromCache&&"server"===r.source?i.reject(new nc(ec.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new yv(n,o,{includeMetadataChanges:!0,oa:!0});return hv(t,a)}var bm=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=Ug(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=wm(t,this.U_),i=qm(r.j_,e,n),o=Kg(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,Eh.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,a=wm(t,this.U_);return e instanceof xy&&(e=e.o_),o="string"==typeof e||e instanceof ag?Yg(this.Qf,"WriteBatch.update",a.K_,e,n,r):Qg(this.Qf,"WriteBatch.update",a.K_,e),this.qf=this.qf.concat(o.ef(a.K_,Eh.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=wm(t,this.U_);return this.qf=this.qf.concat(new Mh(e.K_,Eh.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new nc(ec.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wm(t,e){if(t instanceof xy&&(t=t.o_),t.firestore!==e)throw new nc(ec.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var km=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Mi.c)(e,t),e.prototype.get=function(e){var n=this,r=wm(e,this.U_),i=new vg(this.U_);return t.prototype.get.call(this,e).then((function(t){return new lg(n.U_,i,r.K_,t.W_,new Rm(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=Ug(t)}return t.prototype.get=function(t){var e=this,n=wm(t,this.U_),r=new Fg(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return Zu();var i=t[0];if(i instanceof Wh)return new rg(e.U_,r,n.K_,null,n.j_);if(i instanceof Hh)return new rg(e.U_,r,i.key,i,n.j_);throw Zu()}))},t.prototype.set=function(t,e,n){var r=wm(t,this.U_),i=qm(r.j_,e,n),o=Kg(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=wm(t,this.U_);return e instanceof xy&&(e=e.o_),o="string"==typeof e||e instanceof ag?Yg(this.Qf,"Transaction.update",a.K_,e,n,r):Qg(this.Qf,"Transaction.update",a.K_,e),this.Wf.update(a.K_,o),this},t.prototype.delete=function(t){var e=wm(t,this.U_);return this.Wf.delete(e.K_),this},t}()),Cm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cg(t);var n=Om(t),r=t.S_(),i=new jy;return ug(n,i,new Ty(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cg(t);var e=Om(t),n=t.S_(),r=new jy;return ug(e,r,new Iy(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new nc(ec.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xf;return t.z_.Ni((function(){return Object(Mi.b)(e,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Mi.b)(this,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return Uf.Gs()?[4,Uf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(gp(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Hu||(i.Gf=e),i}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Mi.b)(e,void 0,void 0,(function(){var e,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return[4,dm(t)];case 1:return e=r.sent(),[4,vm(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=tc(t);return e.Mu.delete(0),Mp(e)}(n))]}}))}))}))}(Om(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(Mi.b)(e,void 0,void 0,(function(){var e,n;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return[4,dm(t)];case 1:return e=r.sent(),[4,vm(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Mi.b)(this,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(n){switch(n.label){case 0:return(e=tc(t)).Mu.add(0),[4,Vp(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Om(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ny("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xf;return t.di.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){var e;return Object(Mi.d)(this,(function(r){switch(r.label){case 0:return e=Hv,[4,ym(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Om(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=Om(t),i=Rf(e)?e:{next:e},o=new Ay(i);return t.z_.Ri((function(){return Object(Mi.b)(n,void 0,void 0,(function(){var t;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){tc(t).Hu.add(e),e.next()},[4,gm(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))})),function(){o.r_(),t.z_.Ri((function(){return Object(Mi.b)(n,void 0,void 0,(function(){var t;return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){tc(t).Hu.delete(e)},[4,gm(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new nc(ec.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vm(this,Dg(this.o_,t))}catch(t){throw Am(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new jm(this,Lg(this.o_,t))}catch(t){throw Am(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Lm(this,function(t,e){if(Py("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nc(ec.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new wg(t,null,function(t){return new Kh(yc.X(),t)}(e))}(this.o_,t))}catch(t){throw Am(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xf;return t.di.Ri((function(){return Object(Mi.b)(n,void 0,void 0,(function(){var n;return Object(Mi.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return fm(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new sm(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(Om(t),(function(n){return e(new km(t,n))}))}(this.o_,(function(n){return t(new Tm(e,n))}))},e.prototype.batch=function(){var t=this;return Om(this.o_),new Im(new bm(this.o_,(function(e){return mg(t.o_,e)})))},e}(xy);function Om(t){return t.H_||Sm(t),t.H_.kf(),t.H_}function Sm(t){var e=t.S_(),n=function(t,e,n){return new Bu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new um(t.P_,t.z_,n)}var Tm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Mi.c)(e,t),e.prototype.get=function(t){var e=this,n=Um(t);return this.o_.get(n).then((function(t){return new Nm(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=Um(t);return n?(Ry("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Um(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(Mi.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Um(t);return this.o_.delete(e),this},e}(xy),Im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.set=function(t,e,n){var r=Um(t);return n?(Ry("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Um(t);return 2===arguments.length?this.o_.update(a,e):(r=this.o_).update.apply(r,Object(Mi.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=Um(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(xy),jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new ng(e),r}return Object(Mi.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new nc(ec.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new bg(n.o_,r,new _c(t)))},e.q_=function(t,n,r){return new e(n,new bg(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vm(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vm(this.firestore,Dg(this.o_,t))}catch(t){throw Am(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof xy&&(t=t.o_),t instanceof bg&&Mg(this.o_,t)},e.prototype.set=function(t,e){e=Ry("DocumentReference.set",e);try{return function(t,e,n){var r=My(t.firestore,sg),i=qm(t.j_,e,n);return mg(r,Kg(Ug(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,Eh.on()))}(this.o_,t,e)}catch(t){throw Am(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?yg(this.o_,t):yg.apply(void 0,Object(Mi.g)([this.o_,t,e],n))}catch(t){throw Am(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return mg(My((t=this.o_).firestore,sg),[new Mh(t.K_,Eh.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xm(e),i=Pm(e,(function(e){return new Nm(t.firestore,new lg(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return gg(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new vg(n),o=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,pm(r)];case 1:return[4,function(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Mi.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(t,e){var n=tc(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=a.sent())instanceof Hh?n.resolve(r):r instanceof Wh?n.resolve(null):n.reject(new nc(ec.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=a.sent(),o=Jf(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new lg(n,i,t.K_,e,new Rm(e instanceof Hh&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,gm(r)];case 1:return[4,mm(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return _g(n,t,e)}))}(this.o_):function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,gm(r)];case 1:return[4,mm(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return _g(n,t,e)}))}(this.o_)).then((function(t){return new Nm(e.firestore,new lg(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(xy);function Am(t,e,n){return t.message=t.message.replace(e,n),t}function xm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Rf(r))return r}return{}}function Pm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Rf(t[0])?t[0]:Rf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Nm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new jm(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return pg(this.o_,t.o_)},e}(xy),Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Nm),Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Mi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Cg(this.o_,function(t,e,n){var r=e,i=og("where",t);return new Eg(i,r,n)}(t,n,r)))}catch(t){throw Am(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Cg(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=og("orderBy",t);return new Og(r,n)}(t,n)))}catch(t){throw Am(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Cg(this.o_,function(t){return Vy("limit",t),new Sg("limit",t,"F")}(t)))}catch(t){throw Am(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Cg(this.o_,function(t){return Vy("limitToLast",t),new Sg("limitToLast",t,"L")}(t)))}catch(t){throw Am(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Am(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Am(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ig("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Am(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ig("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Am(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Vg(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new vg(n),o=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,pm(r)];case 1:return[4,function(t,e,n){return Object(Mi.b)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Object(Mi.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Tp(t,e,!0)];case 1:return r=c.sent(),i=new xv(e,r.Bc),o=i.gh(r.documents),a=i.Zn(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=c.sent(),u=Jf(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new fg(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new vg(n),o=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,gm(r)];case 1:return[4,_m(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new fg(n,i,t,e)}))}(this.o_):function(t){var e=this,n=My(t.firestore,sg),r=Om(n),i=new vg(n);Rg(t.tf);var o=new xf;return n.z_.Ri((function(){return Object(Mi.b)(e,void 0,void 0,(function(){return Object(Mi.d)(this,(function(e){switch(e.label){case 0:return[4,gm(r)];case 1:return[4,_m(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new fg(n,i,t,e)}))}(this.o_)).then((function(t){return new Mm(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=xm(e),i=Pm(e,(function(e){return new Mm(t.firestore,e)}));return gg(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(xy),Fm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Dm(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(xy),Mm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Lm(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Dm(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Fm(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Dm(n.U_,r))}))},e.prototype.isEqual=function(t){return pg(this.o_,t.o_)},e}(xy),Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Mi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new jm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new jm(this.firestore,void 0===t?Lg(this.o_):Lg(this.o_,t))}catch(t){throw Am(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=My(t.firestore,sg),r=Lg(t),i=qm(t.j_,e);return mg(n,Kg(Ug(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,Eh.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new jm(e.firestore,t)}))},e.prototype.isEqual=function(t){return Mg(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Lm);function Um(t){return t instanceof xy&&(t=t.o_),My(t,bg)}function qm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zm,Bm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ag.bind.apply(ag,Object(Mi.g)([void 0],e))))||this}return Object(Mi.c)(e,t),e.documentId=function(){return new e(mc.et().J())},e.prototype.isEqual=function(t){return t instanceof xy&&(t=t.o_),t instanceof ag&&this.o_.G_.isEqual(t.G_)},e}(xy),Hm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Mi.c)(e,t),e.serverTimestamp=function(){var t=new By("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qy("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Gy("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(xy),Wm={Firestore:Em,GeoPoint:Ky,Timestamp:dc,Blob:tg,Transaction:Tm,WriteBatch:Im,DocumentReference:jm,DocumentSnapshot:Nm,Query:Lm,QueryDocumentSnapshot:Dm,QuerySnapshot:Mm,CollectionReference:Vm,FieldPath:Bm,FieldValue:Hm,setLogLevel:function(t){Gu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new zu.a("firestore",(function(t){return function(t,e){return new Em(t,new sg(t,e),new Cm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Wm)))})(zm=Vi.a),zm.registerVersion("@firebase/firestore","2.0.4");var Gm=n("VRyK");n("qgXg"),n("Ylt2"),n("tf+s");var Km=new r.q("angularfire2.auth.use-emulator");function Qm(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji.a;return new Pt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function Ym(t,e){return Qm(t,e).pipe(Object(Ht.a)((function(t){return{payload:t,type:"query"}})))}function Xm(t,e){return Ym(t,e).pipe(Oe(void 0),Ai(),Object(Ht.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function $m(t,e,n){return Xm(t,n).pipe(Se((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Zm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zm(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new Ri(void 0,void 0))}),Object(Ht.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function Zm(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function Jm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var t_=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=Xm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ht.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Oe(void 0),Ai(),Qt((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(Ht.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Se((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Jm(t);return $m(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ym(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(It.a)(this.query.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new e_(this.ref.doc(t),this.afs)}}]),t}(),e_=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=s_(this.ref.collection(t),e),r=n.ref,i=n.query;return new t_(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Qm(this.ref,this.afs.schedulers.outsideAngular).pipe(Oe(void 0),Ai(),Object(Ht.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Ht.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(It.a)(this.ref.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}}]),t}(),n_=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Xm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Qt((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):Xm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Se((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=Jm(t);return $m(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ym(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ht.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(It.a)(this.query.get(t)).pipe(Object(Di.b)(this.afs.schedulers.insideAngular))}}]),t}(),r_=new r.q("angularfire2.enableFirestorePersistence"),i_=new r.q("angularfire2.firestore.persistenceSettings"),o_=new r.q("angularfire2.firestore.settings"),a_=new r.q("angularfire2.firestore.use-emulator");function s_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var u_,c_,l_,h_=((l_=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new Li.d(a),this.keepUnstableUntilFirst=Object(Li.h)(this.schedulers);var l=Object(Li.g)(e,a,n);!Fi.a.auth&&c&&Object(Li.j)();var h=u,f=_slicedToArray(Object(Li.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(It.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Tt.a)(!1)}}))]:[t,Object(Tt.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=s_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new t_(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new n_(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new e_(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||l_)(r.dc(Li.c),r.dc(Li.b,8),r.dc(r_,8),r.dc(o_,8),r.dc(r.B),r.dc(r.z),r.dc(i_,8),r.dc(a_,8),r.dc(Km,8))},l_.\u0275prov=Object(r.Mb)({factory:function(){return new l_(Object(r.dc)(Li.c),Object(r.dc)(Li.b,8),Object(r.dc)(r_,8),Object(r.dc)(o_,8),Object(r.dc)(r.B),Object(r.dc)(r.z),Object(r.dc)(i_,8),Object(r.dc)(a_,8),Object(r.dc)(Km,8))},token:l_,providedIn:"any"}),l_),f_=((c_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:r_,useValue:!0},{provide:i_,useValue:e}]}}}]),t}()).\u0275mod=r.Ob({type:c_}),c_.\u0275inj=r.Nb({factory:function(t){return new(t||c_)},providers:[h_]}),c_),d_=((u_=function(){function t(e){_classCallCheck(this,t),this.firestore=e}return _createClass(t,[{key:"getFamilyMembers",value:function(){return this.firestore.collection("family").snapshotChanges()}},{key:"updateAssigned",value:function(t){return this.firestore.collection("family").doc(t).set({assigned:!0},{merge:!0})}}]),t}()).\u0275fac=function(t){return new(t||u_)(r.dc(h_))},u_.\u0275prov=r.Mb({token:u_,factory:u_.\u0275fac,providedIn:"root"}),u_);function p_(t){return Array.isArray(t)?t:[t]}function v_(t){return null==t?"":"string"==typeof t?t:t+"px"}var y_=n("n6bG");function g_(t,e,n,r){return Object(y_.a)(n)&&(r=n,n=void 0),r?g_(t,e,n).pipe(Object(Ht.a)((function(t){return Object(Dt.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Pt.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}n("3N8a"),n("IjjT"),n("7Hc7");var m_=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new __(t,this.durationSelector))}}]),t}(),__=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Ft.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Lt.a),b_=n("Y7HM");function w_(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function k_(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(b_.a)(e)?r=Number(e)<1?1:Number(e):Object(Nt.a)(e)&&(n=e),Object(Nt.a)(n)||(n=ji.a),new Pt.a((function(e){var i=Object(b_.a)(t)?t:+t-n.now();return n.schedule(w_,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new m_(e))}}function C_(t){return function(e){return e.lift(new O_(t))}}var E_,O_=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new S_(t),r=Object(Ft.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),S_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Lt.a);try{E_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Fg){E_=!1}var T_,I_,j_,A_,x_,P_,R_,N_,D_=((I_=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||I_)(r.dc(r.B,8))},I_.\u0275prov=Object(r.Mb)({factory:function(){return new I_(Object(r.dc)(r.B,8))},token:I_,providedIn:"root"}),I_),L_=((T_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:T_}),T_.\u0275inj=r.Nb({factory:function(t){return new(t||T_)}}),T_),F_=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(u)}}),M_=((N_=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||N_)(r.dc(F_,8))},N_.\u0275prov=Object(r.Mb)({factory:function(){return new N_(Object(r.dc)(F_,8))},token:N_,providedIn:"root"}),N_),V_=((R_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:R_}),R_.\u0275inj=r.Nb({factory:function(t){return new(t||R_)}}),R_),U_=((P_=function(){function t(e,n,r){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new jt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Pt.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(k_(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(Tt.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Qt((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return g_(t._getWindow().document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||P_)(r.dc(r.z),r.dc(D_),r.dc(u,8))},P_.\u0275prov=Object(r.Mb)({factory:function(){return new P_(Object(r.dc)(r.z),Object(r.dc)(D_),Object(r.dc)(u,8))},token:P_,providedIn:"root"}),P_),q_=((x_=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._platform=e,this._document=r,n.runOutsideAngular((function(){var t=i._getWindow();i._change=e.isBrowser?Object(Gm.a)(g_(t,"resize"),g_(t,"orientationchange")):Object(Tt.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(k_(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||x_)(r.dc(D_),r.dc(r.z),r.dc(u,8))},x_.\u0275prov=Object(r.Mb)({factory:function(){return new x_(Object(r.dc)(D_),Object(r.dc)(r.z),Object(r.dc)(u,8))},token:x_,providedIn:"root"}),x_),z_=((A_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:A_}),A_.\u0275inj=r.Nb({factory:function(t){return new(t||A_)}}),A_),B_=((j_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:j_}),j_.\u0275inj=r.Nb({factory:function(t){return new(t||j_)},imports:[[V_,L_,z_],V_,z_]}),j_);function H_(){throw Error("Host already has a portal attached")}var W_,G_,K_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&H_(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),Q_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(K_),Y_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(K_),X_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t instanceof r.l?t.nativeElement:t,i}return n}(K_),$_=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&H_(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Q_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Y_?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof X_?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u;return _classCallCheck(this,n),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=r,u._appRef=i,u._defaultInjector=o,u.attachDomPortal=function(t){if(!u._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=u._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),u.outletElement.appendChild(e),_get((s=_assertThisInitialized(u),_getPrototypeOf(n.prototype)),"setDisposeFn",s).call(s,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}($_),J_=((G_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o){var a,s;return _classCallCheck(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new r.n,s.attachDomPortal=function(t){if(!s._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=s._document.createComment("dom-portal");t.setAttachedHost(_assertThisInitialized(s)),e.parentNode.insertBefore(r,e),s._getRootNode().appendChild(e),_get((a=_assertThisInitialized(s),_getPrototypeOf(n.prototype)),"setDisposeFn",a).call(a,(function(){r.parentNode&&r.parentNode.replaceChild(e,r)}))},s._document=o,s}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),_get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return i.destroy()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}($_)).\u0275fac=function(t){return new(t||G_)(r.Qb(r.j),r.Qb(r.P),r.Qb(u))},G_.\u0275dir=r.Lb({type:G_,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),G_),tb=((W_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:W_}),W_.\u0275inj=r.Nb({factory:function(t){return new(t||W_)}}),W_),eb=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=v_(-this._previousScrollPosition.left),t.style.top=v_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function nb(){return Error("Scroll strategy has already been attached.")}var rb=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw nb();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),ib=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function ob(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function ab(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var sb,ub=function(){function t(e,n,r,i){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw nb();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;ob(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),cb=((sb=function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new ib},this.close=function(t){return new rb(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new eb(o._viewportRuler,o._document)},this.reposition=function(t){return new ub(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i}).\u0275fac=function(t){return new(t||sb)(r.dc(U_),r.dc(q_),r.dc(r.z),r.dc(u))},sb.\u0275prov=Object(r.Mb)({factory:function(){return new sb(Object(r.dc)(U_),Object(r.dc)(q_),Object(r.dc)(r.z),Object(r.dc)(u))},token:sb,providedIn:"root"}),sb),lb=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new ib,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},hb=function t(e,n,r,i,o){_classCallCheck(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},fb=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function db(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function pb(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var vb,yb,gb=((vb=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||vb)(r.dc(u))},vb.\u0275prov=Object(r.Mb)({factory:function(){return new vb(Object(r.dc)(u))},token:vb,providedIn:"root"}),vb),mb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),_b=((yb=function(){function t(e,n){_classCallCheck(this,t),this._platform=n,this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||mb)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),mb?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}()).\u0275fac=function(t){return new(t||yb)(r.dc(u),r.dc(D_))},yb.\u0275prov=Object(r.Mb)({factory:function(){return new yb(Object(r.dc)(u),Object(r.dc)(D_))},token:yb,providedIn:"root"}),yb),bb=function(){function t(e,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new jt.a,this._attachments=new jt.a,this._detachments=new jt.a,this._locationChanges=Re.a.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new jt.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(pe(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=v_(this._config.width),t.height=v_(this._config.height),t.minWidth=v_(this._config.minWidth),t.minHeight=v_(this._config.minHeight),t.maxWidth=v_(this._config.maxWidth),t.maxHeight=v_(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",r)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;p_(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(C_(Object(Gm.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),wb=/([A-Za-z%]+)$/,kb=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jt.a,this._resizeSubscription=Re.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=this._getOriginPoint(n,s),c=this._getOverlayPoint(u,r,s),l=this._getOverlayFit(c,r,i,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(l,c,i)?o.push({position:s,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<l.visibleArea)&&(t={overlayFit:l,overlayPoint:c,originPoint:u,position:s,overlayRect:r})}}catch(g){a.e(g)}finally{a.f()}if(o.length){var h,f=null,d=-1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=h.value,y=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);y>d&&(d=y,f=v)}}catch(g){p.e(g)}finally{p.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Cb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=Eb(this._overlayRef.getConfig().minHeight),a=Eb(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);return r=e.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new fb(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,r=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=v_(n.height),r.top=v_(n.top),r.bottom=v_(n.bottom),r.width=v_(n.width),r.left=v_(n.left),r.right=v_(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=v_(i)),o&&(r.maxWidth=v_(o))}this._lastBoundingBoxSize=n,Cb(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){Cb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Cb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();Cb(n,this._getExactOverlayY(e,t,a)),Cb(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=v_(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=v_(o.maxWidth):i&&(n.maxWidth="")),Cb(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=v_(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=v_(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:ab(t,n),isOriginOutsideView:ob(t,n),isOverlayClipped:ab(e,n),isOverlayOutsideView:ob(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){pb("originX",t.originX),db("originY",t.originY),pb("overlayX",t.overlayX),db("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&p_(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function Cb(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Eb(t){if("number"!=typeof t&&null!=t){var e=_slicedToArray(t.split(wb),2),n=e[0],r=e[1];return r&&"px"!==r?null:parseFloat(n)}return t||null}var Ob,Sb,Tb,Ib,jb=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new kb(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new hb(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),Ab=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),xb=((Sb=function(){function t(e,n,r,i){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return _createClass(t,[{key:"global",value:function(){return new Ab}},{key:"connectedTo",value:function(t,e,n){return new jb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new kb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||Sb)(r.dc(q_),r.dc(u),r.dc(D_),r.dc(_b))},Sb.\u0275prov=Object(r.Mb)({factory:function(){return new Sb(Object(r.dc)(q_),Object(r.dc)(u),Object(r.dc)(D_),Object(r.dc)(_b))},token:Sb,providedIn:"root"}),Sb),Pb=0,Rb=((Ob=function(){function t(e,n,r,i,o,a,s,u,c,l){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new lb(t);return i.direction=i.direction||this._directionality.value,new bb(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+Pb++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Z_(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||Ob)(r.dc(cb),r.dc(_b),r.dc(r.j),r.dc(xb),r.dc(gb),r.dc(r.r),r.dc(r.z),r.dc(u),r.dc(M_),r.dc(I,8))},Ob.\u0275prov=r.Mb({token:Ob,factory:Ob.\u0275fac}),Ob),Nb={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[Rb],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Db=((Ib=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:Ib}),Ib.\u0275inj=r.Nb({factory:function(t){return new(t||Ib)},providers:[Rb,Nb],imports:[[V_,tb,B_],B_]}),Ib),Lb=((Tb=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(Fg){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===Mb(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=Mb(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Fb(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).\u0275fac=function(t){return new(t||Tb)(r.dc(D_))},Tb.\u0275prov=Object(r.Mb)({factory:function(){return new Tb(Object(r.dc)(D_))},token:Tb,providedIn:"root"}),Tb);function Fb(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Mb(t){if(!Fb(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Vb,Ub=function(){function t(e,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(pe(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),qb=((Vb=function(){function t(e,n,r){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=r}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Ub(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||Vb)(r.dc(Lb),r.dc(r.z),r.dc(u))},Vb.\u0275prov=Object(r.Mb)({factory:function(){return new Vb(Object(r.dc)(Lb),Object(r.dc)(r.z),Object(r.dc)(u))},token:Vb,providedIn:"root"}),Vb);"undefined"!=typeof Element&&Element;var zb,Bb=((zb=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||zb)(r.dc(D_),r.dc(u))},zb.\u0275prov=Object(r.Mb)({factory:function(){return new zb(Object(r.dc)(D_),Object(r.dc)(u))},token:zb,providedIn:"root"}),zb),Hb=new r.O("9.2.4"),Wb=function t(){_classCallCheck(this,t)};function Gb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Kb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Qb(t){return{type:6,styles:t,offset:null}}function Yb(t,e,n){return{type:0,name:t,styles:e,options:n}}function Xb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function $b(t){Promise.resolve(null).then(t)}var Zb=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;$b((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Jb=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?$b((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==a&&n._onFinish()})),t.onDestroy((function(){++i==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function tw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ew(t){switch(t.length){case 0:return new Zb;case 1:return t[0];default:return new Jb(t)}}function nw(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),c=l,u=n})),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function rw(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&iw(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&iw(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&iw(n,"destroy",t))}))}}function iw(t,e,n){var r=n.totalTime,i=ow(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function ow(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function aw(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function sw(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var uw=function(t,e){return!1},cw=function(t,e){return!1},lw=function(t,e,n){return[]},hw=tw();(hw||"undefined"!=typeof Element)&&(uw=function(t,e){return t.contains(e)},cw=function(){if(hw||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:cw}(),lw=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var fw=null,dw=!1;function pw(t){fw||(fw=("undefined"!=typeof document?document.body:null)||{},dw=!!fw.style&&"WebkitAppearance"in fw.style);var e=!0;return fw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in fw.style)&&dw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in fw.style),e}var vw=cw,yw=uw,gw=lw;function mw(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var _w,bw=((_w=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return pw(t)}},{key:"matchesElement",value:function(t,e){return vw(t,e)}},{key:"containsElement",value:function(t,e){return yw(t,e)}},{key:"query",value:function(t,e,n){return gw(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Zb(n,r)}}]),t}()).\u0275fac=function(t){return new(t||_w)},_w.\u0275prov=r.Mb({token:_w,factory:_w.\u0275fac}),_w),ww=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new bw,t}();function kw(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cw(parseFloat(e[1]),e[2])}function Cw(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ew(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=Cw(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Cw(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function Ow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Sw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else Ow(t,n);return n}function Tw(t,e,n){return n?e+":"+n+";":""}function Iw(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=Tw(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Tw(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function jw(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Fw(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),tw()&&Iw(t))}function Aw(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Fw(e);t.style[n]=""})),tw()&&Iw(t))}function xw(t){return Array.isArray(t)?1==t.length?t[0]:Kb(t):t}var Pw=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rw(t){var e=[];if("string"==typeof t){for(var n;n=Pw.exec(t);)e.push(n[1]);Pw.lastIndex=0}return e}function Nw(t,e,n){var r=t.toString(),i=r.replace(Pw,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function Dw(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Lw=/-+([a-z0-9])/g;function Fw(t){return t.replace(Lw,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Mw(t,e){return 0===t||0===e}function Vw(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=qw(t,e)}))},s=1;s<e.length;s++)a()}return e}function Uw(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function qw(t,e){return window.getComputedStyle(t)[e]}var zw=new Set(["true","1"]),Bw=new Set(["false","0"]);function Hw(t,e){var n=zw.has(t)||Bw.has(t),r=zw.has(e)||Bw.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?zw.has(t):Bw.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?zw.has(e):Bw.has(e)),a&&s}}var Ww=new RegExp("s*:selfs*,?","g");function Gw(t,e,n){return new Kw(t).build(e,n)}var Kw=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Qw(e);return this._resetContextStyleTimingState(n),Uw(this,xw(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Yw(t)){var e=t;Object.keys(e).forEach((function(t){Rw(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=Dw(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Uw(this,xw(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Hw(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Hw(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Xw(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Uw(n,t,e)})),options:Xw(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Uw(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Xw(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $w(Ew(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=$w(0,0,"");return i.dynamic=!0,i.strValue=r,i}return $w((n=n||Ew(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Qb({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Qb(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Yw(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=Rw(a)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Yw(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Yw(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Uw(this,xw(t.animation),e),options:Xw(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Xw(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xw(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Ww,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,aw(e.collectedStyles,e.currentQuerySelector,{});var s=Uw(this,xw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Xw(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ew(t.timings,e.errors,!0);return{type:12,animation:Uw(this,xw(t.animation),e),timings:n,options:null}}}]),t}(),Qw=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Yw(t){return!Array.isArray(t)&&"object"==typeof t}function Xw(t){var e;return t?(t=Ow(t)).params&&(t.params=(e=t.params)?Ow(e):null):t={},t}function $w(t,e,n){return{duration:t,delay:e,easing:n}}function Zw(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Jw=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),tk=new RegExp(":enter","g"),ek=new RegExp(":leave","g");function nk(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new rk).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var rk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Jw;var l=new ok(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Uw(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Zw(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?kw(n.duration):null,o=null!=n.delay?kw(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Uw(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ik);var a=kw(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Uw(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?kw(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Uw(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Ew(e.params?Nw(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?kw(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ik);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Uw(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Uw(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),ik={},ok=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ik,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ak(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=kw(r.duration)),null!=r.delay&&(i.delay=kw(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Nw(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ik,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new sk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(tk,"."+this._enterClassName)).replace(ek,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),ak=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):Sw(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Nw(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=Sw(o,!0);Object.keys(s).forEach((function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?Dw(e.values()):[],a=n.size?Dw(n.values()):[];if(r){var s=i[0],u=Ow(s);s.offset=0,u.offset=1,i=[s,u]}return Zw(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),sk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=Sw(t[0],!1);u.offset=0,o.push(u);var c=Sw(t[0],!1);c.offset=uk(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=Sw(t[h],!1);f.offset=uk((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Zw(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(ak);function uk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var ck=function t(){_classCallCheck(this,t)},lk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Fw(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(hk[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(ck),hk=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function fk(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var dk={},pk=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||dk,f=this.buildStyles(n,a&&a.params||dk,l),d=s&&s.params||dk,p=this.buildStyles(r,d,l),v=new Set,y=new Map,g=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:nk(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),l.length)return fk(e,this._triggerName,n,r,m,f,p,[],[],y,g,w,l);b.forEach((function(t){var n=t.element,r=aw(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=aw(g,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=Dw(v.values());return fk(e,this._triggerName,n,r,m,f,p,b,k,y,g,w)}}]),t}(),vk=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=Ow(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Nw(o,r,e)),n[t]=o}))}})),n}}]),t}(),yk=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new vk(t.style,t.options&&t.options.params||{})})),gk(this.states,"true","1"),gk(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new pk(e,t,r.states))})),this.fallbackTransition=new pk(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function gk(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var mk=new Jw,_k=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Gw(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=nw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=nk(this._driver,e,a,"ng-enter","ng-leave",{},{},i,mk,o)).forEach((function(t){var e=aw(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=ew(n.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=ow(e,"","","");return rw(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),bk=[],wk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ck=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=Ow(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Ek=new Ck("void"),Ok=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pk(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=aw(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=aw(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Pk(t,"ng-trigger"),Pk(t,"ng-trigger-"+e),u[e]=Ek),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Tk(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Pk(t,"ng-trigger"),Pk(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new Ck(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=Ek),"void"===c.value||u.value!==c.value){var l=aw(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Pk(t,"ng-animate-queued"),a.onStart((function(){Rk(t,"ng-animate-queued")}))),a.onDone((function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Aw(t,p),jw(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ew(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||Ek,s=new Ck("void"),u=new Tk(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==wk||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Pk(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=ow(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,rw(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Sk=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Ok(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Ik(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Ik(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pk(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rk(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Ik(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Ik(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return ew(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=wk,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Pk(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?ew(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Jw,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach((function(t){l.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)l.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=xk(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return Pk(t,n)}))}));for(var y=[],g=new Set,m=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),g.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return g.add(t)})):m.add(b))}var k=new Map,C=xk(f,Array.from(g));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return Pk(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return Rk(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return Rk(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],O=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(y.errors&&y.errors.length)O.push(y);else{if(f)return e.onStart((function(){return Aw(o,y.fromStyles)})),e.onDestroy((function(){return jw(o,y.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Aw(o,y.fromStyles)})),e.onDestroy((function(){return jw(o,y.toStyles)})),void i.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),a.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return aw(s,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(O.length){var T=[];O.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(T)}var I=new Map,j=new Map;a.forEach((function(t){var e=t.element;r.has(e)&&(j.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,I))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){aw(I,e,[]).push(t),t.destroy()}))}));var A=y.filter((function(t){return Dk(t,u,c)})),x=new Map;Ak(x,this.driver,m,c,"*").forEach((function(t){Dk(t,u,c)&&A.push(t)}));var P=new Map;d.forEach((function(t,e){Ak(P,n.driver,new Set(t),u,"!")})),A.forEach((function(t){var e=x.get(t),n=P.get(t);x.set(t,Object.assign(Object.assign({},e),n))}));var R=[],N=[],D={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(l.has(e))return a.onDestroy((function(){return jw(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=D;if(j.size>1){for(var c=e,h=[];c=c.parentNode;){var f=j.get(c);if(f){u=f;break}h.push(c)}h.forEach((function(t){return j.set(t,u)}))}var d=n._buildAnimation(a.namespaceId,s,I,o,P,x);if(a.setRealPlayer(d),u===D)R.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=ew(p)),i.push(a)}}else Aw(e,s.fromStyles),a.onDestroy((function(){return jw(e,s.toStyles)})),N.push(a),l.has(e)&&i.push(a)})),N.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=ew(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<y.length;L++){var F=y[L],M=F.__ng_removed;if(Rk(F,"ng-leave"),!M||!M.hasAnimation){var V=[];if(s.size){var U=s.get(F);U&&U.length&&V.push.apply(V,_toConsumableArray(U));for(var q=this.driver.query(F,".ng-animating",!0),z=0;z<q.length;z++){var B=s.get(q[z]);B&&B.length&&V.push.apply(V,_toConsumableArray(B))}}var H=V.filter((function(t){return!t.destroyed}));H.length?Nk(this,F,H):this.processLeaveNode(F)}}return y.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=_createForOfIteratorHelper(e.timelines);try{var c=function(){var t=r.value.element,u=t!==o,c=aw(n,t,[]);i._getPreviousPlayers(t,u,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}Aw(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Zb(e.duration,e.delay);var p,v,y=f!==u,g=(p=(n.get(f)||bk).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof Jb?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),m=i.get(f),_=o.get(f),b=nw(0,a._normalizer,0,e.keyframes,m,_),w=a._buildPlayer(e,b,g);if(e.subTimeline&&r&&h.add(f),y){var k=new Tk(t,s,f);k.setRealPlayer(w),c.push(k)}return w}));c.forEach((function(t){aw(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Pk(t,"ng-animating")}));var d=ew(f);return d.onDestroy((function(){l.forEach((function(t){return Rk(t,"ng-animating")})),jw(u,e.toStyles)})),h.forEach((function(t){aw(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Zb(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Tk=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return rw(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){aw(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ik(t){return t&&1===t.nodeType}function jk(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ak(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(jk(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=kk,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return jk(t,o[s++])})),a}function xk(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Pk(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Rk(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Nk(t,e,n){ew(n).onDone((function(){return t.processLeaveNode(e)}))}function Dk(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Lk=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Sk(e,n,r),this._timelineEngine=new _k(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Gw(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new yk(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(sw(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(sw(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Fk(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Vk(e[0]),e.length>1&&(r=Vk(e[e.length-1]))):e&&(n=Vk(e)),n||r?new Mk(t,n,r):null}var Mk=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&jw(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(jw(this._element,this._initialStyles),this._endStyles&&(jw(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Aw(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Aw(this._element,this._endStyles),this._endStyles=null),jw(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Vk(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];Uk(i)&&((e=e||{})[i]=t[i])}return e}function Uk(t){return"display"===t||"position"===t}var qk=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Kk(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Gk(t,"",e),Wk(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){zk(this._element,this._name,"paused")}},{key:"resume",value:function(){zk(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Bk(this._element,this._name);this._position=t*this._duration,Gk(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Wk(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Kk(t,"").split(","),r=Hk(n,e);r>=0&&(n.splice(r,1),Gk(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function zk(t,e,n){Gk(t,"PlayState",n,Bk(t,e))}function Bk(t,e){var n=Kk(t,"");return n.indexOf(",")>0?Hk(n.split(","),e):Hk([n],e)}function Hk(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Wk(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Gk(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Kk(t,e){return t.style["animation"+e]}var Qk=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new qk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:qw(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Yk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=mw(r),i}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Zb),Xk=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return pw(t)}},{key:"matchesElement",value:function(t,e){return vw(t,e)}},{key:"containsElement",value:function(t,e){return yw(t,e)}},{key:"query",value:function(t,e,n){return gw(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return mw(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof Qk})),u={};Mw(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Vw(t,e,u));if(0==n)return new Yk(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Fk(t,e),d=new Qk(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),$k=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:qw(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),Zk=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Jk().toString()),this._cssKeyframesDriver=new Xk}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return pw(t)}},{key:"matchesElement",value:function(t,e){return vw(t,e)}},{key:"containsElement",value:function(t,e){return yw(t,e)}},{key:"query",value:function(t,e,n){return gw(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter((function(t){return t instanceof $k}));Mw(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Fk(t,e=Vw(t,e=e.map((function(t){return Sw(t,!1)})),u));return new $k(t,e,s,l)}}]),t}();function Jk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var tC,eC=((tC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(i.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Kb(t):t;return iC(this._renderer,null,e,"register",[n]),new nC(e,this._renderer)}}]),n}(Wb)).\u0275fac=function(t){return new(t||tC)(r.dc(r.F),r.dc(u))},tC.\u0275prov=r.Mb({token:tC,factory:tC.\u0275fac}),tC),nC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(t,e){return new rC(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),rC=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return iC(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function iC(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var oC,aC,sC,uC,cC=((oC=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new lC("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)})),new hC(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||oC)(r.dc(r.F),r.dc(Lk),r.dc(r.z))},oC.\u0275prov=r.Mb({token:oC,factory:oC.\u0275fac}),oC),lC=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),hC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,r,i,o)).factory=t,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(lC),fC=((aC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){return _classCallCheck(this,n),e.call(this,t.body,r,i)}return n}(Lk)).\u0275fac=function(t){return new(t||aC)(r.dc(u),r.dc(ww),r.dc(ck))},aC.\u0275prov=r.Mb({token:aC,factory:aC.\u0275fac}),aC),dC=[{provide:ww,useFactory:function(){return"function"==typeof Jk()?new Zk:new Xk}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Wb,useClass:eC},{provide:ck,useFactory:function(){return new lk}},{provide:Lk,useClass:fC},{provide:r.F,useFactory:function(t,e,n){return new cC(t,e,n)},deps:[dt,Lk,r.z]}],pC=((sC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:sC}),sC.\u0275inj=r.Nb({factory:function(t){return new(t||sC)},providers:dC,imports:[St]}),sC),vC=new r.O("9.2.4"),yC=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),gC=((uC=function(){function t(e,n,r){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(r.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&vC.full!==Hb.full&&console.warn("The Angular Material version ("+vC.full+") does not match the Angular CDK version ("+Hb.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=r.Ob({type:uC}),uC.\u0275inj=r.Nb({factory:function(t){return new(t||uC)(r.dc(Bb),r.dc(yC,8),r.dc(u,8))},imports:[[V_],V_]}),uC);try{"undefined"!=typeof Intl}catch(Fg){!1}function mC(t,e){}var _C=function t(){_classCallCheck(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},bC={dialogContainer:function(t,e){return{type:7,name:t,definitions:e,options:{}}}("dialogContainer",[Yb("void, exit",Qb({opacity:0,transform:"scale(0.7)"})),Yb("enter",Qb({transform:"none"})),Xb("* => enter",Gb("150ms cubic-bezier(0, 0, 0.2, 1)",Qb({transform:"none",opacity:1}))),Xb("* => void, * => exit",Gb("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Qb({opacity:0})))])};function wC(){throw Error("Attempting to attach dialog content after content is already attached")}var kC,CC,EC,OC=((kC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._elementRef=t,u._focusTrapFactory=i,u._changeDetectorRef=o,u._config=s,u._elementFocusedBeforeDialogWasOpened=null,u._state="enter",u._animationStateChanged=new r.n,u.attachDomPortal=function(t){return u._portalOutlet.hasAttached()&&wC(),u._setupFocusTrap(),u._portalOutlet.attachDomPortal(t)},u._ariaLabelledBy=s.ariaLabelledBy||null,u._document=a,u}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached()&&wC(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached()&&wC(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){var t=this;this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}},{key:"_onAnimationDone",value:function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}},{key:"_onAnimationStart",value:function(t){this._animationStateChanged.emit(t)}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}($_)).\u0275fac=function(t){return new(t||kC)(r.Qb(r.l),r.Qb(qb),r.Qb(r.h),r.Qb(u,8),r.Qb(_C))},kC.\u0275cmp=r.Kb({type:kC,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.Ac(J_,!0),2&t&&r.uc(n=r.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Ib("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Ic("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Cc(0,mC,0,0,"ng-template",0)},directives:[J_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[bC.dialogContainer]}}),kC),SC=0,TC=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+SC++;_classCallCheck(this,t),this._overlayRef=e,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new jt.a,this._afterClosed=new jt.a,this._beforeClosed=new jt.a,this._state=0,n._id=i,n._animationStateChanged.pipe(Qt((function(t){return"done"===t.phaseName&&"enter"===t.toState})),pe(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),n._animationStateChanged.pipe(Qt((function(t){return"done"===t.phaseName&&"exit"===t.toState})),pe(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()})),e.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),e.keydownEvents().pipe(Qt((function(t){return 27===t.keyCode&&!r.disableClose&&!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)}))).subscribe((function(t){t.preventDefault(),r.close()})),e.backdropClick().subscribe((function(){r.disableClose?r._containerInstance._recaptureFocus():r.close()}))}return _createClass(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Qt((function(t){return"start"===t.phaseName})),pe(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1}},{key:"afterOpened",value:function(){return this._afterOpened.asObservable()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"beforeClosed",value:function(){return this._beforeClosed.asObservable()}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}(),IC=new r.q("MatDialogData"),jC=new r.q("mat-dialog-default-options"),AC=new r.q("mat-dialog-scroll-strategy"),xC={provide:AC,deps:[Rb],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},PC=((EC=function(){function t(e,n,r,i,o,a,s){var u=this;_classCallCheck(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new jt.a,this._afterOpenedAtThisLevel=new jt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Bt((function(){return u.openDialogs.length?u._afterAllClosed:u._afterAllClosed.pipe(Oe(void 0))})),this._scrollStrategy=o}return _createClass(t,[{key:"open",value:function(t,e){var n=this;if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new _C)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'.concat(e.id,'" exists already. The dialog id must be unique.'));var r=this._createOverlay(e),i=this._attachDialogContainer(r,e),o=this._attachDialogContent(t,i,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe((function(){return n._removeOpenDialog(o)})),this.afterOpened.next(o),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new lb({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:_C,useValue:e}]}),i=new Q_(OC,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var o=new TC(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new Y_(t,null,{$implicit:i.data,dialogRef:o}));else{var a=this._createInjector(i,o,e),s=e.attachComponentPortal(new Q_(t,i.viewContainerRef,a));o.componentInstance=s.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:OC,useValue:n},{provide:IC,useValue:t.data},{provide:TC,useValue:e}];return!t.direction||i&&i.get(M_,null)||o.push({provide:M_,useValue:{value:t.direction,change:Object(Tt.a)()}}),r.r.create({parent:i||this._injector,providers:o})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_afterAllClosed",get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||EC)(r.dc(Rb),r.dc(r.r),r.dc(I,8),r.dc(jC,8),r.dc(AC),r.dc(EC,12),r.dc(_b))},EC.\u0275prov=r.Mb({token:EC,factory:EC.\u0275fac}),EC),RC=((CC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:CC}),CC.\u0275inj=r.Nb({factory:function(t){return new(t||CC)},providers:[PC,xC],imports:[[Db,tb,gC],gC]}),CC);function NC(t,e){1&t&&(r.Vb(0,"h1"),r.Ec(1,"Primero de todo... \xbfQui\xe9n eres? no te equivoques eh?"),r.Ub())}function DC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(n),r.jc().selectLoginMember("Mam\xe1")})),r.Ec(1,"Mam\xe1"),r.Ub()}}function LC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(n),r.jc().selectLoginMember("Pap\xe1")})),r.Ec(1,"Pap\xe1"),r.Ub()}}function FC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(n),r.jc().selectLoginMember("Cristina")})),r.Ec(1,"Cristina"),r.Ub()}}function MC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(n),r.jc().selectLoginMember("Ver\xf3nica")})),r.Ec(1,"Ver\xf3nica"),r.Ub()}}function VC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(n),r.jc().selectLoginMember("Felipe")})),r.Ec(1,"Felipe"),r.Ub()}}function UC(t,e){if(1&t&&(r.Vb(0,"div",6),r.Rb(1,"img",7),r.Vb(2,"h1"),r.Ec(3),r.Ub(),r.Vb(4,"h1"),r.Ec(5,"\xa1Este es tu amigo invisible! No se lo digas a nadie."),r.Ub(),r.Vb(6,"h1"),r.Ec(7,"El gasto maximo para el regalo ser\xe1 50\u20ac"),r.Ub(),r.Vb(8,"h1"),r.Ec(9,"\xa1FELIZ NAVIDAD!"),r.Ub(),r.Vb(10,"h1"),r.Ec(11,"\xa1Importante: no repitas este enlace o le quitar\xedas a otro su amigo invisible!"),r.Ub(),r.Ub()),2&t){var n=r.jc(2);r.Cb(1),r.pc("src",n.selectedPhoto,r.xc),r.Cb(2),r.Fc(n.selectedMember.name)}}function qC(t,e){if(1&t){var n=r.Wb();r.Vb(0,"button",8),r.hc("click",(function(){return r.wc(n),r.jc(2).choose()})),r.Ec(1,"Pulsa para obtener tu amigo invisible"),r.Ub()}}function zC(t,e){if(1&t&&(r.Vb(0,"div"),r.Cc(1,UC,12,2,"div",4),r.Cc(2,qC,2,0,"button",5),r.Ub()),2&t){var n=r.jc();r.Cb(1),r.oc("ngIf",n.isButtonClicked),r.Cb(1),r.oc("ngIf",!n.isButtonClicked)}}var BC,HC,WC=((HC=function(){function t(e,n){_classCallCheck(this,t),this.familyManagement=e,this.dialog=n,this.isLogged=!1,this.isButtonClicked=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.getDataFamilyMembers()}},{key:"getDataFamilyMembers",value:function(){var t=this;this.dataBaseFamily=[],this.familyManagement.getFamilyMembers().subscribe((function(e){e.forEach((function(e){!1===e.payload.doc.data().assigned&&t.dataBaseFamily.push(new Ii(e.payload.doc.id,e.payload.doc.data().name,e.payload.doc.data().assigned,e.payload.doc.data().picture))}))}))}},{key:"getRandomMember",value:function(){var t=this;this.dataBaseFamily=this.dataBaseFamily.filter((function(e){return e.name!==t.memberLogged})),this.selectedMember=this.dataBaseFamily[Math.floor(Math.random()*this.dataBaseFamily.length)]}},{key:"choose",value:function(){this.isButtonClicked=!0,this.getPhotoPath(this.selectedMember.name),this.familyManagement.updateAssigned(this.selectedMember.id)}},{key:"selectLoginMember",value:function(t){this.memberLogged=t,this.getRandomMember(),this.isLogged=!0}},{key:"getPhotoPath",value:function(t){switch(t){case"Cristina":this.selectedPhoto="../../../assets/cristina.PNG";break;case"Ver\xf3nica":this.selectedPhoto="../../../assets/Vero2.PNG";break;case"Mam\xe1":this.selectedPhoto="../../../assets/mama.jpg";break;case"Pap\xe1":this.selectedPhoto="../../../assets/papa.jpg";break;case"Felipe":this.selectedPhoto="../../../assets/felipe.jpg"}}}]),t}()).\u0275fac=function(t){return new(t||HC)(r.Qb(d_),r.Qb(PC))},HC.\u0275cmp=r.Kb({type:HC,selectors:[["app-invisible-friend"]],decls:8,vars:7,consts:[[1,"container"],[4,"ngIf"],["type","button","class","btn btn-primary login",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","login",3,"click"],["class","result",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"result"],["alt","...",1,"photo","card-img-top",3,"src"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Cc(1,NC,2,0,"h1",1),r.Cc(2,DC,2,0,"button",2),r.Cc(3,LC,2,0,"button",2),r.Cc(4,FC,2,0,"button",2),r.Cc(5,MC,2,0,"button",2),r.Cc(6,VC,2,0,"button",2),r.Cc(7,zC,3,2,"div",1),r.Ub()),2&t&&(r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",e.isLogged))},directives:[F],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.result[_ngcontent-%COMP%]{width:400;height:400}.photo[_ngcontent-%COMP%]{width:80%;height:50%}.login[_ngcontent-%COMP%]{margin:10px;width:200px;height:50px}"]}),HC),GC=((BC=function(){function t(){_classCallCheck(this,t),this.title="InvisibleFriend"}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||BC)},BC.\u0275cmp=r.Kb({type:BC,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"app-invisible-friend"),r.Rb(1,"router-outlet"))},directives:[WC,ii],styles:[""]}),BC);n("XoHu");var KC,QC,YC,XC=((YC=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||YC)},YC.\u0275prov=r.Mb({token:YC,factory:YC.\u0275fac}),YC),$C=((QC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:QC}),QC.\u0275inj=r.Nb({factory:function(t){return new(t||QC)}}),QC),ZC=((KC=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:KC}),KC.\u0275inj=r.Nb({factory:function(t){return new(t||KC)},providers:[XC],imports:[$C]}),KC);function JC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new tE(e,n))}}n("KqfI");var tE=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new eE(t,this.observables,this.project))}}]),t}(),eE=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;_classCallCheck(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var c=r[u];o.add(Object(Ft.a)(_assertThisInitialized(o),c,c,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Lt.a);n("WMd4"),n("w1tV"),$localize(_templateObject());var nE=["*"];$localize(_templateObject2()),$localize(_templateObject3()),$localize(_templateObject4()),$localize(_templateObject5()),$localize(_templateObject6()),$localize(_templateObject7()),$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11());var rE=["dialog"];function iE(t){return null!=t}$localize(_templateObject12()),$localize(_templateObject13()),$localize(_templateObject14()),$localize(_templateObject15()),$localize(_templateObject16()),$localize(_templateObject17()),$localize(_templateObject18()),$localize(_templateObject19()),$localize(_templateObject20(),"\ufffd0\ufffd"),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33(),"\ufffd0\ufffd"),$localize(_templateObject34(),"\ufffd0\ufffd"),$localize(_templateObject35()),"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var oE,aE,sE,uE,cE,lE=((cE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:cE}),cE.\u0275inj=r.Nb({factory:function(t){return new(t||cE)},imports:[[G]]}),cE),hE=((uE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:uE}),uE.\u0275inj=r.Nb({factory:function(t){return new(t||uE)},imports:[[G]]}),uE),fE=((sE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:sE}),sE.\u0275inj=r.Nb({factory:function(t){return new(t||sE)}}),sE),dE=((aE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:aE}),aE.\u0275inj=r.Nb({factory:function(t){return new(t||aE)},imports:[[G]]}),aE),pE=((oE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:oE}),oE.\u0275inj=r.Nb({factory:function(t){return new(t||oE)}}),oE),vE=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),yE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gE(t){var e=Array.from(t.querySelectorAll(yE)).filter((function(t){return-1!==t.tabIndex}));return[e[0],e[e.length-1]]}var mE,_E,bE,wE,kE,CE,EE,OE,SE,TE,IE,jE,AE,xE,PE,RE,NE,DE,LE,FE,ME,VE=((bE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:bE}),bE.\u0275inj=r.Nb({factory:function(t){return new(t||bE)},imports:[[G,ZC]]}),bE),UE=((_E=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:_E}),_E.\u0275inj=r.Nb({factory:function(t){return new(t||_E)}}),_E),qE=((mE=function t(){_classCallCheck(this,t),this.backdrop=!0,this.keyboard=!0}).\u0275fac=function(t){return new(t||mE)},mE.\u0275prov=Object(r.Mb)({factory:function(){return new mE},token:mE,providedIn:"root"}),mE),zE=function t(e,n,r){_classCallCheck(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},BE=function(){},HE=((kE=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):BE}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||kE)(r.dc(u))},kE.\u0275prov=Object(r.Mb)({factory:function(){return new kE(Object(r.dc)(u))},token:kE,providedIn:"root"}),kE),WE=((wE=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||wE)},wE.\u0275cmp=r.Kb({type:wE,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),wE),GE=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),KE=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,e.instance.dismissEvent.subscribe((function(t){o.dismiss(t)})),this.result=new Promise((function(t,e){o._resolve=t,o._reject=e})),this.result.then(null,(function(){}))}return _createClass(t,[{key:"close",value:function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&e._dismiss(t)}),(function(){})):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),t}(),QE=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),YE=((LE=function(){function t(e,n,i){_classCallCheck(this,t),this._document=e,this._elRef=n,this._zone=i,this._closed$=new jt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n}return _createClass(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var t=this,e=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){g_(e,"keydown").pipe(C_(t._closed$),Qt((function(e){return e.which===vE.Escape&&t.keyboard}))).subscribe((function(e){return requestAnimationFrame((function(){e.defaultPrevented||t._zone.run((function(){return t.dismiss(QE.ESC)}))}))}));var n=!1;g_(t._dialogEl.nativeElement,"mousedown").pipe(C_(t._closed$),Object(Pe.a)((function(){return n=!1})),we((function(){return g_(e,"mouseup").pipe(C_(t._closed$),pe(1))})),Qt((function(t){var n=t.target;return e===n}))).subscribe((function(){n=!0})),g_(e,"click").pipe(C_(t._closed$)).subscribe((function(r){var i=r.target;!0!==t.backdrop||e!==i||n||t._zone.run((function(){return t.dismiss(QE.BACKDROP_CLICK)})),n=!1}))})),!e.contains(document.activeElement)){var n=e.querySelector("[ngbAutofocus]"),r=gE(e)[0];(n||r||e).focus()}}},{key:"ngOnDestroy",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return t.focus()})),e._elWithFocus=null})),this._closed$.next()}}]),t}()).\u0275fac=function(t){return new(t||LE)(r.Qb(u),r.Qb(r.l),r.Qb(r.z))},LE.\u0275cmp=r.Kb({type:LE,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Ac(rE,!0),2&t&&r.uc(n=r.ic())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Eb("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:nE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.nc(),r.Vb(0,"div",0,1),r.Vb(2,"div",2),r.mc(3),r.Ub(),r.Ub()),2&t&&r.Eb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),LE),XE=((DE=function(){function t(e,n,i,o,a,s){var u=this;_classCallCheck(this,t),this._applicationRef=e,this._injector=n,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new jt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe((function(){if(u._windowCmpts.length){var t=u._windowCmpts[u._windowCmpts.length-1];(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u._ngZone.runOutsideAngular((function(){var t=g_(e,"focusin").pipe(C_(n),Object(Ht.a)((function(t){return t.target})));g_(e,"keydown").pipe(C_(n),Qt((function(t){return t.which===vE.Tab})),JC(t)).subscribe((function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1],o=_slicedToArray(gE(e),2),a=o[0],s=o[1];i!==a&&i!==e||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())})),r&&g_(e,"click").pipe(C_(n),JC(t),Object(Ht.a)((function(t){return t[1]}))).subscribe((function(t){return t.focus()}))}))})(0,t.location.nativeElement,u._activeWindowCmptHasChanged),u._revertAriaHidden(),u._setAriaHidden(t.location.nativeElement)}}))}return _createClass(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:iE(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new GE,l=this._getContentRef(t,r.injector||e,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,f=this._attachWindowComponent(t,o,l),d=new KE(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(t){this._modalRefs.forEach((function(e){return e.dismiss(t)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(WE).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(YE).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach((function(n){iE(e[n])&&(t[n]=e[n])}))}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach((function(n){iE(e[n])&&(t[n]=e[n])}))}},{key:"_getContentRef",value:function(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new zE([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new zE([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode(""+t);return new zE([[e]])}},{key:"_createFromComponent",value:function(t,e,n,i,o){var a=t.resolveComponentFactory(n),s=r.r.create({providers:[{provide:GE,useValue:i}],parent:e}),u=a.create(s),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new zE([[c]],u.hostView,u)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy((function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())}))}},{key:"activeInstances",get:function(){return this._activeInstances}}]),t}()).\u0275fac=function(t){return new(t||DE)(r.dc(r.g),r.dc(r.r),r.dc(u),r.dc(HE),r.dc(r.F),r.dc(r.z))},DE.\u0275prov=Object(r.Mb)({factory:function(){return new DE(Object(r.dc)(r.g),Object(r.dc)(r.o),Object(r.dc)(u),Object(r.dc)(HE),Object(r.dc)(r.F),Object(r.dc)(r.z))},token:DE,providedIn:"root"}),DE),$E=((NE=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}}]),t}()).\u0275fac=function(t){return new(t||NE)(r.dc(r.j),r.dc(r.r),r.dc(XE),r.dc(qE))},NE.\u0275prov=Object(r.Mb)({factory:function(){return new NE(Object(r.dc)(r.j),Object(r.dc)(r.o),Object(r.dc)(XE),Object(r.dc)(qE))},token:NE,providedIn:"root"}),NE),ZE=((RE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:RE}),RE.\u0275inj=r.Nb({factory:function(t){return new(t||RE)},providers:[$E]}),RE),JE=((PE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:PE}),PE.\u0275inj=r.Nb({factory:function(t){return new(t||PE)},imports:[[G]]}),PE),tO=((xE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:xE}),xE.\u0275inj=r.Nb({factory:function(t){return new(t||xE)},imports:[[G]]}),xE),eO=((AE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:AE}),AE.\u0275inj=r.Nb({factory:function(t){return new(t||AE)},imports:[[G]]}),AE),nO=((jE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:jE}),jE.\u0275inj=r.Nb({factory:function(t){return new(t||jE)},imports:[[G]]}),jE),rO=((IE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:IE}),IE.\u0275inj=r.Nb({factory:function(t){return new(t||IE)},imports:[[G]]}),IE),iO=((TE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:TE}),TE.\u0275inj=r.Nb({factory:function(t){return new(t||TE)},imports:[[G]]}),TE),oO=((SE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:SE}),SE.\u0275inj=r.Nb({factory:function(t){return new(t||SE)},imports:[[G]]}),SE),aO=((OE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:OE}),OE.\u0275inj=r.Nb({factory:function(t){return new(t||OE)},imports:[[G]]}),OE),sO=((EE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:EE}),EE.\u0275inj=r.Nb({factory:function(t){return new(t||EE)}}),EE),uO=((CE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:CE}),CE.\u0275inj=r.Nb({factory:function(t){return new(t||CE)},imports:[[G]]}),CE),cO=[lE,hE,fE,dE,pE,VE,UE,ZE,JE,tO,eO,nO,rO,oO,aO,sO,uO,iO],lO=((ME=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:ME}),ME.\u0275inj=r.Nb({factory:function(t){return new(t||ME)},imports:[cO,lE,hE,fE,dE,pE,VE,UE,ZE,JE,tO,eO,nO,rO,oO,aO,sO,uO,iO]}),ME),hO=((FE=function t(){_classCallCheck(this,t)}).\u0275mod=r.Ob({type:FE,bootstrap:[GC]}),FE.\u0275inj=r.Nb({factory:function(t){return new(t||FE)},providers:[],imports:[[St,Ti,Li.a.initializeApp(i),f_,pC,RC,lO]]}),FE);Object(r.T)(),Et().bootstrapModule(hO).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);