(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EY2u"),i=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return js})),n.d(e,"b",(function(){return Tc})),n.d(e,"c",(function(){return wc})),n.d(e,"d",(function(){return bc})),n.d(e,"e",(function(){return _c})),n.d(e,"f",(function(){return vl})),n.d(e,"g",(function(){return ul})),n.d(e,"h",(function(){return ds})),n.d(e,"i",(function(){return Fc})),n.d(e,"j",(function(){return ga})),n.d(e,"k",(function(){return Ac})),n.d(e,"l",(function(){return ya})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return Xu})),n.d(e,"o",(function(){return W})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return $})),n.d(e,"r",(function(){return As})),n.d(e,"s",(function(){return La})),n.d(e,"t",(function(){return Fa})),n.d(e,"u",(function(){return xc})),n.d(e,"v",(function(){return at})),n.d(e,"w",(function(){return ll})),n.d(e,"x",(function(){return ot})),n.d(e,"y",(function(){return rl})),n.d(e,"z",(function(){return qc})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return Cc})),n.d(e,"C",(function(){return Sc})),n.d(e,"D",(function(){return Ju})),n.d(e,"E",(function(){return wa})),n.d(e,"F",(function(){return ba})),n.d(e,"G",(function(){return _a})),n.d(e,"H",(function(){return Oa})),n.d(e,"I",(function(){return cr})),n.d(e,"J",(function(){return d})),n.d(e,"K",(function(){return dl})),n.d(e,"L",(function(){return qa})),n.d(e,"M",(function(){return Qc})),n.d(e,"N",(function(){return Ca})),n.d(e,"O",(function(){return Sa})),n.d(e,"P",(function(){return za})),n.d(e,"Q",(function(){return yt})),n.d(e,"R",(function(){return Ms})),n.d(e,"S",(function(){return il})),n.d(e,"T",(function(){return Vn})),n.d(e,"U",(function(){return j})),n.d(e,"V",(function(){return nt})),n.d(e,"W",(function(){return Mn})),n.d(e,"X",(function(){return gl})),n.d(e,"Y",(function(){return Zc})),n.d(e,"Z",(function(){return Ic})),n.d(e,"ab",(function(){return ms})),n.d(e,"bb",(function(){return su})),n.d(e,"cb",(function(){return ar})),n.d(e,"db",(function(){return fr})),n.d(e,"eb",(function(){return zn})),n.d(e,"fb",(function(){return An})),n.d(e,"gb",(function(){return kn})),n.d(e,"hb",(function(){return Dn})),n.d(e,"ib",(function(){return Rn})),n.d(e,"jb",(function(){return Nn})),n.d(e,"kb",(function(){return Pn})),n.d(e,"lb",(function(){return eu})),n.d(e,"mb",(function(){return ml})),n.d(e,"nb",(function(){return nu})),n.d(e,"ob",(function(){return ru})),n.d(e,"pb",(function(){return jn})),n.d(e,"qb",(function(){return F})),n.d(e,"rb",(function(){return Vs})),n.d(e,"sb",(function(){return oo})),n.d(e,"tb",(function(){return so})),n.d(e,"ub",(function(){return Fs})),n.d(e,"vb",(function(){return tu})),n.d(e,"wb",(function(){return qt})),n.d(e,"xb",(function(){return I})),n.d(e,"yb",(function(){return xn})),n.d(e,"zb",(function(){return Xo})),n.d(e,"Ab",(function(){return ra})),n.d(e,"Bb",(function(){return da})),n.d(e,"Cb",(function(){return Rr})),n.d(e,"Db",(function(){return Hs})),n.d(e,"Eb",(function(){return jo})),n.d(e,"Fb",(function(){return Wo})),n.d(e,"Gb",(function(){return Go})),n.d(e,"Hb",(function(){return Ao})),n.d(e,"Ib",(function(){return uo})),n.d(e,"Jb",(function(){return lc})),n.d(e,"Kb",(function(){return wt})),n.d(e,"Lb",(function(){return xt})),n.d(e,"Mb",(function(){return y})),n.d(e,"Nb",(function(){return v})),n.d(e,"Ob",(function(){return Ct})),n.d(e,"Pb",(function(){return At})),n.d(e,"Qb",(function(){return Ks})),n.d(e,"Rb",(function(){return eo})),n.d(e,"Sb",(function(){return ro})),n.d(e,"Tb",(function(){return no})),n.d(e,"Ub",(function(){return to})),n.d(e,"Vb",(function(){return Js})),n.d(e,"Wb",(function(){return io})),n.d(e,"Xb",(function(){return yn})),n.d(e,"Yb",(function(){return Ko})),n.d(e,"Zb",(function(){return xu})),n.d(e,"ac",(function(){return Ru})),n.d(e,"bc",(function(){return Au})),n.d(e,"cc",(function(){return Nu})),n.d(e,"dc",(function(){return et})),n.d(e,"ec",(function(){return Qs})),n.d(e,"fc",(function(){return vc})),n.d(e,"gc",(function(){return Ys})),n.d(e,"hc",(function(){return ao})),n.d(e,"ic",(function(){return dc})),n.d(e,"jc",(function(){return fo})),n.d(e,"kc",(function(){return Qu})),n.d(e,"lc",(function(){return Yu})),n.d(e,"mc",(function(){return vo})),n.d(e,"nc",(function(){return mo})),n.d(e,"oc",(function(){return Xs})),n.d(e,"pc",(function(){return bo})),n.d(e,"qc",(function(){return _o})),n.d(e,"rc",(function(){return Hu})),n.d(e,"sc",(function(){return $u})),n.d(e,"tc",(function(){return Wu})),n.d(e,"uc",(function(){return uc})),n.d(e,"vc",(function(){return Gs})),n.d(e,"wc",(function(){return ae})),n.d(e,"xc",(function(){return dr})),n.d(e,"yc",(function(){return Tt})),n.d(e,"zc",(function(){return hc})),n.d(e,"Ac",(function(){return cc})),n.d(e,"Bc",(function(){return xo})),n.d(e,"Cc",(function(){return Ws})),n.d(e,"Dc",(function(){return yc})),n.d(e,"Ec",(function(){return Bo})),n.d(e,"Fc",(function(){return zo})),n.d(e,"Gc",(function(){return Ho})),n.d(e,"Hc",(function(){return $o})),n.d(e,"Ic",(function(){return Qo}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}function c(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=c("Inject",t=>({token:t})),h=c("Optional"),f=c("Self"),d=c("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return _(t,t[E])||_(t,t[C])}function _(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(T))?t[O]:null}const E=m({"\u0275prov":m}),O=m({"\u0275inj":m}),S=m({"\u0275provFallback":m}),C=m({ngInjectableDef:m}),T=m({ngInjectorDef:m});function I(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function x(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A=m({__forward_ref__:m});function j(t){return t.__forward_ref__=j,t.toString=function(){return I(this())},t}function k(t){return N(t)?t():t}function N(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===j}const R="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,F=R||L||P||D,M=m({"\u0275cmp":m}),V=m({"\u0275dir":m}),U=m({"\u0275pipe":m}),q=m({"\u0275mod":m}),B=m({"\u0275loc":m}),z=m({"\u0275fac":m}),H=m({__NG_ELEMENT_ID__:m});class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new $("INJECTOR",-1),G={},K=/\n/gm,Q=m({provide:String,useValue:m});let Y,X=void 0;function Z(t){const e=X;return X=t,e}function J(t){const e=Y;return Y=t,e}function tt(t,e=p.Default){if(void 0===X)throw new Error("inject() must be called from an injection context");return null===X?rt(t,void 0,e):X.get(t,e&p.Optional?null:void 0,e)}function et(t,e=p.Default){return(Y||tt)(k(t),e)}const nt=et;function rt(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${I(t)}]`)}function it(t){const e=[];for(let n=0;n<t.length;n++){const r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof d||"SkipSelf"===i.ngMetadataName||i===d?n|=p.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class st{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${I(t)}!`);throw e.name="NullInjectorError",e}return e}}class ot{}class at{}function ut(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ft(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function dt(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),yt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),vt={},bt=[];let _t=0;function wt(t){return u(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||bt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||bt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=_t++,i.inputs=It(t.inputs,r),i.outputs=It(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Et):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,i})}function Et(t){return jt(t)||function(t){return t[V]||null}(t)}function Ot(t){return function(t){return t[U]||null}(t)}const St={};function Ct(t){const e={type:t.type,bootstrap:t.bootstrap||bt,declarations:t.declarations||bt,imports:t.imports||bt,exports:t.exports||bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{St[t.id]=t.type}),e}function Tt(t,e){return u(()=>{const n=Nt(t,!0);n.declarations=e.declarations||bt,n.imports=e.imports||bt,n.exports=e.exports||bt})}function It(t,e){if(null==t)return vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const xt=wt;function At(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function jt(t){return t[M]||null}function kt(t,e){return t.hasOwnProperty(z)?t[z]:null}function Nt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${I(t)} does not have '\u0275mod' property.`);return n}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Pt(t){return Array.isArray(t)&&!0===t[1]}function Dt(t){return 0!=(8&t.flags)}function Lt(t){return 2==(2&t.flags)}function Ft(t){return 1==(1&t.flags)}function Mt(t){return null!==t.template}function Vt(t){return 0!=(512&t[2])}let Ut=void 0;function qt(t){Ut=t}function Bt(){return void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0}function zt(t){return!!t.listen}const Ht={createRenderer:(t,e)=>Bt()};function $t(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return $t(e[t+20])}function Gt(t,e){return $t(e[t.index])}function Kt(t,e){return t.data[e+20]}function Qt(t,e){return t[e+20]}function Yt(t,e){const n=e[t];return Rt(n)?n:n[0]}function Xt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Zt(t){return 4==(4&t[2])}function Jt(t){return 128==(128&t[2])}function te(t,e){return null===t||null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const re={lFrame:Te(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ie(){return re.bindingsEnabled}function se(){return re.lFrame.lView}function oe(){return re.lFrame.tView}function ae(t){re.lFrame.contextLView=t}function ue(){return re.lFrame.previousOrParentTNode}function ce(t,e){re.lFrame.previousOrParentTNode=t,re.lFrame.isParent=e}function le(){return re.lFrame.isParent}function he(){re.lFrame.isParent=!1}function fe(){return re.checkNoChangesMode}function de(t){re.checkNoChangesMode=t}function pe(){const t=re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function me(){return re.lFrame.bindingIndex}function ge(){return re.lFrame.bindingIndex++}function ye(t){const e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t,e){const n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,be(e)}function be(t){re.lFrame.currentDirectiveIndex=t}function _e(t){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function we(){return re.lFrame.currentQueryIndex}function Ee(t){re.lFrame.currentQueryIndex=t}function Oe(t,e){const n=Ce();re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Se(t,e){const n=Ce(),r=t[1];re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ce(){const t=re.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ie(){const t=re.lFrame;return re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const xe=Ie;function Ae(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function je(){return re.lFrame.selectedIndex}function ke(t){re.lFrame.selectedIndex=t}function Ne(){const t=re.lFrame;return Kt(t.tView,t.selectedIndex)}function Re(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Pe(t,e,n){Fe(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function Le(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Me(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Me(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ue(t,e,n){const r=zt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Be(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function qe(t){return 3===t||4===t||6===t}function Be(t){return 64===t.charCodeAt(0)}function ze(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function He(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $e(t){return-1!==t}function We(t){return 32767&t}function Ge(t){return t>>16}function Ke(t,e){let n=Ge(t),r=e;for(;n>0;)r=r[15],n--;return r}function Qe(t){return"string"==typeof t?t:null==t?"":""+t}function Ye(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qe(t)}const Xe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function Ze(t){return t instanceof Function?t():t}let Je=!0;function tn(t){const e=Je;return Je=t,e}let en=0;function nn(t,e){const n=sn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rn(r.data,t),rn(e,null),rn(r.blueprint,null));const i=on(t,e),s=t.injectorIndex;if($e(i)){const t=We(i),n=Ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function on(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function an(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[H]:n.charCodeAt(0)||0;null==r&&(r=n[H]=en++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function un(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[H];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Oe(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;throw new Error(`No provider for ${Ye(n)}!`)}finally{xe()}}else if("number"==typeof i){if(-1===i)return new mn(t,e);let s=null,o=sn(t,e),a=-1,u=r&p.Host?e[16][6]:null;for((-1===o||r&p.SkipSelf)&&(a=-1===o?on(t,e):e[o+8],pn(r,!1)?(s=e[1],o=We(a),e=Ke(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(dn(i,o,t.data)){const t=ln(o,e,n,s,r,u);if(t!==cn)return t}pn(r,e[1].data[o+8]===u)&&dn(i,o,e)?(s=t,o=We(a),e=Ke(a,e)):o=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],s=J(void 0);try{return t?t.get(n,i,r&p.Optional):rt(n,i,r&p.Optional)}finally{J(s)}}if(r&p.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ye(n)}]`)}const cn={};function ln(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=hn(a,o,n,null==r?Lt(a)&&Je:r!=o&&3===a.type,i&p.Host&&s===a);return null!==u?fn(e,o,u,a):cn}function hn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,u=t.directiveStart,c=s>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Mt(t)&&t.type===n)return u}return null}function fn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ve){const o=i;if(o.resolving)throw new Error("Circular dep for "+Ye(s[n]));const a=tn(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=J(o.injectImpl)),Oe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&J(u),tn(a),o.resolving=!1,xe()}}return i}function dn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function pn(t,e){return!(t&p.Self||t&p.Host&&e)}class mn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return un(this._tNode,this._lView,t,void 0,e)}}function gn(t){const e=t;if(N(t))return()=>{const t=gn(k(e));return t?t():null};let n=kt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function yn(t){return u(()=>{const e=t.prototype.constructor,n=e[z]||gn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||gn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function vn(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function _n(t,...e){t.error(...e)}class wn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vn(t)?vn(t):this._findContext(bn(t)):null}_findOriginalError(t){let e=bn(t);for(;e&&bn(e);)e=bn(e);return e}}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class On extends En{getTypeName(){return"HTML"}}class Sn extends En{getTypeName(){return"Style"}}class Cn extends En{getTypeName(){return"Script"}}class Tn extends En{getTypeName(){return"URL"}}class In extends En{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof En&&t.getTypeName()||null}function kn(t){return new On(t)}function Nn(t){return new Sn(t)}function Rn(t){return new Cn(t)}function Pn(t){return new Tn(t)}function Dn(t){return new In(t)}let Ln=!0,Fn=!1;function Mn(){return Fn=!0,Ln}function Vn(){if(Fn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}class Un{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(qn)||t.match(Bn)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Hn(t){return(t=String(t)).split(",").map(t=>zn(t.trim())).join(", ")}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Wn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=$n("area,br,col,hr,img,wbr"),Kn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=$n("rp,rt"),Yn=Wn(Qn,Kn),Xn=Wn(Gn,Wn(Kn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Qn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Zn=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jn=$n("srcset"),tr=Wn(Zn,Jn,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=$n("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!tr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Zn[i]&&(s=zn(s)),Jn[i]&&(s=Hn(s)),this.buf.push(" ",e,'="',sr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function ar(t,e){let n=null;try{or=or||new Un(t);let r=e?String(e):"";n=or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==s);const o=new nr,a=o.sanitizeChildren(ur(n)||n);return Mn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const cr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),lr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),hr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";const e=t.match(hr);return e&&zn(e[1])===e[1]||t.match(lr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function dr(t){const e=function(){const t=se();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":An(t,"URL")?xn(t):zn(Qe(t))}function pr(t,e){t.__ngContext__=e}function mr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function gr(){throw new Error("Cannot mix multi providers and regular providers")}function yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function br(t){return 0===t.type&&"ng-template"!==t.tagName}function _r(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(qe(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!_r(t,u,n)||""===u&&1===e.length){if(Er(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!vr(t.attrs,c,n)){if(Er(r))return!1;o=!0}continue}const l=Or(8&r?"class":u,i,br(t),n);if(-1===l){if(Er(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yr(e,c,0)||2&r&&c!==t){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(u))return!1;if(o&&Er(u))continue;o=!1,r=u|1&r}}return Er(r)||o}function Er(t){return 0==(1&t)}function Or(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Sr(t,e,n=!1){for(let r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Cr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Tr(t,e){return t?":not("+e.trim()+")":e}function Ir(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Er(o)||(e+=Tr(s,i),i=""),r=o,s=s||!Er(r);n++}return""!==i&&(e+=Tr(s,i)),e}const xr={};function Ar(t){const e=t[3];return Pt(e)?e[3]:e}function jr(t){return Nr(t[13])}function kr(t){return Nr(t[4])}function Nr(t){for(;null!==t&&!Pt(t);)t=t[4];return t}function Rr(t){Pr(oe(),se(),je()+t,fe())}function Pr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&De(e,r,0,n)}ke(n)}const Dr={marker:"element"},Lr={marker:"comment"};function Fr(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function Vr(t){return 2|t}function Ur(t){return(131068&t)>>2}function qr(t,e){return-131069&t|e<<2}function Br(t){return 1|t}function zr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ee(i),n.contentQueries(2,e[s],s)}}}function Hr(t,e,n){return zt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=ue(),a=le(),u=a?o:o&&o.parent,c=t.data[n]=ni(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return ce(a,!0),a}function Gr(t,e,n){Se(e,e[6]);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zr(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)_i(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ae()}}function Kr(t,e,n,r){const i=e[2];if(256==(256&i))return;Se(e,e[6]);const s=fe();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&De(e,n,0,null),Le(e,0)}if(function(t){for(let e=jr(t);null!==e;e=kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ne(r,1),n[2]|=1024}}}(e),function(t){for(let e=jr(t);null!==e;e=kr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Jt(n)&&Kr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&zr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&De(e,n,1),Le(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,ke(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ve(r,i),o(2,e[i])),i++)}}}finally{ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ci(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&De(e,n,2),Le(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{Ae()}}function Qr(t,e,n,r){const i=e[10],s=!fe(),o=Zt(e);try{s&&!o&&i.begin&&i.begin(),o&&Gr(t,e,r),Kr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Yr(t,e,n,r,i){const s=je();try{ke(-1),2&r&&e.length>20&&Pr(t,e,0,fe()),n(r,i)}finally{ke(s)}}function Xr(t,e,n){if(Dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Zr(t,e,n){ie()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||nn(n,e),pr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Mt(r);s&&pi(e,n,r);const u=fn(e,t,a,n);pr(u,e),null!==o&&gi(0,a-i,u,r,0,o),s&&(Yt(n.index,e)[8]=u)}}(t,e,n,Gt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=re.lFrame.currentDirectiveIndex;try{ke(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];be(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ui(r,i):o&&s.push(null)}}finally{ke(-1),be(u)}}(t,e,n))}function Jr(t,e,n=Gt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ni(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,s,o,a){const u=Gt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ki(t,n,c,r,i),Lt(e)&&function(t,e){const n=Yt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,zt(s)?s.setProperty(u,r,i):Be(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function si(t,e,n,r){let i=!1;if(ie()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Sr(n,o.selectors,!1)&&(i||(i=[]),an(nn(n,e),t,o.type),Mt(o)?(2&n.flags&&mr(n),li(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,fi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ci(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=ze(n.mergedAttrs,c.hostAttrs),di(t,e,c),hi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),oi(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||br(e)?null:yi(n,i);s.push(c),o=ri(n,u,o),a=ri(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ai(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=ze(n.mergedAttrs,n.attrs),i}function oi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(xr),t.blueprint.push(xr),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mt(e)&&(n[""]=t)}}function fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=kt(n.type)),i=new Ve(r,Mt(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){const r=Gt(e,t),i=ti(n),s=t[10],o=wi(t,$r(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function mi(t,e,n,r,i,s){const o=Gt(t,e),a=e[11];if(null==r)zt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Qe(r):i(r,t.tagName||"",n);zt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}function gi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function bi(t,e){const n=Yt(e,t);if(Jt(n)){const t=n[1];80&n[2]?Kr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=jr(e);null!==r;r=kr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Kr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Yt(n[r],e);Jt(i)&&i[5]>0&&t(i)}}(n)}}function _i(t,e){const n=Yt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ei(t){for(;t;){t[2]|=64;const e=Ar(t);if(Vt(t)&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{Kr(t,e,t.template,n)}catch(i){throw ji(e,i),i}finally{r.end&&r.end()}}function Si(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Xt(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){Ee(0),e(t,n)}const Ti=(()=>Promise.resolve(null))();function Ii(t){return t[7]||(t[7]=[])}function xi(t){return t.cleanup||(t.cleanup=[])}function Ai(t,e,n){return(null===t||Mt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ji(t,e){const n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function ki(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ni(t,e,n){const r=Wt(e,t),i=t[11];zt(i)?i.setValue(r,n):r.textContent=n}function Ri(t,e){const n=e[3];return-1===t.index?Pt(n)?n:null:n}function Pi(t,e){const n=Ri(t,e);return n?Gi(e[11],n[7]):null}function Di(t,e,n,r,i){if(null!=r){let s,o=!1;Pt(r)?s=r:Rt(r)&&(o=!0,r=r[0]);const a=$t(r);0===t&&null!==n?null==i?$i(e,n,a):Hi(e,n,a,i||null):1===t&&null!==n?Hi(e,n,a,i||null):2===t?Xi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==$t(n)&&Di(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Ji(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Li(t,e){return zt(e)?e.createText(t):e.createTextNode(t)}function Fi(t,e,n,r){const i=Pi(t.node,e);i&&Ji(t,e,e[11],n?1:2,i,r)}function Mi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ne(e[3],-1),n.splice(r,1)}function Vi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Mi(i,r),e>0&&(t[n-1][4]=r[4]);const s=ht(t,10+e);Fi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ui(t,e){if(!(256&e[2])){const n=e[11];zt(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Bi(t[1],t);for(;e;){let n=null;if(Rt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&Bi(e[1],e),e=qi(e,t);null===e&&(e=t),Rt(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){let n;return Rt(t)&&(n=t[6])&&2===n.type?Ri(n,t):t[3]===e?null:t[3]}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):$t(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&zt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Pt(e[3])){r!==e[3]&&Mi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function zi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Pi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Gt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==yt.ShadowDom&&n!==yt.Native)return null}return Gt(r,n)}function Hi(t,e,n,r){zt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function $i(t,e,n){zt(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?Hi(t,e,n,r):$i(t,e,n)}function Gi(t,e){return zt(t)?t.parentNode(e):e.parentNode}function Ki(t,e){if(2===t.type){const n=Ri(t,e);return null===n?null:Yi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Gt(t,e):null}function Qi(t,e,n,r){const i=zi(t,r,e);if(null!=i){const t=e[11],s=Ki(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Wi(t,i,n[e],s);else Wi(t,i,n,s)}}function Yi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Gt(n,e);if(0===r)return Yi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Pt(t)?Yi(-1,t):$t(t)}}{const r=e[16],i=r[6],s=Ar(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Xi(t,e,n){const r=Gi(t,e);r&&function(t,e,n,r){zt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Zi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&pr($t(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Zi(t,e,n.child,r,i,s,!1),Di(e,t,i,a,s)):1===u?es(t,e,r,n,i,s):Di(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Ji(t,e,n,r,i,s){Zi(n,r,t.node.child,e,i,s,!1)}function ts(t,e,n){es(e[11],0,e,n,zi(t,n,e),Ki(n.parent||e[6],e))}function es(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Di(e,t,i,a[u],s);else Zi(t,e,a,o[3],i,s,!0)}function ns(t,e,n){zt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function rs(t,e,n){zt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class is{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push($t(o)),Pt(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Ar(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ui(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Ii(n=this._lView).push(r),e.firstCreatePass&&xi(e).push(n[7].length-1,null)}markForCheck(){Ei(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){de(!0);try{Oi(t,e,n)}finally{de(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ss extends is{constructor(t){super(t),this._view=t}detectChanges(){Si(this._view)}checkNoChanges(){!function(t){de(!0);try{Si(t)}finally{de(!1)}}(this._view)}get context(){return null}}let os,as,us;function cs(t,e,n){return os||(os=class extends t{}),new os(Gt(e,n))}function ls(t,e,n,r){return as||(as=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=$r(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gr(e,n,t),new is(n)}}),0===n.type?new as(r,n,cs(e,n,r)):null}function hs(t,e,n,r){let i;us||(us=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return cs(e,this._hostTNode,this._hostView)}get injector(){return new mn(this._hostTNode,this._hostView)}get parentInjector(){const t=on(this._hostTNode,this._hostView),e=Ke(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ge(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return $e(t)&&null!=n?new mn(n,e):new mn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ot,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new us(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],lt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Fi(r,n,!0,Yi(i,this._lContainer)),t.attachToViewContainerRef(this),lt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Vi(t,e);n&&Ui(n[1],n)}(this._lContainer,e),ht(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new is(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Pt(s))i=s;else{let t;if(4===n.type)t=$t(s);else if(t=r[11].createComment(""),Vt(r)){const e=r[11],i=Gt(n,r);Hi(e,Gi(e,i),t,function(t,e){return zt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Qi(r[1],r,t,n);r[n.index]=i=vi(s,r,t,n),wi(r,i)}return new us(i,n,r)}function fs(t=!1){return function(t,e,n){if(!n&&Lt(t)){const n=Yt(t.index,e);return new is(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new is(e[16],e):null}(ue(),se(),t)}let ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ps(),t})();const ps=fs,ms=new $("Set Injector scope."),gs={},ys={},vs=[];let bs=void 0;function _s(){return void 0===bs&&(bs=new st),bs}function ws(t,e=null,n=null,r){return new Es(t,n,e||_s(),r)}class Es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(W,Cs(void 0,this));const s=this.records.get(ms);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:I(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=p.Default){this.assertNotDestroyed();const r=Z(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof $)&&b(t);e=n&&this.injectableDefInScope(n)?Cs(Os(t),gs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?_s():this.parent).get(t,e=n&p.Optional&&e===G?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(I(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=I(e);if(Array.isArray(e))i=e.map(I).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):I(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(K,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Z(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(I(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=k(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||vs))}}this.injectorDefTypes.add(s),this.records.set(s,Cs(r.factory,gs));const a=r.providers;if(null!=a&&!o){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Is(t=k(t))?t:k(t&&t.provide);const i=function(t,e,n){return Ts(t)?Cs(void 0,t.useValue):Cs(Ss(t,e,n),gs)}(t,e,n);if(Is(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&gr()}else{let e=this.records.get(r);e?void 0===e.multi&&gr():(e=Cs(void 0,gs,!0),e.factory=()=>it(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ys?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(I(t)):e.value===gs&&(e.value=ys,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Os(t){const e=b(t),n=null!==e?e.factory:kt(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof $)throw new Error(`Token ${I(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ft(e,"?");throw new Error(`Can't resolve all parameters for ${I(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[C]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ss(t,e,n){let r=void 0;if(Is(t)){const e=k(t);return kt(e)||Os(e)}if(Ts(t))r=()=>k(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...it(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(k(t.useExisting));else{const i=k(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${I(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return kt(i)||Os(i);r=()=>new i(...it(t.deps))}var i;return r}function Cs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ts(t){return null!==t&&"object"==typeof t&&Q in t}function Is(t){return"function"==typeof t}const xs=function(t,e,n){return function(t,e=null,n=null,r){const i=ws(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let As=(()=>{class t{static create(t,e){return Array.isArray(t)?xs(t,e,""):xs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new st,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>et(W)}),t.__NG_ELEMENT_ID__=-1,t})();const js=new $("AnalyzeForEntryComponents");let ks=new Map;const Ns=new Set;function Rs(t){return"string"==typeof t?t:t.text()}function Ps(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=x(i,t):2==s&&(r=x(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Ds=null;function Ls(){if(!Ds){const t=F.Symbol;if(t&&t.iterator)Ds=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}function Fs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Ms{constructor(t){this.wrapped=t}static wrap(t){return new Ms(t)}static unwrap(t){return Ms.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ms}}function Vs(t){return!!Us(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ls()in t)}function Us(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,e,n){return t[e]=n}function Bs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function zs(t,e,n,r){const i=Bs(t,e,n);return Bs(t,e+1,r)||i}function Hs(t,e,n,r){const i=se();return Bs(i,ge(),e)&&(oe(),mi(Ne(),i,t,e,n,r)),Hs}function $s(t,e,n,r){return Bs(t,ge(),n)?e+Qe(n)+r:xr}function Ws(t,e,n,r,i,s,o,a){const u=se(),c=oe(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Wr(e,n[6],t,0,o||null,te(c,a));si(e,n,l,te(c,u)),Re(e,l);const h=l.tViews=ei(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ni(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ce(h,!1);const f=u[11].createComment("");Qi(c,u,f,h),pr(f,u),wi(u,u[l]=vi(f,u,f,h)),Ft(h)&&Zr(c,u,h),null!=o&&Jr(u,h,a)}function Gs(t){return Qt(re.lFrame.contextLView,t)}function Ks(t,e=p.Default){const n=se();return null==n?et(t,e):un(ue(),n,k(t),e)}function Qs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(qe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ue(),t)}function Ys(){throw new Error("invalid")}function Xs(t,e,n){const r=se();return Bs(r,ge(),e)&&ii(oe(),Ne(),r,t,e,r[11],n,!1),Xs}function Zs(t,e,n,r,i){const s=i?"class":"style";ki(t,n,e.inputs[s],s,r)}function Js(t,e,n,r){const i=se(),s=oe(),o=20+t,a=i[11],u=i[o]=Hr(e,a,re.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=te(a,s),c=Wr(e,n[6],t,3,i,u);return si(e,n,c,te(a,o)),null!==c.attrs&&Ps(c,c.attrs,!1),null!==c.mergedAttrs&&Ps(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];ce(c,!0);const l=c.mergedAttrs;null!==l&&Ue(a,u,l);const h=c.classes;null!==h&&rs(a,u,h);const f=c.styles;null!==f&&ns(a,u,f),Qi(s,i,u,c),0===re.lFrame.elementDepthCount&&pr(u,i),re.lFrame.elementDepthCount++,Ft(c)&&(Zr(s,i,c),Xr(s,c,i)),null!==r&&Jr(i,c)}function to(){let t=ue();le()?he():(t=t.parent,ce(t,!1));const e=t;re.lFrame.elementDepthCount--;const n=oe();n.firstCreatePass&&(Re(n,t),Dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zs(n,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zs(n,e,se(),e.stylesWithoutHost,!1)}function eo(t,e,n,r){Js(t,e,n,r),to()}function no(t,e,n){const r=se(),i=oe(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=te(s,r),a=Wr(e,n[6],t,4,"ng-container",o);return null!==o&&Ps(a,o,!0),si(e,n,a,te(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];ce(o,!0);const a=r[s]=r[11].createComment("");Qi(i,r,a,o),pr(a,r),Ft(o)&&(Zr(i,r,o),Xr(i,o,r)),null!=n&&Jr(r,o)}function ro(){let t=ue();const e=oe();le()?he():(t=t.parent,ce(t,!1)),e.firstCreatePass&&(Re(e,t),Dt(t)&&e.queries.elementEnd(t))}function io(){return se()}function so(t){return!!t&&"function"==typeof t.then}function oo(t){return!!t&&"function"==typeof t.subscribe}function ao(t,e,n=!1,r){const i=se(),s=oe(),o=ue();return co(s,i,i[11],o,t,e,n,r),ao}function uo(t,e,n=!1,r){const i=ue(),s=se(),o=oe();return co(o,s,Ai(_e(o.data),i,s),i,t,e,n,r),uo}function co(t,e,n,r,i,s,o=!1,a){const u=Ft(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ii(e);let h=!0;if(3===r.type){const f=Gt(r,e),d=a?a(f):vt,p=d.target||f,m=l.length,g=a?t=>a($t(t[r.index])).target:r.index;if(zt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ho(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=ho(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function lo(t,e,n){try{return!1!==e(n)}catch(r){return ji(t,r),!1}}function ho(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Yt(t.index,e):e;0==(32&e[2])&&Ei(o);let a=lo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=lo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function fo(t=1){return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function po(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Sr(t,s,!0):Cr(r,s))return i}else n=i}return n}function mo(t){const e=se()[16][6];if(!e.projection){const n=e.projection=ft(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?po(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let go=!1;function yo(t){go=t}function vo(t,e=0,n){const r=se(),i=oe(),s=Wr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),he(),go||ts(i,r,s)}function bo(t,e,n){return _o(t,"",e,"",n),bo}function _o(t,e,n,r,i){const s=se(),o=$s(s,e,n,r);return o!==xr&&ii(oe(),Ne(),s,t,o,s[11],i,!1),_o}const wo=[];function Eo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Mr(s):Ur(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Oo(t[a],e)&&(u=!0,t[a+1]=r?Br(n):Vr(n)),a=r?Mr(n):Ur(n)}u&&(t[n+1]=r?Vr(s):Br(s))}function Oo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}const So={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Co(t){return t.substring(So.key,So.keyEnd)}function To(t,e){const n=So.textEnd;return n===e?-1:(e=So.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,So.key=e,n),Io(t,e,n))}function Io(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function xo(t,e,n){return No(t,e,n,!1),xo}function Ao(t,e){return No(t,e,null,!0),Ao}function jo(t){Ro(dt,ko,t,!0)}function ko(t,e){for(let n=function(t){return function(t){So.key=0,So.keyEnd=0,So.value=0,So.valueEnd=0,So.textEnd=t.length}(t),To(t,Io(t,0,So.textEnd))}(e);n>=0;n=To(e,n))dt(t,Co(e),!0)}function No(t,e,n,r){const i=se(),s=oe(),o=ye(2);if(s.firstUpdatePass&&Do(s,t,o,r),e!==xr&&Bs(i,o,e)){let a;null==n&&(a=function(){const t=re.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Mo(s,s.data[je()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=I(xn(t)))),t}(e,n),r,o)}}function Ro(t,e,n,r){const i=oe(),s=ye(2);i.firstUpdatePass&&Do(i,null,s,r);const o=se();if(n!==xr&&Bs(o,s,n)){const a=i.data[je()+20];if(qo(a,r)&&!Po(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=x(t,n||"")),Zs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===xr&&(i=wo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,m=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,m=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,m=d),null!==p&&Mo(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return wo;const r=[],i=xn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Po(t,e){return e>=t.expandoStartIndex}function Do(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[je()+20],o=Po(t,n);qo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=_e(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fo(n=Lo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Lo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ur(r))return t[Mr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Lo(null,t,e,n[1],r),n=Fo(n,e.attrs,r),function(t,e,n,r){t[Mr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fo(r,t[s].hostAttrs,n);return Fo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Mr(o),u=Ur(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Mr(t[a+1]);t[r+1]=Fr(e,a),0!==e&&(t[e+1]=qr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Fr(a,0),0!==a&&(t[a+1]=qr(t[a+1],r)),a=r;else t[r+1]=Fr(u,0),0===a?a=r:t[u+1]=qr(t[u+1],r),u=r;l&&(t[r+1]=Vr(t[r+1])),Eo(t,c,r,!0),Eo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mt(s,e)>=0&&(n[r+1]=Br(n[r+1]))}(e,c,t,r,s),o=Fr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Lo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Mo(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Uo(1==(1&c)?Vo(u,e,n,i,Ur(c),o):void 0)||(Uo(s)||function(t){return 2==(2&t)}(c)&&(s=Vo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=zt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Wt(je(),n),i,s))}function Vo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===xr&&(l=c?wo:void 0);let h=c?pt(l,r):u===r?l:void 0;if(s&&!Uo(h)&&(h=pt(e,r)),Uo(h)&&(a=h,o))return a;const f=t[i+1];i=o?Mr(f):Ur(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pt(t,r))}return a}function Uo(t){return void 0!==t}function qo(t,e){return 0!=(t.flags&(e?16:32))}function Bo(t,e=""){const n=se(),r=oe(),i=t+20,s=r.firstCreatePass?Wr(r,n[6],t,3,null,null):r.data[i],o=n[i]=Li(e,n[11]);Qi(r,n,o,s),ce(s,!1)}function zo(t){return Ho("",t,""),zo}function Ho(t,e,n){const r=se(),i=$s(r,t,e,n);return i!==xr&&Ni(r,je(),i),Ho}function $o(t,e,n,r,i){const s=se(),o=function(t,e,n,r,i,s){const o=zs(t,me(),n,i);return ye(2),o?e+Qe(n)+r+Qe(i)+s:xr}(s,t,e,n,r,i);return o!==xr&&Ni(s,je(),o),$o}function Wo(t,e,n){Ro(dt,ko,$s(se(),t,e,n),!0)}function Go(t,e,n,r,i,s,o,a,u){Ro(dt,ko,function(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=zs(t,e,n,r);return zs(t,e+2,i,s)||o}(t,me(),n,i,o,u);return ye(4),l?e+Qe(n)+r+Qe(i)+s+Qe(o)+a+Qe(u)+c:xr}(se(),t,e,n,r,i,s,o,a,u),!0)}function Ko(t,e,n){const r=se();return Bs(r,ge(),e)&&ii(oe(),Ne(),r,t,e,r[11],n,!0),Ko}function Qo(t,e,n){const r=se();if(Bs(r,ge(),e)){const i=oe(),s=Ne();ii(i,s,r,t,e,Ai(_e(i.data),s,r),n,!0)}return Qo}function Yo(t,e){const n=Xt(t)[1],r=n.data.length-1;Re(n,{directiveStart:r,directiveEnd:r+1})}function Xo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Zo(t.inputs),e.declaredInputs=Zo(t.declaredInputs),e.outputs=Zo(t.outputs);const n=i.hostBindings;n&&ea(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Jo(t,s),o&&ta(t,o),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),Mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ze(i.hostAttrs,n=ze(n,i.hostAttrs))}}(r)}function Zo(t){return t===vt?{}:t===bt?[]:t}function Jo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ta(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ea(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class na{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ra(t){t.type.prototype.ngOnChanges&&(t.setInput=ia,t.onChanges=function(){const t=sa(this),e=t&&t.current;if(e){const n=t.previous;if(n===vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ia(t,e,n,r){const i=sa(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new na(u&&u.currentValue,e,o===vt),t[r]=e}function sa(t){return t.__ngSimpleChanges__||null}function oa(t,e,n,r,i){if(t=k(t),Array.isArray(t))for(let s=0;s<t.length;s++)oa(t[s],e,n,r,i);else{const s=oe(),o=se();let a=Is(t)?t:k(t.provide),u=Ss(t);const c=ue(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(Is(t)||!t.multi){const r=new Ve(u,i,Ks),d=ca(a,e,i?l:l+f,h);-1===d?(an(nn(c,o),s,a),aa(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=ca(a,e,l+f,h),p=ca(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){an(nn(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ve(t,n,Ks);return s.multi=[],s.index=e,s.componentProviders=0,ua(s,i,r&&!n),s}(i?ha:la,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),aa(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),o.push(l)}else aa(s,t,d>-1?d:p,ua(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function aa(t,e,n,r){const i=Is(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ua(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ca(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function la(t,e,n,r){return fa(this.multi,[])}function ha(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=fn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),fa(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],fa(i,s);return s}function fa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function da(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=oe();if(r.firstCreatePass){const i=Mt(t);oa(n,r.data,r.blueprint,i,!0),oa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}ra.ngInherit=!0;class pa{}class ma{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${I(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ga=(()=>{class t{}return t.NULL=new ma,t})(),ya=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>va(t),t})();const va=function(t){return cs(t,ue(),se())};class ba{}const _a=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ea(),t})();const Ea=function(){const t=se(),e=Yt(ue().index,t);return function(t){const e=t[11];if(zt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Rt(e)?e:t)};let Oa=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class Sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ca=new Sa("9.1.12");class Ta{constructor(){}supports(t){return Vs(t)}create(t){return new xa(t)}}const Ia=(t,e)=>e;class xa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Na(n,r,i)?e:n,o=Na(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Vs(t))throw new Error(`Error trying to diff '${I(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Fs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Fs(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ls()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Fs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Fs(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Fs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Fs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Aa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ka),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ka),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Aa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ja{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Fs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ka{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ja,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Na(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ra{constructor(){}supports(t){return t instanceof Map||Us(t)}create(){return new Pa}}class Pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Us(t)))throw new Error(`Error trying to diff '${I(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Da(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Fs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Da{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let La=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Ta])}),t})(),Fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Ra])}),t})();const Ma=[new Ra],Va=new La([new Ta]),Ua=new Fa(Ma);let qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ba(t,ya),t})();const Ba=function(t,e){return ls(t,e,ue(),se())};let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ha(t,ya),t})();const Ha=function(t,e){return hs(t,e,ue(),se())},$a={};class Wa extends ga{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=jt(t);return new Qa(e,this.ngModule)}}function Ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ka=new $("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xe});class Qa extends pa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ir).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,$a,i);return s!==$a||r===$a?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ba,Ht),o=i.get(Oa,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(zt(t))return t.selectRootElement(e,n===yt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Hr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Xe,clean:Ti,playerHandler:null,flags:0},d=ei(0,-1,null,1,0,null,null,null,null,null),p=$r(null,d,f,l,null,null,s,a,o,i);let m,g;Se(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Wr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ps(a,u,!0),null!==t&&(Ue(i,t,u),null!==a.classes&&rs(i,t,a.classes),null!==a.styles&&ns(i,t,a.styles)));const c=r.createRenderer(t,e),l=$r(n,ti(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(an(nn(a,n),o,e.type),li(o,a),fi(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,p,s,a);if(c)if(n)Ue(a,c,["ng-version",Ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ue(a,c,t),e&&e.length>0&&rs(a,c,e.join(" "))}if(g=Kt(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),di(t,e,n));const i=fn(e,t,e.length-1,r);pr(i,e);const s=Gt(r,e);return s&&pr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=ue();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){ke(a.index-20);const t=n[1];oi(t,e),ai(t,n,e.hostVars),ui(e,o)}return o}(t,this.componentDef,p,f,[Yo]),Gr(d,p,null)}finally{Ae()}const y=new Ya(this.componentType,m,cs(ya,g,p),p,g);return n&&!h||(d.node.child=g),y}}class Ya extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ss(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ni(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Xa=void 0;var Za=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ja={};function tu(t,e,n){"string"!=typeof e&&(n=e,e=t[su.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ja[e]=t,n&&(Ja[e][su.ExtraData]=n)}function eu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=iu(e);if(n)return n;const r=e.split("-")[0];if(n=iu(r),n)return n;if("en"===r)return Za;throw new Error(`Missing locale data for the locale "${t}".`)}function nu(t){return eu(t)[su.CurrencyCode]||null}function ru(t){return eu(t)[su.PluralCase]}function iu(t){return t in Ja||(Ja[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),Ja[t]}const su=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),ou=["zero","one","two","few","many"],au=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uu=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,cu=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,lu=/\ufffd(\d+):?\d*\ufffd/gi,hu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function fu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);au.test(n)?r.push(du(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function du(t){const e=[],n=[];let r=1,i=0;const s=fu(t=t.replace(au,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=fu(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function pu(t){let e,n,r="",i=0,s=!1;for(;null!==(e=uu.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function mu(t,e,n,r=null){const i=[null,null],s=t.split(lu);let o=0;for(let a=0;a<s.length;a++){const t=s[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),o|=bu(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function gu(t,e=0){let n;e|=bu(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=lu.exec(r);)e|=bu(parseInt(n[1],10));else e=gu(r,e)}}return e}const yu=[];let vu=-1;function bu(t){return 1<<Math.min(t,31)}const _u=[];let wu;function Eu(t){return t+wu++}function Ou(t,e,n,r,i){const s=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let o=e.next;for(;o;)o.next===e&&(o.next=s),o=o.next;if(1===e.type)return ts(t,i,e),e;Qi(t,i,Gt(e,i),e);const a=i[e.index];return 0!==e.type&&Pt(a)&&Qi(t,i,a[7],e),e}function Su(t){return void 0===t}function Cu(t,e,n,r,i,s){const o=ue();e[n+20]=i;const a=Wr(t,e[6],n,r,s,null);return o&&o.next===a&&(o.next=null),a}function Tu(t,e,n,r){const i=r[11];let s=null,o=null;const a=[];for(let u=0;u<e.length;u++){const c=e[u];if("string"==typeof c){const t=Li(c,i),l=e[++u];o=s,s=Cu(n,r,l,3,t,null),a.push(l),he()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===t?r[6]:Kt(n,i),o=Ou(n,s,l,o,r);break;case 0:const h=c>=0,f=(h?c:~c)>>>3;a.push(f),o=s,s=Kt(n,f),s&&ce(s,h);break;case 5:o=s=Kt(n,c>>>3),ce(s,!1);break;case 4:const d=e[++u],p=e[++u];mi(Kt(n,c>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case Lr:const t=e[++u],l=e[++u],h=i.createComment(t);o=s,s=Cu(n,r,l,5,h,null),a.push(l),pr(h,r),s.activeCaseIndex=null,he();break;case Dr:const f=e[++u],d=e[++u];o=s,s=Cu(n,r,d,3,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return he(),a}function Iu(t,e,n,r){const i=Kt(t,n),s=Wt(n,e);s&&Xi(e[11],s);const o=Qt(e,n);if(Pt(o)){const t=o;0!==i.type&&Xi(e[11],t[7])}r&&(i.flags|=64)}function xu(t,e,n){(function(t,e,n){const r=oe();yu[++vu]=t,yo(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){const s=e.blueprint.length-20;wu=0;const o=ue(),a=le()?o:o&&o.parent;let u=a&&a!==t[6]?a.index-20:n,c=0;_u[c]=u;const l=[];if(n>0&&o!==a){let t=o.index-20;le()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&Su(i))l.push(r,Eu(s),u<<17|1);else{const t=function(t,e){if(Su(e))return pu(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return pu(t.substring(n,r))}}(r,i),e=(d=t,d.replace(Mu," ")).split(cu);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=_u[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(_u[++c]=u=t)}else{const e=fu(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Eu(s);l.push(Lr,"",i,u<<17|1);const o=gu(r);Du(f,r,i,i);const a=f.length-1;h.push(bu(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,o,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(lu),i=Eu(s);l.push(r?"":t,i,u<<17|1),r&&ut(mu(t,i),h)}}}}var d;wu>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,wu),e.data[n+20]={vars:wu,create:l,update:h,icus:f.length?f:null}}(se(),r,t,e,n)})(t,e,n),function(){const t=se();!function(t,e){const n=yu[vu--],r=t.data[n+20],i=ue(),s=Tu(n,r.create,t,e);let o=n+1;for(;o<=i.index-20;){-1===s.indexOf(o)&&Iu(t,e,o,!0);const n=Kt(t,o);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(o+=n.localNames.length>>1),o++}}(oe(),t),yo(!1)}()}function Au(t,e){!function(t,e,n,r){const i=ue().index-20,s=[];for(let o=0;o<r.length;o+=2){const a=r[o],u=r[o+1].split(hu);for(let r=0;r<u.length;r++){const o=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(lu))e.firstCreatePass&&null===e.data[n+20]&&ut(mu(o,i,a),s);else{const n=Kt(e,i);3===n.type&&mi(n,t,a,o,null,null);const r=null!==n.inputs&&n.inputs[a];r&&ki(e,t,r,a,o)}}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=s)}(se(),oe(),t,e)}let ju=0,ku=0;function Nu(t){return Bs(se(),ge(),t)&&(ju|=1<<ku),ku++,Nu}function Ru(t){if(ku){const e=oe(),n=e.data[t+20];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus);const s=me()-ku-1,o=se();!function t(e,n,r,i,s,o,a=!1){let u=!1;for(let c=0;c<e.length;c++){const l=e[c],h=e[++c];if(a||l&i){let a="";for(let l=c+1;l<=c+h;l++){const c=e[l];if("string"==typeof c)a+=c;else if("number"==typeof c)if(c<0)a+=Qe(o[r-c]);else{const h=c>>>2;let f,d,p;switch(3&c){case 1:const c=e[++l],m=e[++l];ii(s,Kt(s,h),o,c,a,o[11],m,!1);break;case 0:Ni(o,h,a);break;case 2:if(f=e[++l],d=n[f],p=Kt(s,h),null!==p.activeCaseIndex){const t=d.remove[p.activeCaseIndex];for(let e=0;e<t.length;e++){const r=t[e];switch(7&r){case 3:Iu(s,o,r>>>3,!1);break;case 6:const i=Kt(s,t[e+1]>>>3).activeCaseIndex;null!==i&&ut(n[r>>>3].remove[i],t)}}}const g=Pu(d,a);p.activeCaseIndex=-1!==g?g:null,g>-1&&(Tu(-1,d.create[g],s,o),u=!0);break;case 3:f=e[++l],d=n[f],p=Kt(s,h),null!==p.activeCaseIndex&&t(d.update[p.activeCaseIndex],n,r,i,s,o,u)}}}}c+=h}}(r,i,s,ju,e,o),ju=0,ku=0}}function Pu(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ru(e)(parseInt(t,10)),r=ou[n];return void 0!==r?r:"other"}(e,Vu);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}function Du(t,e,n,r){const i=[],s=[],o=[],a=[],u=[];for(let c=0;c<e.values.length;c++){const l=e.values[c],h=[];for(let t=0;t<l.length;t++){const e=l[t];if("string"!=typeof e){const n=h.push(e)-1;l[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const f=Lu(l.join(""),n,h,t,r);i.push(f.create),s.push(f.remove),o.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,childIcus:u,cases:e.cases,create:i,remove:s,update:o}),wu+=Math.max(...a)}function Lu(t,e,n,r,i){const s=new Un(Bt()).getInertBodyElement(t);if(!s)throw new Error("Unable to generate inert body element");const o={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,s,o){if(e){const a=[];for(;e;){const u=e.nextSibling,c=o+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if(Xn.hasOwnProperty(l)){n.create.push(Dr,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(lu)?tr.hasOwnProperty(r)&&ut(Zn[r]?mu(e.value,c,e.name,zn):Jn[r]?mu(e.value,c,e.name,Hn):mu(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,s,o),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",f=h.match(lu);n.create.push(f?"":h,c,r<<17|1),n.remove.push(c<<3|3),f&&ut(mu(h,c),n.update);break;case Node.COMMENT_NODE:const d=Fu.exec(e.textContent||"");if(d){const t=parseInt(d[1],10);n.create.push(Lr,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Du(s,e,r,o+n.vars);const i=s.length-1;n.vars+=Math.max(...s[i].vars),n.childIcus.push(i);const u=gu(e);n.update.push(bu(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((ur(s)||s).firstChild,o,e,n,r,i),o}const Fu=/\ufffd(\d+)\ufffd/,Mu=/\uE500/g;let Vu="en-US";function Uu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Vu=t.toLowerCase().replace(/_/g,"-"))}const qu=new Map;class Bu extends ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wa(this);const n=Nt(t),r=t[B]||null;r&&Uu(r),this._bootstrapComponents=Ze(n.bootstrap),this._r3Injector=ws(t,e,[{provide:ot,useValue:this},{provide:ga,useValue:this.componentFactoryResolver}],I(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=As.THROW_IF_NOT_FOUND,n=p.Default){return t===As||t===ot||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zu extends at{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${I(e)} vs ${I(e.name)}`)})(t,qu.get(t),e),qu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Bu(this.moduleType,t)}}function Hu(t,e,n,r){return Ku(se(),pe(),t,e,n,r)}function $u(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return zs(t,a,i,s)?qs(t,a+2,o?r.call(o,i,s):r(i,s)):Gu(t,a+2)}(se(),pe(),t,e,n,r,i)}function Wu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=zs(t,e,n,r);return Bs(t,e+2,i)||s}(t,u,i,s,o)?qs(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):Gu(t,u+3)}(se(),pe(),t,e,n,r,i,s)}function Gu(t,e){const n=t[e];return n===xr?void 0:n}function Ku(t,e,n,r,i,s){const o=e+n;return Bs(t,o,i)?qs(t,o+1,s?r.call(s,i):r(i)):Gu(t,o+1)}function Qu(t,e){const n=oe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=kt(r.type)),o=J(Ks),a=tn(!1),u=s();return tn(a),J(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,se(),t,u),u}function Yu(t,e,n){const r=se(),i=Qt(r,t);return function(t,e){return Ms.isWrapped(e)&&(e=Ms.unwrap(e),t[me()]=xr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Ku(r,pe(),e,i.transform,n,i):i.transform(n))}class Xu extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Zu(){return this._results[Ls()]()}class Ju{constructor(){this.dirty=!0,this._results=[],this.changes=new Xu,this.length=0;const t=Ls(),e=Ju.prototype;e[t]||(e[t]=Zu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class tc{constructor(t){this.queryList=t,this.matches=null}clone(){return new tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ec{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ec(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gc(t,e).matches&&this.queries[e].setDirty()}}class nc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class rc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new rc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ic{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ic(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,sc(e,n[r]))}else{const n=this.metadata.predicate;n===qa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ya||r===za||r===qa&&0===e.type)this.addMatch(e.index,-2);else{const n=hn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function sc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function oc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?cs(ya,t,e):0===t.type?ls(qa,ya,t,e):null}(e,t):-2===n?function(t,e,n){return n===ya?cs(ya,e,t):n===qa?ls(qa,ya,e,t):n===za?hs(za,ya,e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function ac(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:oc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function uc(t){const e=se(),n=oe(),r=we();Ee(r+1);const i=gc(n,r);if(t.dirty&&Zt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=ac(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):ac(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function cc(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&(mc(t,new nc(n,r,!0,i),-1),t.staticViewQueries=!0),pc(t,e)}(oe(),se(),t,e,n)}function lc(t,e,n,r){fc(oe(),se(),e,n,r,!1,ue(),t)}function hc(t,e,n,r){fc(oe(),se(),e,n,r,!0,ue(),t)}function fc(t,e,n,r,i,s,o,a){t.firstCreatePass&&(mc(t,new nc(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),pc(t,e)}function dc(){return t=se(),e=we(),t[19].queries[e].queryList;var t,e}function pc(t,e){const n=new Ju;!function(t,e,n,r){const i=Ii(e);i.push(n),t.firstCreatePass&&xi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new ec),e[19].queries.push(new tc(n))}function mc(t,e,n){null===t.queries&&(t.queries=new rc),t.queries.track(new ic(e,n))}function gc(t,e){return t.queries.getByIndex(e)}function yc(t,e){return ls(qa,ya,t,e)}function vc(t=p.Default){const e=fs(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const bc=new $("Application Initializer");let _c=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();so(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(bc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const wc=new $("AppId"),Ec={provide:wc,useFactory:function(){return`${Oc()}${Oc()}${Oc()}`},deps:[]};function Oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sc=new $("Platform Initializer"),Cc=new $("Platform ID"),Tc=new $("appBootstrapListener");let Ic=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const xc=new $("LocaleId"),Ac=new $("DefaultCurrencyCode");class jc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const kc=function(t){return new zu(t)},Nc=kc,Rc=function(t){return Promise.resolve(kc(t))},Pc=function(t){const e=kc(t),n=Ze(Nt(t).declarations).reduce((t,e)=>{const n=jt(e);return n&&t.push(new Qa(n)),t},[]);return new jc(e,n)},Dc=Pc,Lc=function(t){return Promise.resolve(Pc(t))};let Fc=(()=>{class t{constructor(){this.compileModuleSync=Nc,this.compileModuleAsync=Rc,this.compileModuleAndAllComponentsSync=Dc,this.compileModuleAndAllComponentsAsync=Lc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Mc=new $("compilerOptions"),Vc=(()=>Promise.resolve(0))();function Uc(t){"undefined"==typeof Zone?Vc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xu(!1),this.onMicrotaskEmpty=new Xu(!1),this.onStable=new Xu(!1),this.onError=new Xu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.lastRequestAnimationFrameId=-1,$c(t),Hc(t)}),$c(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Wc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Gc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Wc(t),e.invoke(r,i,s,o,a)}finally{Gc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,$c(t),Hc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,zc,Bc,Bc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Bc(){}const zc={};function Hc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $c(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Wc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gc(t){t._nesting--,Hc(t)}class Kc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xu,this.onMicrotaskEmpty=new Xu,this.onStable=new Xu,this.onError=new Xu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Qc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qc.assertNotInAngularZone(),Uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(qc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Yc=(()=>{class t{constructor(){this._applications=new Map,tl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return tl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class Xc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Zc(t){tl=t}let Jc,tl=new Xc,el=function(t,e,n){const r=t.get(Mc,[]).concat(e),i=new zu(n);if(0===ks.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=F.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=As.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(Rs))}return e}return ks.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){Ns.delete(t)}(n));e.push(u)}),ks=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const nl=new $("AllowMultipleToken");class rl{constructor(t,e){this.name=t,this.token=e}}function il(t,e,n=[]){const r="Platform: "+e,i=new $(r);return(e=[])=>{let s=sl();if(!s||s.injector.get(nl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ms,useValue:"platform"});!function(t){if(Jc&&!Jc.destroyed&&!Jc.injector.get(nl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jc=t.get(ol);const e=t.get(Sc,null);e&&e.forEach(t=>t())}(As.create({providers:t,name:r}))}return function(t){const e=sl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function sl(){return Jc&&!Jc.destroyed?Jc:null}let ol=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Kc:("zone.js"===t?void 0:t)||new qc({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:qc,useValue:n}];return n.run(()=>{const e=As.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(wn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>cl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return so(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(_c);return t.runInitializers(),t.donePromise.then(()=>(Uu(i.injector.get(xc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=al({},e);return el(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ul);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${I(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(As))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function al(t,e){return Array.isArray(e)?e.reduce(al,t):Object.assign(Object.assign({},t),e)}let ul=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qc.assertNotInAngularZone(),Uc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ot),i=n.create(As.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Qc,null);return s&&i.injector.get(Yc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Mn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(qc),et(Ic),et(As),et(wn),et(ga),et(_c))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function cl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ll{}class hl{}const fl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>pl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>pl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(Fc),et(hl,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function pl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ml=function(t){return null},gl=il(null,"core",[{provide:Cc,useValue:"unknown"},{provide:ol,deps:[As]},{provide:Yc,deps:[]},{provide:Ic,deps:[]}]),yl=[{provide:ul,useClass:ul,deps:[qc,Ic,As,wn,ga,_c]},{provide:Ka,deps:[qc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:_c,useClass:_c,deps:[[new h,bc]]},{provide:Fc,useClass:Fc,deps:[]},Ec,{provide:La,useFactory:function(){return Va},deps:[]},{provide:Fa,useFactory:function(){return Ua},deps:[]},{provide:xc,useFactory:function(t){return Uu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(xc),new h,new d]]},{provide:Ac,useValue:"USD"}];let vl=(()=>{class t{constructor(t){}}return t.\u0275mod=Ct({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(et(ul))},providers:yl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return m}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.3");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ob({type:t}),t.\u0275inj=u.Nb({factory:function(e){return new(e||t)(u.dc(u.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBLUy27luGNg_vs9o4Qw1HqzuAqRQePHMU",authDomain:"invisiblefriend-fcbe4.firebaseapp.com",projectId:"invisiblefriend-fcbe4",storageBucket:"invisiblefriend-fcbe4.appspot.com",messagingSenderId:"286563631036",appId:"1:286563631036:web:8f64c7fa595ebaa5a8f5b9"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.dc)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.dc)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.dc)(a).location;return new _(Object(r.dc)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(u),r.dc(b,8))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(u),r.dc(b,8))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(y),r.dc(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Mb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new E(Object(r.dc)(y),Object(r.dc)(u))}function S(t){return t.replace(/\/index.html$/,"")}const C=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),T=r.ob;class I{}let x=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.u))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.P),r.Qb(r.L))},t.\u0275dir=r.Lb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function k(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}let N=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:x}]}),t})(),R=(()=>{class t{}return t.\u0275prov=Object(r.Mb)({token:t,providedIn:"root",factory:()=>new P(Object(r.dc)(a),window,Object(r.dc)(r.m))}),t})();class P{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(dy){return!1}}}class D extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new D,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=F||(F=document.querySelector("base"),F)?F.getAttribute("href"):null;return null==e?null:(n=e,L||(L=document.createElement("a")),L.setAttribute("href",n),"/"===L.pathname.charAt(0)?L.pathname:"/"+L.pathname);var n}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let L,F=null;const M=new r.q("TRANSITION_ID"),V=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[M,a,r.r],multi:!0}];class U{static init(){Object(r.Y)(new U)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const q=new r.q("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(q),r.dc(r.z))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let H=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends H{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},G=/%COMP%/g;function K(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?K(t,i,n):(i=i.replace(G,t),n.push(i))}return n}function Q(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Y=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new J(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=K(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.dc(B),r.dc($),r.dc(r.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(W[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=W[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=W[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Q(n)):this.eventManager.addEventListener(t,e,Q(n))}}class Z extends X{constructor(t,e,n,r){super(t),this.component=n;const i=K(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(G,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(G,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class J extends X{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=K(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let tt=(()=>{class t extends z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const et=["alt","control","meta","shift"],nt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},it={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let st=(()=>{class t extends z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(et.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&rt.hasOwnProperty(e)&&(e=rt[e]))}return nt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),et.forEach(r=>{r!=n&&(0,it[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const ot=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){D.makeCurrent(),U.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],at=Object(r.S)(r.X,"browser",ot),ut=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:q,useClass:tt,multi:!0,deps:[a,r.z,r.B]},{provide:q,useClass:st,multi:!0,deps:[a]},[],{provide:Y,useClass:Y,deps:[B,$,r.c]},{provide:r.F,useExisting:Y},{provide:H,useExisting:$},{provide:$,useClass:$,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:B,useClass:B,deps:[q,r.z]},[]];let ct=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:M,useExisting:r.c},V]}}}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)(r.dc(t,12))},providers:ut,imports:[N,r.f]}),t})();"undefined"!=typeof window&&window;var lt=n("LRne"),ht=n("Cfvw"),ft=n("XNiG"),dt=n("9ppp");class pt extends ft.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dt.a;return this._value}next(t){super.next(this._value=t)}}var mt=n("HDdC");const gt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var yt=n("z+Ro"),vt=n("DH7j"),bt=n("l7GE"),_t=n("ZUHj"),wt=n("yCtX");const Et={};class Ot{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new St(t,this.resultSelector))}}class St extends bt.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Et),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(_t.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Et?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Ct=n("EY2u");function Tt(t){return new mt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ht.a)(n):Object(Ct.b)()).subscribe(e)})}var It=n("lJxs"),xt=n("bHdf");function At(){return Object(xt.a)(1)}var jt=n("7o/Q");function kt(t,e){return function(n){return n.lift(new Nt(t,e))}}class Nt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Rt(t,this.predicate,this.thisArg))}}class Rt extends jt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Pt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Dt(t){return function(e){return 0===t?Object(Ct.b)():e.lift(new Lt(t))}}class Lt{constructor(t){if(this.total=t,this.total<0)throw new Pt}call(t,e){return e.subscribe(new Ft(t,this.total))}}class Ft extends jt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Mt(t=qt){return e=>e.lift(new Vt(t))}class Vt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ut(t,this.errorFactory))}}class Ut extends jt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function qt(){return new gt}function Bt(t=null){return e=>e.lift(new zt(t))}class zt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ht(t,this.defaultValue))}}class Ht extends jt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var $t=n("SpAZ");function Wt(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):$t.a,Dt(1),n?Bt(e):Mt(()=>new gt))}var Gt=n("51Dv");function Kt(t){return function(e){const n=new Qt(t),r=e.lift(n);return n.caught=r}}class Qt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Yt(t,this.selector,this.caught))}}class Yt extends bt.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Gt.a(this,void 0,void 0);this.add(r);const i=Object(_t.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Xt(t){return e=>0===t?Object(Ct.b)():e.lift(new Zt(t))}class Zt{constructor(t){if(this.total=t,this.total<0)throw new Pt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends jt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function te(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):$t.a,Xt(1),n?Bt(e):Mt(()=>new gt))}var ee=n("5+tZ");class ne{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new re(t,this.predicate,this.thisArg,this.source))}}class re extends jt.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ie(t,e){return"function"==typeof e?n=>n.pipe(ie((n,r)=>Object(ht.a)(t(n,r)).pipe(Object(It.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new se(t))}class se{constructor(t){this.project=t}call(t,e){return e.subscribe(new oe(t,this.project))}}class oe extends bt.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Gt.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(_t.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function ae(...t){return At()(Object(lt.a)(...t))}function ue(...t){const e=t[t.length-1];return Object(yt.a)(e)?(t.pop(),n=>ae(t,n,e)):e=>ae(t,e)}function ce(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new le(t,e,n))}}class le{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new he(t,this.accumulator,this.seed,this.hasSeed))}}class he extends jt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function fe(t,e){return Object(ee.a)(t,e,1)}var de=n("mCNh"),pe=n("vkgz"),me=n("quSY");class ge{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ye(t,this.callback))}}class ye extends jt.a{constructor(t,e){super(t),this.add(new me.a(e))}}class ve{constructor(t,e){this.id=t,this.url=e}}class be extends ve{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _e extends ve{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class we extends ve{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ee extends ve{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oe extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends ve{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Te extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends ve{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:function(){return[Fr]},encapsulation:2}),t})();class Le{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Le(t)}function Me(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ve(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Ue{constructor(t,e){this.routes=t,this.module=e}}function qe(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Be(r,ze(e,r))}}function Be(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&qe(t.children,e)}function ze(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function He(t){const e=t.children&&t.children.map(He),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=De),n}function $e(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!We(t[i],e[i]))return!1;return!0}function We(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Ge(t){return Array.prototype.concat.apply([],t)}function Ke(t){return t.length>0?t[t.length-1]:null}function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ye(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(ht.a)(Promise.resolve(t)):Object(lt.a)(t)}function Xe(t,e,n){return n?function(t,e){return $e(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!en(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>We(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!en(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!en(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!en(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Ze{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Je{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class tn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return dn(this)}}function en(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function nn(t,e){let n=[];return Qe(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Qe(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class rn{}class sn{parse(t){const e=new vn(t);return new Ze(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return an(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Qe(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=nn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${an(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${cn(e)}=${cn(t)}`).join("&"):`${cn(e)}=${cn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const on=new sn;function an(t){return t.segments.map(t=>dn(t)).join("/")}function un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(t){return un(t).replace(/%3B/gi,";")}function ln(t){return un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(t){return decodeURIComponent(t)}function fn(t){return hn(t.replace(/\+/g,"%20"))}function dn(t){return`${ln(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ln(t)}=${ln(e[t])}`).join("")}`;var e}const pn=/^[^\/()?;=#]+/;function mn(t){const e=t.match(pn);return e?e[0]:""}const gn=/^[^=?&#]+/,yn=/^[^?&#]+/;class vn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Je(t,e)),n}parseSegment(){const t=mn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tn(hn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=mn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=mn(this.remaining);t&&(n=t,this.capture(n))}t[hn(e)]=hn(n)}parseQueryParam(t){const e=function(t){const e=t.match(gn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(yn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fn(e),i=fn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=mn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Je([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_n(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=_n(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return wn(t,this._root).map(t=>t.value)}}function _n(t,e){if(t===e.value)return e;for(const n of e.children){const e=_n(t,n);if(e)return e}return null}function wn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wn(t,n);if(r.length)return r.unshift(e),r}return[]}class En{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function On(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Sn extends bn{constructor(t,e){super(t),this.snapshot=e,jn(this,t)}toString(){return this.snapshot.toString()}}function Cn(t,e){const n=function(t,e){const n=new xn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new An("",new En(n,[]))}(t,e),r=new pt([new tn("",{})]),i=new pt({}),s=new pt({}),o=new pt({}),a=new pt(""),u=new Tn(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Sn(new En(u,[]),n)}class Tn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(It.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(It.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function In(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends bn{constructor(t,e){super(e),this.url=t,jn(this,e)}toString(){return kn(this._root)}}function jn(t,e){e.value._routerState=t,e.children.forEach(e=>jn(t,e))}function kn(t){const e=t.children.length>0?` { ${t.children.map(kn).join(", ")} } `:"";return`${t.value}${e}`}function Nn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$e(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$e(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$e(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$e(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rn(t,e){return $e(t.params,e.params)&&function(t,e){return en(t,e)&&t.every((t,n)=>$e(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rn(t.parent,e.parent))}function Pn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dn(t,e,n,r,i){let s={};return r&&Qe(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ze(n.root===t?e:function t(e,n,r){const i={};return Qe(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Je(e.segments,i)}(n.root,t,e),s,i)}class Ln{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Ke(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Mn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Vn(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return Un(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Mn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Hn(o,a,e))return s;r+=2}else{if(!Hn(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Je(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Je(t.segments.slice(r.pathIndex),t.children),Un(e,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?qn(t,e,n):r.match?Un(t,0,i):qn(t,e,n)}function Un(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Qe(r,(n,r)=>{null!==n&&(i[r]=Vn(t.children[r],e,n))}),Qe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Je(t.segments,i)}}function qn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Bn(n[i].outlets);return new Je(r,t)}if(0===i&&Pn(n[0])){r.push(new tn(t.segments[e].path,n[0])),i++;continue}const s=Mn(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Pn(o)?(r.push(new tn(s,zn(o))),i+=2):(r.push(new tn(s,{})),i++)}return new Je(r,{})}function Bn(t){const e={};return Qe(t,(t,n)=>{null!==t&&(e[n]=qn(new Je([],{}),0,t))}),e}function zn(t){const e={};return Qe(t,(t,n)=>e[n]=""+t),e}function Hn(t,e,n){return t==n.path&&$e(e,n.parameters)}class $n{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Nn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=On(t),i=t.value.component?n.children:e;Qe(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=On(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Re(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Nn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Wn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Wn(t){Nn(t.value),t.children.forEach(Wn)}function Gn(t){return"function"==typeof t}function Kn(t){return t instanceof Ze}class Qn{constructor(t){this.segmentGroup=t||null}}class Yn{constructor(t){this.urlTree=t}}function Xn(t){return new mt.a(e=>e.error(new Qn(t)))}function Zn(t){return new mt.a(e=>e.error(new Yn(t)))}function Jn(t){return new mt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class tr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(It.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kt(t=>{if(t instanceof Yn)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Qn)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(It.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Kt(t=>{if(t instanceof Qn)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Je([],{primary:t}):t;return new Ze(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(It.a)(t=>new Je([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(lt.a)({});const n=[],r=[],i={};return Qe(t,(t,s)=>{const o=e(s,t).pipe(Object(It.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),lt.a.apply(null,n.concat(r)).pipe(At(),Wt(),Object(It.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(lt.a)(...n).pipe(Object(It.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Kt(t=>{if(t instanceof Qn)return Object(lt.a)(null);throw t}))),At(),te(t=>!!t),Kt((t,n)=>{if(t instanceof gt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(lt.a)(new Je([],{}));throw new Qn(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return ir(r)!==s?Xn(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Xn(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zn(i):this.lineralizeSegments(n,i).pipe(Object(ee.a)(n=>{const i=new Je(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=er(e,r,i);if(!o)return Xn(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Zn(l):this.lineralizeSegments(r,l).pipe(Object(ee.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(It.a)(t=>(n._loadedConfig=t,new Je(r,{})))):Object(lt.a)(new Je(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=er(e,n,r);if(!i)return Xn(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(ee.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>rr(t,e,n)&&"primary"!==ir(n))}(t,n,r)?{segmentGroup:nr(new Je(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ir(r)&&(n[ir(r)]=new Je([],{}));return n}(r,new Je(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>rr(t,e,n))}(t,n,r)?{segmentGroup:nr(new Je(t.segments,function(t,e,n,r){const i={};for(const s of n)rr(t,e,s)&&!r[ir(s)]&&(i[ir(s)]=new Je([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(It.a)(t=>new Je(s,t))):0===r.length&&0===o.length?Object(lt.a)(new Je(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(It.a)(t=>new Je(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(lt.a)(new Ue(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(lt.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(ht.a)(r).pipe(Object(It.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&Gn(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Gn(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ye(s)})).pipe(At(),(i=t=>!0===t,t=>t.lift(new ne(i,void 0,t)))):Object(lt.a)(!0);var i}(t.injector,e,n).pipe(Object(ee.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(It.a)(t=>(e._loadedConfig=t,t))):function(t){return new mt.a(e=>e.error(Me(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(lt.a)(new Ue([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(lt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Jn(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ze(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Qe(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Je(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function er(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ve)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function nr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Je(t.segments.concat(e.segments),e.children)}return t}function rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ir(t){return t.outlet||"primary"}class sr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class or{constructor(t,e){this.component=t,this.route=e}}function ar(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=On(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!en(t.url,e.url);case"pathParamsOrQueryParamsChange":return!en(t.url,e.url)||!$e(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(t,e)||!$e(t.queryParams,e.queryParams);case"paramsChange":default:return!Rn(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new sr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new or(u&&u.outlet&&u.outlet.component||null,a))}else a&&cr(n,u,s),s.canActivateChecks.push(new sr(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Qe(o,(t,e)=>cr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function ur(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function cr(t,e,n){const r=On(t),i=t.value;Qe(r,(t,r)=>{cr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new or(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const lr=Symbol("INITIAL_VALUE");function hr(){return ie(t=>function(...t){let e=null,n=null;return Object(yt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(vt.a)(t[0])&&(t=t[0]),Object(wt.a)(t,n).lift(new Ot(e))}(...t.map(t=>t.pipe(Xt(1),ue(lr)))).pipe(ce((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==lr)return t;if(r===lr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Kn(r))return r}return t},t)},lr),kt(t=>t!==lr),Object(It.a)(t=>Kn(t)?t:!0===t),Xt(1)))}function fr(t,e){return null!==t&&e&&e(new Ne(t)),Object(lt.a)(!0)}function dr(t,e){return null!==t&&e&&e(new je(t)),Object(lt.a)(!0)}function pr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(lt.a)(!0);const i=r.map(r=>Tt(()=>{const i=ur(r,e,n);let s;if(function(t){return t&&Gn(t.canActivate)}(i))s=Ye(i.canActivate(e,t));else{if(!Gn(i))throw new Error("Invalid CanActivate guard");s=Ye(i(e,t))}return s.pipe(te())}));return Object(lt.a)(i).pipe(hr())}function mr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Tt(()=>{const i=e.guards.map(i=>{const s=ur(i,e.node,n);let o;if(function(t){return t&&Gn(t.canActivateChild)}(s))o=Ye(s.canActivateChild(r,t));else{if(!Gn(s))throw new Error("Invalid CanActivateChild guard");o=Ye(s(r,t))}return o.pipe(te())});return Object(lt.a)(i).pipe(hr())}));return Object(lt.a)(i).pipe(hr())}class gr{}class yr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=_r(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new En(n,e),i=new An(this.url,r);return this.inheritParamsAndData(i._root),Object(lt.a)(i)}catch(t){return new mt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=In(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=nn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof gr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new gr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new gr;if((t.outlet||"primary")!==r)throw new gr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Ke(n).parameters:{};i=new xn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,vr(e),br(e)+n.length,Sr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new gr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ve)(n,t,e);if(!r)throw new gr;const i={};Qe(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new xn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Or(t),r,t.component,t,vr(e),br(e)+s.length,Sr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=_r(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new En(i,t)]}if(0===a.length&&0===c.length)return[new En(i,[])];const l=this.processSegment(a,u,c,"primary");return[new En(i,l)]}}function vr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function br(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function _r(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>wr(t,e,n)&&"primary"!==Er(n))}(t,n,r)){const i=new Je(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Er(s)){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Er(s)]=n}return i}(t,e,r,new Je(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wr(t,e,n))}(t,n,r)){const s=new Je(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(wr(t,n,a)&&!i[Er(a)]){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Er(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Je(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function wr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Er(t){return t.outlet||"primary"}function Or(t){return t.data||{}}function Sr(t){return t.resolve||{}}function Cr(t,e,n,r){const i=ur(t,e,r);return Ye(i.resolve?i.resolve(e,n):i(e,n))}function Tr(t){return function(e){return e.pipe(ie(e=>{const n=t(e);return n?Object(ht.a)(n).pipe(Object(It.a)(()=>e)):Object(ht.a)([e])}))}}class Ir{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const xr=new r.q("ROUTES");class Ar{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(It.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ue(Ge(r.injector.get(xr)).map(He),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ht.a)(this.loader.load(t)):Ye(t()).pipe(Object(ee.a)(t=>t instanceof r.v?Object(lt.a)(t):Object(ht.a)(this.compiler.compileModuleAsync(t))))}}class jr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function kr(t){throw t}function Nr(t,e,n){return e.parse("/")}function Rr(t,e){return Object(lt.a)(null)}let Pr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ft.a,this.errorHandler=kr,this.malformedUriErrorHandler=Nr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Rr,afterPreactivation:Rr},this.urlHandlingStrategy=new jr,this.routeReuseStrategy=new Ir,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Ze(new Je([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ar(o,a,t=>this.triggerEvent(new xe(t)),t=>this.triggerEvent(new Ae(t))),this.routerState=Cn(this.currentUrlTree,this.rootComponentType),this.transitions=new pt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(kt(t=>0!==t.id),Object(It.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ie(t=>{let n=!1,r=!1;return Object(lt.a)(t).pipe(Object(pe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ie(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(lt.a)(t).pipe(ie(t=>{const n=this.transitions.getValue();return e.next(new be(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ct.a:[t]}),ie(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(ie(t=>function(t,e,n,r,i){return new tr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(It.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(pe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(ee.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new yr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(It.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(pe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(pe.a)(t=>{const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new be(n,this.serializeUrl(r),i,s);e.next(a);const u=Cn(r,this.rootComponentType).snapshot;return Object(lt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ct.a}),Tr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(pe.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(It.a)(t=>Object.assign(Object.assign({},t),{guards:ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ee.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(lt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ht.a)(t).pipe(Object(ee.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(lt.a)(!0);const o=s.map(s=>{const o=ur(s,e,i);let a;if(function(t){return t&&Gn(t.canDeactivate)}(o))a=Ye(o.canDeactivate(t,e,n,r));else{if(!Gn(o))throw new Error("Invalid CanDeactivate guard");a=Ye(o(t,e,n,r))}return a.pipe(te())});return Object(lt.a)(o).pipe(hr())}(t.component,t.route,n,e,r)),te(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ee.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ht.a)(e).pipe(fe(e=>Object(ht.a)([dr(e.route.parent,r),fr(e.route,r),mr(t,e.path,n),pr(t,e.route,n)]).pipe(At(),te(t=>!0!==t,!0))),te(t=>!0!==t,!0))}(r,s,t,e):Object(lt.a)(n)),Object(It.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(pe.a)(t=>{if(Kn(t.guardsResult)){const e=Me(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(pe.a)(t=>{const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),kt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Tr(t=>{if(t.guards.canActivateChecks.length)return Object(lt.a)(t).pipe(Object(pe.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(ee.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(ht.a)(i).pipe(fe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(lt.a)({});if(1===i.length){const s=i[0];return Cr(t[s],e,n,r).pipe(Object(It.a)(t=>({[s]:t})))}const s={};return Object(ht.a)(i).pipe(Object(ee.a)(i=>Cr(t[i],e,n,r).pipe(Object(It.a)(t=>(s[i]=t,t))))).pipe(Wt(),Object(It.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(It.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),In(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(de.a)(ce(t,e),Dt(1),Bt(e))(n)}:function(e){return Object(de.a)(ce((e,n,r)=>t(e,n,r+1)),Dt(1))(e)}}((t,e)=>t),Object(It.a)(e=>t)):Object(lt.a)(t)}))}),Object(pe.a)(t=>{const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Tr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(It.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new En(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Tn(new pt((i=n.value).url),new pt(i.params),new pt(i.queryParams),new pt(i.fragment),new pt(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new En(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Sn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(pe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(It.a)(t=>(new $n(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(pe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ge(i))),Kt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Kn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new we(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ee(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Ct.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qe(t),this.config=t.map(He),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.W)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Dn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ln(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ln(n,e,r)}(n);if(s.toRoot())return Dn(e.root,new Je([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Fn(n.snapshot._urlSegment,!0,0);const r=Pn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Un(o.segmentGroup,o.index,s.commands):Vn(o.segmentGroup,o.index,s.commands);return Dn(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.W)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Kn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Kn(t))return Xe(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xe(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new _e(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.gc()},t.\u0275dir=r.Lb({type:t}),t})();class Dr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lr,this.attachRef=null}}class Lr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Dr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Fr=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Mr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Lr),r.Qb(r.P),r.Qb(r.j),r.ec("name"),r.Qb(r.h))},t.\u0275dir=r.Lb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Mr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tn?this.route:t===Lr?this.childContexts:this.parent.get(t,e)}}class Vr{}class Ur{preload(t,e){return Object(lt.a)(null)}}let qr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ar(e,n,e=>t.triggerEvent(new xe(e)),e=>t.triggerEvent(new Ae(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(kt(t=>t instanceof _e),fe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ht.a)(n).pipe(Object(xt.a)(),Object(It.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ee.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Pr),r.dc(r.w),r.dc(r.i),r.dc(r.r),r.dc(Vr))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Br=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof be?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _e&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.gc()},t.\u0275dir=r.Lb({type:t}),t})();const zr=new r.q("ROUTER_CONFIGURATION"),Hr=new r.q("ROUTER_FORROOT_GUARD"),$r=[E,{provide:rn,useClass:sn},{provide:Pr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Pr(null,t,e,n,r,i,s,Ge(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[rn,Lr,E,r.r,r.w,r.i,xr,zr,[class{},new r.A],[class{},new r.A]]},Lr,{provide:Tn,useFactory:function(t){return t.routerState.root},deps:[Pr]},{provide:r.w,useClass:r.K},qr,Ur,class{preload(t,e){return e().pipe(Kt(()=>Object(lt.a)(null)))}},{provide:zr,useValue:{enableTracing:!1}}];function Wr(){return new r.y("Router",Pr)}let Gr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[$r,Xr(e),{provide:Hr,useFactory:Yr,deps:[[Pr,new r.A,new r.J]]},{provide:zr,useValue:n||{}},{provide:y,useFactory:Qr,deps:[u,[new r.p(b),new r.A],zr]},{provide:Br,useFactory:Kr,deps:[Pr,R,zr]},{provide:Vr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ur},{provide:r.y,multi:!0,useFactory:Wr},[Zr,{provide:r.d,multi:!0,useFactory:Jr,deps:[Zr]},{provide:ei,useFactory:ti,deps:[Zr]},{provide:r.b,multi:!0,useExisting:ei}]]}}static forChild(e){return{ngModule:t,providers:[Xr(e)]}}}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)(r.dc(Hr,8),r.dc(Pr,8))}}),t})();function Kr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Br(t,e,n)}function Qr(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Yr(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xr(t){return[{provide:r.a,multi:!0,useValue:t},{provide:xr,multi:!0,useValue:t}]}let Zr=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ft.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Pr),r=this.injector.get(zr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(lt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(zr),n=this.injector.get(qr),i=this.injector.get(Br),s=this.injector.get(Pr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.r))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();function Jr(t){return t.appInitializer.bind(t)}function ti(t){return t.bootstrapListener.bind(t)}const ei=new r.q("Router Initializer"),ni=[];let ri=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[Gr.forRoot(ni)],Gr]}),t})();class ii{constructor(t,e,n,r){this.id=t,this.name=e,this.assigned=n,this.picture=r}}var si=n("D0XW");function oi(){return t=>t.lift(new ai)}class ai{call(t,e){return e.subscribe(new ui(t))}}class ui extends jt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ci{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new li(t,this.compare,this.keySelector))}}class li extends jt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var hi=n("pxpQ"),fi=n("spgP"),di=n("Jgta"),pi=n("mrSG"),mi=n("zIRd"),gi=n("q/0M"),yi=n("qOnz"),vi=function(t,e){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function bi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _i,wi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ei=Ei||{},Oi=wi||self;function Si(){}function Ci(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ti(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ii="closure_uid_"+(1e9*Math.random()>>>0),xi=0;function Ai(t,e,n){return t.call.apply(t.bind,arguments)}function ji(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ki(t,e,n){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ai:ji).apply(null,arguments)}function Ni(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ri(){return Date.now()}function Pi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Di(){this.j=this.j,this.i=this.i}Di.prototype.j=!1,Di.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ii)&&t[Ii]||(t[Ii]=++xi)}(this)},Di.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Li=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Mi(t){return Array.prototype.concat.apply([],arguments)}function Vi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ui(t){return/^[\s\xa0]*$/.test(t)}var qi,Bi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zi(t,e){return-1!=t.indexOf(e)}function Hi(t,e){return t<e?-1:t>e?1:0}t:{var $i=Oi.navigator;if($i){var Wi=$i.userAgent;if(Wi){qi=Wi;break t}}qi=""}function Gi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ki(t){var e={};for(var n in t)e[n]=t[n];return e}var Qi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Qi.length;s++)n=Qi[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xi(t){return Xi[" "](t),t}Xi[" "]=Si;var Zi,Ji,ts=zi(qi,"Opera"),es=zi(qi,"Trident")||zi(qi,"MSIE"),ns=zi(qi,"Edge"),rs=ns||es,is=zi(qi,"Gecko")&&!(zi(qi.toLowerCase(),"webkit")&&!zi(qi,"Edge"))&&!(zi(qi,"Trident")||zi(qi,"MSIE"))&&!zi(qi,"Edge"),ss=zi(qi.toLowerCase(),"webkit")&&!zi(qi,"Edge");function os(){var t=Oi.document;return t?t.documentMode:void 0}t:{var as="",us=(Ji=qi,is?/rv:([^\);]+)(\)|;)/.exec(Ji):ns?/Edge\/([\d\.]+)/.exec(Ji):es?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ji):ss?/WebKit\/(\S+)/.exec(Ji):ts?/(?:Version)[ \/]?(\S+)/.exec(Ji):void 0);if(us&&(as=us?us[1]:""),es){var cs=os();if(null!=cs&&cs>parseFloat(as)){Zi=String(cs);break t}}Zi=as}var ls={};function hs(t){return function(t,e){var n=ls;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Bi(String(Zi)).split("."),r=Bi(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Hi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Hi(0==o[2].length,0==a[2].length)||Hi(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var fs=Oi.document&&es&&(os()||parseInt(Zi,10))||void 0,ds=!es||9<=Number(fs),ps=es&&!hs("9"),ms=function(){if(!Oi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oi.addEventListener("test",Si,e),Oi.removeEventListener("test",Si,e)}catch(n){}return t}();function gs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ys(t,e){if(gs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(is){t:{try{Xi(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}gs.prototype.b=function(){this.defaultPrevented=!0},Pi(ys,gs);var vs={2:"touch",3:"pen",4:"mouse"};ys.prototype.b=function(){ys.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ps)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var bs="closure_listenable_"+(1e6*Math.random()|0),_s=0;function ws(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_s,this.Y=this.Z=!1}function Es(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Os(t){this.src=t,this.a={},this.b=0}function Ss(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Li(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Es(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Cs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Os.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Cs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ws(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Ts="closure_lm_"+(1e6*Math.random()|0),Is={};function xs(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Ls(r),e&&e[bs]?e.wa(n,r,Ti(i)?!!i.capture:!!i,s):As(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xs(t,e[s],n,r,i);return null}return n=Ls(n),t&&t[bs]?t.va(e,n,Ti(r)?!!r.capture:!!r,i):As(t,e,n,!1,r,i)}function As(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ti(i)?!!i.capture:!!i;if(o&&!ds)return null;var a=Ps(t);if(a||(t[Ts]=a=new Os(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Rs,e=ds?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ms||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ks(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function js(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[bs])Ss(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ks(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ps(e))?(Ss(n,t),0==n.b&&(n.src=null,e[Ts]=null)):Es(t)}}}function ks(t){return t in Is?Is[t]:Is[t]="on"+t}function Ns(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&js(t),n.call(r,e)}function Rs(t,e){if(t.Y)return!0;if(!ds){if(!e)t:{e=["window","event"];for(var n=Oi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ns(t,e=new ys(e,this))}return Ns(t,new ys(e,this))}function Ps(t){return(t=t[Ts])instanceof Os?t:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(t){return"function"==typeof t?t:(t[Ds]||(t[Ds]=function(e){return t.handleEvent(e)}),t[Ds])}function Fs(){Di.call(this),this.c=new Os(this),this.J=this,this.C=null}function Ms(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new gs(e,t);else if(e instanceof gs)e.target=e.target||t;else{var i=e;Yi(e=new gs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Vs(o,r,!0,e)&&i}if(i=Vs(o=e.a=t,r,!0,e)&&i,i=Vs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Vs(o=e.a=n[s],r,!1,e)&&i}function Vs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ss(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Pi(Fs,Di),Fs.prototype[bs]=!0,(_i=Fs.prototype).addEventListener=function(t,e,n,r){xs(this,t,e,n,r)},_i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Ti(i)?!!i.capture:!!i,r=Ls(r),e&&e[bs]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Cs(o=e.a[n],r,i,s))&&(Es(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Ps(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Cs(n,r,i,s)),(r=-1<e?n[e]:null)&&js(r))}(this,t,e,n,r)},_i.G=function(){if(Fs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Es(n[r]);delete e.a[t],e.b--}}this.C=null},_i.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_i.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Us=Oi.JSON.stringify;function qs(){this.b=this.a=null}var Bs,zs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new $s}),(function(t){t.reset()}));function Hs(){var t=Qs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function $s(){this.next=this.b=this.a=null}function Ws(t){Oi.setTimeout((function(){throw t}),0)}function Gs(t,e){Bs||function(){var t=Oi.Promise.resolve(void 0);Bs=function(){t.then(Ys)}}(),Ks||(Bs(),Ks=!0),Qs.add(t,e)}qs.prototype.add=function(t,e){var n=zs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},$s.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},$s.prototype.reset=function(){this.next=this.b=this.a=null};var Ks=!1,Qs=new qs;function Ys(){for(var t;t=Hs();){try{t.a.call(t.b)}catch(n){Ws(n)}var e=zs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ks=!1}function Xs(t,e){Fs.call(this),this.b=t||1,this.a=e||Oi,this.f=ki(this.Za,this),this.g=Ri()}function Zs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Js(t,e,n){if("function"==typeof t)n&&(t=ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oi.setTimeout(t,e||0)}function to(t){t.a=Js((function(){t.a=null,t.c&&(t.c=!1,to(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Pi(Xs,Fs),(_i=Xs.prototype).aa=!1,_i.M=null,_i.Za=function(){if(this.aa){var t=Ri()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ms(this,"tick"),this.aa&&(Zs(this),this.start()))}},_i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ri())},_i.G=function(){Xs.X.G.call(this),Zs(this),delete this.a};var eo=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:to(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Oi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Di);function no(t){Di.call(this),this.b=t,this.a={}}Pi(no,Di);var ro=[];function io(t,e,n,r){Array.isArray(n)||(n&&(ro[0]=n.toString()),n=ro);for(var i=0;i<n.length;i++){var s=xs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function so(t){Gi(t.a,(function(t,e){this.a.hasOwnProperty(e)&&js(t)}),t),t.a={}}function oo(){this.a=!0}function ao(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Us(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}no.prototype.G=function(){no.X.G.call(this),so(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oo.prototype.info=function(){};var uo={},co=null;function lo(){return co=co||new Fs}function ho(t){gs.call(this,uo.Fa,t)}function fo(t){var e=lo();Ms(e,new ho(e,t))}function po(t,e){gs.call(this,uo.STAT_EVENT,t),this.stat=e}function mo(t){var e=lo();Ms(e,new po(e,t))}function go(t){gs.call(this,uo.Ga,t)}function yo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Oi.setTimeout((function(){t()}),e)}uo.Fa="serverreachability",Pi(ho,gs),uo.STAT_EVENT="statevent",Pi(po,gs),uo.Ga="timingevent",Pi(go,gs);var vo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},bo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _o(){}function wo(){}_o.prototype.a=null;var Eo,Oo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function So(){gs.call(this,"d")}function Co(){gs.call(this,"c")}function To(){}function Io(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new no(this),this.P=xo,this.R=new Xs(t=rs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Pi(So,gs),Pi(Co,gs),Pi(To,_o),Eo=new To;var xo=45e3,Ao={},jo={};function ko(t,e,n){t.H=1,t.i=Jo(Go(e)),t.j=n,t.I=!0,No(t,null)}function No(t,e){t.u=Ri(),Do(t),t.l=Go(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),fa(n.b,"t",r),t.D=0,t.a=ou(t.g,t.g.C?e:null),0<t.O&&(t.F=new eo(ki(t.Ca,t,t.a),t.O)),io(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ki(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),fo(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ro(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Po(t,n);if(i==jo){4==e&&(t.h=4,mo(14),r=!1),ao(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ao){t.h=4,mo(15),ao(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ao(t.c,t.f,i,null),Uo(t,i)}4==e&&0==n.length&&(t.h=1,mo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Za(e),e.F=!0,mo(11))):(ao(t.c,t.f,n,"[Invalid Chunked Response]"),Vo(t),Mo(t))}function Po(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?jo:(n=Number(e.substring(n,r)),isNaN(n)?Ao:(r+=1)+n>e.length?jo:(e=e.substr(r,n),t.D=r+n,e))}function Do(t){t.T=Ri()+t.P,Lo(t,t.P)}function Lo(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=yo(ki(t.Va,t),e)}function Fo(t){t.o&&(Oi.clearTimeout(t.o),t.o=null)}function Mo(t){0==t.g.v||t.A||eu(t.g,t)}function Vo(t){Fo(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zs(t.R),so(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Uo(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ba(n.b,t)))if(n.I=t.N,!t.C&&ba(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tu(n),za(n)}Xa(n),mo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=yo(ki(n.Sa,n),6e3));if(1>=va(n.b)&&n.ea){try{n.ea()}catch(Wy){}n.ea=void 0}}else ru(n,11)}else if((t.C||n.a==t)&&tu(n),!Ui(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(zi(l,"spdy")||zi(l,"quic")||zi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(_a(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Zo(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ri()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=su(u,u.C?u.ga:null,u.fa),d.C){wa(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Fo(p),Do(p)),u.a=d}else Ya(u);0<n.g.length&&Wa(n)}else"stop"!=i[0]&&"close"!=i[0]||ru(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ru(n,7):Ba(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);fo(4)}catch(Wy){}}function qo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ci(t)||"string"==typeof t)Fi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ci(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ci(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Bo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Bo)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function zo(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ho(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ho(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ho(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_i=Io.prototype).setTimeout=function(t){this.P=t},_i.Xa=function(t){t=t.target;var e=this.F;e&&3==Ma(t)?e.f():this.Ca(t)},_i.Ca=function(t){try{if(t==this.a)t:{var e=Ma(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!rs&&!this.a.$())){this.A||4!=e||7==n||fo(8==n||0>=r?3:2),Fo(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ui(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,mo(12),Vo(this),Mo(this);break t}ao(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Uo(this,u)}this.I?(Ro(this,e,s),rs&&this.b&&3==e&&(io(this.J,this.R,"tick",this.Wa),this.R.start())):(ao(this.c,this.f,s,null),Uo(this,s)),4==e&&Vo(this),this.b&&!this.A&&(4==e?eu(this.g,this):(this.b=!1,Do(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,mo(12)):(this.h=0,mo(13)),Vo(this),Mo(this)}}}catch(c){}},_i.Wa=function(){if(this.a){var t=Ma(this.a),e=this.a.$();this.D<e.length&&(Fo(this),Ro(this,t,e),this.b&&4!=t&&Do(this))}},_i.cancel=function(){this.A=!0,Vo(this)},_i.Va=function(){this.o=null;var t=Ri();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(fo(3),mo(17)),Vo(this),this.h=2,Mo(this)):Lo(this,this.T-t)},(_i=Bo.prototype).K=function(){zo(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_i.L=function(){return zo(this),this.a.concat()},_i.get=function(t,e){return Ho(this.b,t)?this.b[t]:e},_i.set=function(t,e){Ho(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_i.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var $o=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wo(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wo){this.a=void 0!==e?e:t.a,Ko(this,t.f),this.j=t.j,Qo(this,t.c),Yo(this,t.h),this.g=t.g,e=t.b;var n=new ua;n.c=e.c,e.a&&(n.a=new Bo(e.a),n.b=e.b),Xo(this,n),this.i=t.i}else t&&(n=String(t).match($o))?(this.a=!!e,Ko(this,n[1]||"",!0),this.j=ta(n[2]||""),Qo(this,n[3]||"",!0),Yo(this,n[4]),this.g=ta(n[5]||"",!0),Xo(this,n[6]||"",!0),this.i=ta(n[7]||"")):(this.a=!!e,this.b=new ua(null,this.a))}function Go(t){return new Wo(t)}function Ko(t,e,n){t.f=n?ta(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Qo(t,e,n){t.c=n?ta(e,!0):e}function Yo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Xo(t,e,n){e instanceof ua?(t.b=e,function(t,e){e&&!t.f&&(ca(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(la(this,e),fa(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ea(e,oa)),t.b=new ua(e,t.a))}function Zo(t,e,n){t.b.set(e,n)}function Jo(t){return Zo(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ri()).toString(36)),t}function ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,na),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function na(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Wo.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ea(e,ra,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ea(e,ra,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ea(n,"/"==n.charAt(0)?sa:ia,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ea(n,aa)),t.join("")};var ra=/[#\/\?@]/g,ia=/[#\?:]/g,sa=/[#\?]/g,oa=/[#\?@]/g,aa=/#/g;function ua(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ca(t){t.a||(t.a=new Bo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function la(t,e){ca(t),e=da(t,e),Ho(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ho((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&zo(t)))}function ha(t,e){return ca(t),e=da(t,e),Ho(t.a.b,e)}function fa(t,e,n){la(t,e),0<n.length&&(t.c=null,t.a.set(da(t,e),Vi(n)),t.b+=n.length)}function da(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_i=ua.prototype).add=function(t,e){ca(this),this.c=null,t=da(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_i.forEach=function(t,e){ca(this),this.a.forEach((function(n,r){Fi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},_i.L=function(){ca(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},_i.K=function(t){ca(this);var e=[];if("string"==typeof t)ha(this,t)&&(e=Mi(e,this.a.get(da(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Mi(e,t[n])}return e},_i.set=function(t,e){return ca(this),this.c=null,ha(this,t=da(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_i.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var pa=function(){return function(t,e){this.b=t,this.a=e}}();function ma(t){this.g=t||ga,t=Oi.PerformanceNavigationTiming?0<(t=Oi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Oi.ia&&Oi.ia.ya&&Oi.ia.ya()&&Oi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ga=10;function ya(t){return!!t.b||!!t.a&&t.a.size>=t.f}function va(t){return t.b?1:t.a?t.a.size:0}function ba(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function _a(t,e){t.a?t.a.add(e):t.b=e}function wa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ea(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=bi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Vi(t.c)}function Oa(){}function Sa(){this.a=new Oa}function Ca(t,e,n){var r=n||"";try{qo(t,(function(t,n){var i=t;Ti(t)&&(i=Us(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ta(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ma.prototype.cancel=function(){var t,e;if(this.c=Ea(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=bi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Oa.prototype.stringify=function(t){return Oi.JSON.stringify(t,void 0)},Oa.prototype.parse=function(t){return Oi.JSON.parse(t,void 0)};var Ia=Oi.JSON.parse;function xa(t){Fs.call(this),this.headers=new Bo,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Aa,this.D=this.F=!1}Pi(xa,Fs);var Aa="",ja=/^https?$/i,ka=["POST","PUT"];function Na(t){return"content-type"==t.toLowerCase()}function Ra(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pa(t),La(t)}function Pa(t){t.u||(t.u=!0,Ms(t,"complete"),Ms(t,"error"))}function Da(t){if(t.b&&void 0!==Ei&&(!t.s[1]||4!=Ma(t)||2!=t.W()))if(t.l&&4==Ma(t))Js(t.za,0,t);else if(Ms(t,"readystatechange"),4==Ma(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match($o)[1]||null;if(!s&&Oi.self&&Oi.self.location){var o=Oi.self.location.protocol;s=o.substr(0,o.length-1)}i=!ja.test(s?s.toLowerCase():"")}e=i}if(e)Ms(t,"complete"),Ms(t,"success");else{t.h=6;try{var a=2<Ma(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Pa(t)}}finally{La(t)}}}function La(t,e){if(t.a){Fa(t);var n=t.a,r=t.s[0]?Si:null;t.a=null,t.s=null,e||Ms(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Oi.clearTimeout(t.m),t.m=null)}function Ma(t){return t.a?t.a.readyState:0}function Va(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Gi(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zo(t,e,n))}function Ua(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qa(t){this.pa=0,this.g=[],this.c=new oo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ua("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ua("baseRetryDelayMs",5e3,t),this.Ra=Ua("retryDelaySeedMs",1e4,t),this.Ma=Ua("forwardChannelMaxRetries",2,t),this.ma=Ua("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ma(t&&t.concurrentRequestLimit),this.ka=new Sa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ba(t){if(Ha(t),3==t.v){var e=t.R++,n=Go(t.B);Zo(n,"SID",t.J),Zo(n,"RID",e),Zo(n,"TYPE","terminate"),Ka(t,n),(e=new Io(t,t.c,e,void 0)).H=2,e.i=Jo(Go(n)),n=!1,Oi.navigator&&Oi.navigator.sendBeacon&&(n=Oi.navigator.sendBeacon(e.i.toString(),"")),!n&&Oi.Image&&((new Image).src=e.i,n=!0),n||(e.a=ou(e.g,null),e.a.ba(e.i)),e.u=Ri(),Do(e)}iu(t)}function za(t){t.a&&(Za(t),t.a.cancel(),t.a=null)}function Ha(t){za(t),t.j&&(Oi.clearTimeout(t.j),t.j=null),tu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Oi.clearTimeout(t.h),t.h=null)}function $a(t,e){t.g.push(new pa(t.Oa++,e)),3==t.v&&Wa(t)}function Wa(t){ya(t.b)||t.h||(t.h=!0,Gs(t.Ba,t),t.u=0)}function Ga(t,e){var n;n=e?e.f:t.R++;var r=Go(t.B);Zo(r,"SID",t.J),Zo(r,"RID",n),Zo(r,"AID",t.P),Ka(t,r),t.i&&t.l&&Va(r,t.i,t.l),n=new Io(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Qa(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),_a(t.b,n),ko(n,r,e)}function Ka(t,e){t.f&&qo({},(function(t,n){Zo(e,n,t)}))}function Qa(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ki(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Ca(l,o,"req"+c+"_")}catch(Vu){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ya(t){t.a||t.j||(t.T=1,Gs(t.Aa,t),t.o=0)}function Xa(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=yo(ki(t.Aa,t),nu(t,t.o)),t.o++,0))}function Za(t){null!=t.s&&(Oi.clearTimeout(t.s),t.s=null)}function Ja(t){t.a=new Io(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Go(t.la);Zo(e,"RID","rpc"),Zo(e,"SID",t.J),Zo(e,"CI",t.H?"0":"1"),Zo(e,"AID",t.P),Ka(t,e),Zo(e,"TYPE","xmlhttp"),t.i&&t.l&&Va(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Jo(Go(e)),n.j=null,n.I=!0,No(n,t)}function tu(t){null!=t.m&&(Oi.clearTimeout(t.m),t.m=null)}function eu(t,e){var n=null;if(t.a==e){tu(t),Za(t),t.a=null;var r=2}else{if(!ba(t.b,e))return;n=e.s,wa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ri()-e.u;var i=t.u;Ms(r=lo(),new go(r,n,e,i)),Wa(t)}else Ya(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(va(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=yo(ki(t.Ba,t,e),nu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Xa(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ru(t,5);break;case 4:ru(t,10);break;case 3:ru(t,6);break;default:ru(t,2)}}function nu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ru(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ki(t.Ya,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),Oi.location&&"http"==Oi.location.protocol||Ko(n,"https"),Jo(n)),function(t,e){var n=new oo;if(Oi.Image){var r=new Image;r.onload=Ni(Ta,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ni(Ta,n,r,"TestLoadImage: error",!1,e),r.onabort=Ni(Ta,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ni(Ta,n,r,"TestLoadImage: timeout",!1,e),Oi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else mo(2);t.v=0,t.f&&t.f.ra(e),iu(t),Ha(t)}function iu(t){t.v=0,t.I=-1,t.f&&(0==Ea(t.b).length&&0==t.g.length||(t.b.c.length=0,Vi(t.g),t.g.length=0),t.f.qa())}function su(t,e,n){var r=function(t){return t instanceof Wo?Go(t):new Wo(t,void 0)}(n);if(""!=r.c)e&&Qo(r,e+"."+r.c),Yo(r,r.h);else{var i=Oi.location;r=function(t,e,n,r){var i=new Wo(null,void 0);return t&&Ko(i,t),e&&Qo(i,e),n&&Yo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Gi(t.V,(function(t,e){Zo(r,e,t)})),n=t.na,(e=t.A)&&n&&Zo(r,e,n),Zo(r,"VER",t.ha),Ka(t,r),r}function ou(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xa(t.Na)).F=t.C,e}function au(){}function uu(){if(es&&!(10<=Number(fs)))throw Error("Environmental error: no available transport.")}function cu(t,e){Fs.call(this),this.a=new qa(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ui(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ui(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new fu(this)}function lu(t){So.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hu(){Co.call(this),this.status=1}function fu(t){this.a=t}(_i=xa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Eo),this.a.onreadystatechange=ki(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Ra(this,s)}t=n||"";var i=new Bo(this.headers);r&&qo(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Na,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Oi.FormData&&t instanceof Oi.FormData,!(0<=Li(ka,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fa(this),0<this.o&&((this.D=function(t){return es&&hs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ki(this.xa,this)):this.m=Js(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Ra(this,s)}},_i.xa=function(){void 0!==Ei&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ms(this,"timeout"),this.abort(8))},_i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ms(this,"complete"),Ms(this,"abort"),La(this))},_i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),La(this,!0)),xa.X.G.call(this)},_i.za=function(){this.j||(this.A||this.l||this.g?Da(this):this.Ua())},_i.Ua=function(){Da(this)},_i.W=function(){try{return 2<Ma(this)?this.a.status:-1}catch(Ji){return-1}},_i.$=function(){try{return this.a?this.a.responseText:""}catch(Ji){return""}},_i.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ia(e)}},_i.ua=function(){return this.h},_i.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_i=qa.prototype).ha=8,_i.v=1,_i.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Io(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Yi(r=Ki(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Qa(this,n,e),Zo(i=Go(this.B),"RID",t),Zo(i,"CVER",22),this.A&&Zo(i,"X-HTTP-Session-Id",this.A),Ka(this,i),this.i&&r&&Va(i,this.i,r),_a(this.b,n),this.Ia&&Zo(i,"TYPE","init"),this.da?(Zo(i,"$req",e),Zo(i,"SID","null"),n.U=!0,ko(n,i,null)):ko(n,i,e),this.v=2}}else 3==this.v&&(t?Ga(this,t):0==this.g.length||ya(this.b)||Ga(this))},_i.Aa=function(){if(this.j=null,Ja(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=yo(ki(this.Ta,this),t)}},_i.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,mo(10),za(this),Ja(this))},_i.Sa=function(){null!=this.m&&(this.m=null,za(this),Xa(this),mo(19))},_i.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),mo(2)):(this.c.info("Failed to ping google.com"),mo(1))},(_i=au.prototype).ta=function(){},_i.sa=function(){},_i.ra=function(){},_i.qa=function(){},_i.Ja=function(){},uu.prototype.a=function(t,e){return new cu(t,e)},Pi(cu,Fs),cu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;mo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=su(t,null,t.fa),Wa(t)},cu.prototype.close=function(){Ba(this.a)},cu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$a(this.a,e)}else this.l?((e={}).__data__=Us(t),$a(this.a,e)):$a(this.a,t)},cu.prototype.G=function(){this.a.f=null,delete this.f,Ba(this.a),delete this.a,cu.X.G.call(this)},Pi(lu,So),Pi(hu,Co),Pi(fu,au),fu.prototype.ta=function(){Ms(this.a,"a")},fu.prototype.sa=function(t){Ms(this.a,new lu(t))},fu.prototype.ra=function(t){Ms(this.a,new hu(t))},fu.prototype.qa=function(){Ms(this.a,"b")},uu.prototype.createWebChannel=uu.prototype.a,cu.prototype.send=cu.prototype.h,cu.prototype.open=cu.prototype.g,cu.prototype.close=cu.prototype.close,vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,bo.COMPLETE="complete",wo.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",Fs.prototype.listen=Fs.prototype.va,xa.prototype.listenOnce=xa.prototype.wa,xa.prototype.getLastError=xa.prototype.Qa,xa.prototype.getLastErrorCode=xa.prototype.ua,xa.prototype.getStatus=xa.prototype.W,xa.prototype.getResponseJson=xa.prototype.Pa,xa.prototype.getResponseText=xa.prototype.$,xa.prototype.send=xa.prototype.ba;var du=vo,pu=bo,mu=uo,gu=wo,yu=xa,vu=n("/6Yf"),bu=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},_u=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),wu=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();wu.UNAUTHENTICATED=new wu(null),wu.l=new wu("google-credentials-uid"),wu._=new wu("first-party-uid");var Eu=new gi.b("@firebase/firestore");function Ou(){return Eu.logLevel}function Su(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=gi.a.DEBUG){var r=e.map(Iu);Eu.debug.apply(Eu,Object(pi.g)(["Firestore (8.1.1): "+t],r))}}function Cu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=gi.a.ERROR){var r=e.map(Iu);Eu.error.apply(Eu,Object(pi.g)(["Firestore (8.1.1): "+t],r))}}function Tu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=gi.a.WARN){var r=e.map(Iu);Eu.warn.apply(Eu,Object(pi.g)(["Firestore (8.1.1): "+t],r))}}function Iu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function xu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Au(t,e){t||xu()}function ju(t,e){return t}var ku={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(pi.c)(e,t),e}(Error),Ru=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Pu=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(wu.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Du=function(){function t(t){var e=this;this.P=null,this.currentUser=wu.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(Su("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Au("string"==typeof n.accessToken),new Ru(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Au(null===t||"string"==typeof t),new wu(t)},t}(),Lu=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=wu._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Fu=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Lu(this.v,this.S))},t.prototype.A=function(t){t(wu._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Mu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vu=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Mu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Uu(t,e){return t<e?-1:t>e?1:0}function qu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Bu(t){return t+"\0"}var zu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nu(ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nu(ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Nu(ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nu(ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Uu(this.nanoseconds,t.nanoseconds):Uu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Hu=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new zu(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),$u=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xu(),void 0===n?n=t.length-e:n>t.length-e&&xu(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Nu(ku.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}($u),Gu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Gu.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Nu(ku.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Nu(ku.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nu(ku.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Nu(ku.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}($u),Qu=function(){function t(t){this.path=t}return t.st=function(e){return new t(Wu.Y(e))},t.it=function(e){return new t(Wu.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Wu.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Wu.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Wu(e.slice()))},t}();function Yu(t){return null==t}function Xu(t){return 0===t&&1/t==-1/0}function Zu(t){return"number"==typeof t&&Number.isInteger(t)&&!Xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ju=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function tc(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ju(t,e,n,r,i,s,o)}function ec(t){var e=ju(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Qc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Yu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qh(e.startAt)),e.endAt&&(n+="|ub:",n+=Qh(e.endAt)),e.ut=n}return e.ut}function nc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!tf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!$c(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xh(t.startAt,e.startAt)&&Xh(t.endAt,e.endAt)}function rc(t){return Qu.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ic=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Uu(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();ic.lt=new ic("");var sc,oc,ac=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Hu.min()),void 0===s&&(s=Hu.min()),void 0===o&&(o=ic.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),uc=function(t){this.count=t};function cc(t){switch(t){case ku.OK:return xu();case ku.CANCELLED:case ku.UNKNOWN:case ku.DEADLINE_EXCEEDED:case ku.RESOURCE_EXHAUSTED:case ku.INTERNAL:case ku.UNAVAILABLE:case ku.UNAUTHENTICATED:return!1;case ku.INVALID_ARGUMENT:case ku.NOT_FOUND:case ku.ALREADY_EXISTS:case ku.PERMISSION_DENIED:case ku.FAILED_PRECONDITION:case ku.ABORTED:case ku.OUT_OF_RANGE:case ku.UNIMPLEMENTED:case ku.DATA_LOSS:return!0;default:return xu()}}function lc(t){if(void 0===t)return Cu("GRPC error has no .code"),ku.UNKNOWN;switch(t){case sc.OK:return ku.OK;case sc.CANCELLED:return ku.CANCELLED;case sc.UNKNOWN:return ku.UNKNOWN;case sc.DEADLINE_EXCEEDED:return ku.DEADLINE_EXCEEDED;case sc.RESOURCE_EXHAUSTED:return ku.RESOURCE_EXHAUSTED;case sc.INTERNAL:return ku.INTERNAL;case sc.UNAVAILABLE:return ku.UNAVAILABLE;case sc.UNAUTHENTICATED:return ku.UNAUTHENTICATED;case sc.INVALID_ARGUMENT:return ku.INVALID_ARGUMENT;case sc.NOT_FOUND:return ku.NOT_FOUND;case sc.ALREADY_EXISTS:return ku.ALREADY_EXISTS;case sc.PERMISSION_DENIED:return ku.PERMISSION_DENIED;case sc.FAILED_PRECONDITION:return ku.FAILED_PRECONDITION;case sc.ABORTED:return ku.ABORTED;case sc.OUT_OF_RANGE:return ku.OUT_OF_RANGE;case sc.UNIMPLEMENTED:return ku.UNIMPLEMENTED;case sc.DATA_LOSS:return ku.DATA_LOSS;default:return xu()}}(oc=sc||(sc={}))[oc.OK=0]="OK",oc[oc.CANCELLED=1]="CANCELLED",oc[oc.UNKNOWN=2]="UNKNOWN",oc[oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oc[oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oc[oc.NOT_FOUND=5]="NOT_FOUND",oc[oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",oc[oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",oc[oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",oc[oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oc[oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oc[oc.ABORTED=10]="ABORTED",oc[oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",oc[oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",oc[oc.INTERNAL=13]="INTERNAL",oc[oc.UNAVAILABLE=14]="UNAVAILABLE",oc[oc.DATA_LOSS=15]="DATA_LOSS";var hc=function(){function t(t,e){this.$=t,this.root=e||dc.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,dc.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,dc.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new fc(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new fc(this.root,t,this.$,!1)},t.prototype.vt=function(){return new fc(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new fc(this.root,t,this.$,!0)},t}(),fc=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),dc=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw xu();if(this.right.Mt())throw xu();var t=this.left.Qt();if(t!==this.right.Qt())throw xu();return t+(this.Mt()?0:1)},t}();dc.EMPTY=null,dc.RED=!0,dc.It=!1,dc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new dc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var pc=function(){function t(t){this.$=t,this.data=new hc(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new mc(this.data.yt())},t.prototype.Vt=function(t){return new mc(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),mc=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),gc=new hc(Qu.$);function yc(){return gc}function vc(){return yc()}var bc=new hc(Qu.$);function _c(){return bc}var wc=new hc(Qu.$),Ec=new pc(Qu.$);function Oc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ec,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Sc=new pc(Uu);function Cc(){return Sc}var Tc=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Qu.$(e.key,n.key)}:function(t,e){return Qu.$(t.key,e.key)},this.Ht=_c(),this.Jt=new hc(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Ic=function(){function t(){this.Xt=new hc(Qu.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):xu():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),xc=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Tc.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ac=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,jc.he(e,n)),new t(Hu.min(),r,Cc(),yc(),Oc())},t}(),jc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(ic.lt,n,Oc(),Oc(),Oc())},t}(),kc=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},Nc=function(t,e){this.targetId=t,this.Te=e},Rc=function(t,e,n,r){void 0===n&&(n=ic.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Pc=function(){function t(){this.Ie=0,this.me=Fc(),this.Ae=ic.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Oc(),e=Oc(),n=Oc();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xu()}})),new jc(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Fc()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Dc=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=yc(),this.Me=Lc(),this.ke=new pc(Uu)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof _h?this.Le(r,t.Ee):t.Ee instanceof wh&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:xu()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(rc(i))if(0===n){var s=new Qu(i.path);this.Be(e,s,new wh(s,Hu.min()))}else Au(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&rc(s.target)){var o=new Qu(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new wh(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=Oc();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ac(t,n,this.ke,this.Oe,r);return this.Oe=yc(),this.Me=Lc(),this.ke=new pc(Uu),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Pc,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new pc(Uu),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Su("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Pc),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Lc(){return new hc(Qu.$)}function Fc(){return new hc(Qu.$)}function Mc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bc(t){var e=Yc(t.mapValue.fields.__local_write_time__.timestampValue);return new zu(e.seconds,e.nanos)}var zc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qc(t)?4:10:xu()}function $c(t,e){var n=Hc(t);if(n!==Hc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yc(t.timestampValue),r=Yc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Zc(t.bytesValue).isEqual(Zc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xc(t.geoPointValue.latitude)===Xc(e.geoPointValue.latitude)&&Xc(t.geoPointValue.longitude)===Xc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xc(t.integerValue)===Xc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Xc(t.doubleValue),r=Xc(e.doubleValue);return n===r?Xu(n)===Xu(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return qu(t.arrayValue.values||[],e.arrayValue.values||[],$c);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Mc(n)!==Mc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$c(n[i],r[i])))return!1;return!0}(t,e);default:return xu()}}function Wc(t,e){return void 0!==(t.values||[]).find((function(t){return $c(t,e)}))}function Gc(t,e){var n=Hc(t),r=Hc(e);if(n!==r)return Uu(n,r);switch(n){case 0:return 0;case 1:return Uu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Xc(t.integerValue||t.doubleValue),r=Xc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Kc(t.timestampValue,e.timestampValue);case 4:return Kc(Bc(t),Bc(e));case 5:return Uu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Zc(t),r=Zc(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Uu(n[i],r[i]);if(0!==s)return s}return Uu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Uu(Xc(t.latitude),Xc(e.latitude));return 0!==n?n:Uu(Xc(t.longitude),Xc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Gc(n[i],r[i]);if(s)return s}return Uu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Uu(r[o],s[o]);if(0!==a)return a;var u=Gc(n[r[o]],i[s[o]]);if(0!==u)return u}return Uu(r.length,s.length)}(t.mapValue,e.mapValue);default:throw xu()}}function Kc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Uu(t,e);var n=Yc(t),r=Yc(e),i=Uu(n.seconds,r.seconds);return 0!==i?i:Uu(n.nanos,r.nanos)}function Qc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Yc(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zc(e.bytesValue).toBase64():"referenceValue"in e?Qu.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):xu();var n}(t)}function Yc(t){if(Au(!!t),"string"==typeof t){var e=0,n=zc.exec(t);if(Au(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xc(t.seconds),nanos:Xc(t.nanos)}}function Xc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zc(t){return"string"==typeof t?ic.fromBase64String(t):ic.fromUint8Array(t)}function Jc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function tl(t){return!!t&&"integerValue"in t}function el(t){return!!t&&"arrayValue"in t}function nl(t){return!!t&&"nullValue"in t}function rl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function il(t){return!!t&&"mapValue"in t}var sl={asc:"ASCENDING",desc:"DESCENDING"},ol={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},al=function(t,e){this.t=t,this.tn=e};function ul(t){return{integerValue:""+t}}function cl(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function ll(t,e){return Zu(e)?ul(e):cl(t,e)}function hl(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function fl(t,e){return t.tn?e.toBase64():e.toUint8Array()}function dl(t,e){return hl(t,e.M())}function pl(t){return Au(!!t),Hu.N(function(t){var e=Yc(t);return new zu(e.seconds,e.nanos)}(t))}function ml(t,e){return function(t){return new Wu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function gl(t){var e=Wu.Y(t);return Au(Ml(e)),e}function yl(t,e){return ml(t.t,e.path)}function vl(t,e){var n=gl(e);if(n.get(1)!==t.t.projectId)throw new Nu(ku.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Nu(ku.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Qu(El(n))}function bl(t,e){return ml(t.t,e)}function _l(t){var e=gl(t);return 4===e.length?Wu.X():El(e)}function wl(t){return new Wu(["projects",t.t.projectId,"databases",t.t.database]).J()}function El(t){return Au(t.length>4&&"documents"===t.get(4)),t.B(5)}function Ol(t,e,n){return{name:yl(t,e),fields:n.proto.mapValue.fields}}function Sl(t,e){var n;if(e instanceof uh)n={update:Ol(t,e.key,e.value)};else if(e instanceof ph)n={delete:yl(t,e.key)};else if(e instanceof ch)n={update:Ol(t,e.key,e.data),updateMask:Fl(e.en)};else if(e instanceof hh)n={transform:{document:yl(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof zl)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hl)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Wl)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Kl)return{fieldPath:e.field.J(),increment:n.nn};throw xu()}(0,t)}))}};else{if(!(e instanceof mh))return xu();n={verify:yl(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:dl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:xu()}(t,e.rn)),n}function Cl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?th.updateTime(pl(t.updateTime)):void 0!==t.exists?th.exists(t.exists):th.on()}(e.currentDocument):th.on();if(e.update){var r=vl(t,e.update.name),i=new gh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Xl((t.fieldPaths||[]).map((function(t){return Ku.nt(t)})))}(e.updateMask);return new ch(r,i,s,n)}return new uh(r,i,n)}if(e.delete){var o=vl(t,e.delete);return new ph(o,n)}if(e.transform){var a=vl(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Au("REQUEST_TIME"===e.setToServerValue),n=new zl):"appendMissingElements"in e?n=new Hl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Wl(e.removeAllFromArray.values||[]):"increment"in e?n=new Kl(t,e.increment):xu();var r=Ku.nt(e.fieldPath);return new Zl(r,n)}(t,e)}));return Au(!0===n.exists),new hh(a,u)}if(e.verify){var c=vl(t,e.verify);return new mh(c,n)}return xu()}function Tl(t,e){return{documents:[bl(t,e.path)]}}function Il(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bl(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(rl(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NAN"}};if(nl(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rl(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NAN"}};if(nl(t.value))return{unaryFilter:{field:Rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(t.field),op:Nl(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Rl(t.field),direction:kl(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Yu(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Al(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Al(e.endAt)),n}function xl(t){var e=_l(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Au(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Ll(e)]:void 0!==e.fieldFilter?[Dl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):xu():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Zh(Pl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Yu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=jl(n.startAt));var l=null;return n.endAt&&(l=jl(n.endAt)),Sh(e,i,a,o,u,"F",c,l)}function Al(t){return{before:t.before,values:t.position}}function jl(t){return new Kh(t.values||[],!!t.before)}function kl(t){return sl[t]}function Nl(t){return ol[t]}function Rl(t){return{fieldPath:t.J()}}function Pl(t){return Ku.nt(t.fieldPath)}function Dl(t){return Vh.create(Pl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xu()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ll(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Pl(t.unaryFilter.field);return Vh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Pl(t.unaryFilter.field);return Vh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pl(t.unaryFilter.field);return Vh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pl(t.unaryFilter.field);return Vh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xu()}}function Fl(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Ml(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Vl=function(){this.cn=void 0};function Ul(t,e,n){return t instanceof zl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Hl?$l(t,e):t instanceof Wl?Gl(t,e):function(t,e){var n=Bl(t,e),r=Ql(n)+Ql(t.nn);return tl(n)&&tl(t.nn)?ul(r):cl(t.serializer,r)}(t,e)}function ql(t,e,n){return t instanceof Hl?$l(t,e):t instanceof Wl?Gl(t,e):n}function Bl(t,e){return t instanceof Kl?tl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e}(Vl),Hl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pi.c)(e,t),e}(Vl);function $l(t,e){for(var n=Yl(e),r=function(t){n.some((function(e){return $c(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Wl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(pi.c)(e,t),e}(Vl);function Gl(t,e){for(var n=Yl(e),r=function(t){n=n.filter((function(e){return!$c(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Kl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(pi.c)(e,t),e}(Vl);function Ql(t){return Xc(t.integerValue||t.doubleValue)}function Yl(t){return el(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Xl=function(){function t(t){this.fields=t,t.sort(Ku.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return qu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Zl=function(t,e){this.field=t,this.transform=e},Jl=function(t,e){this.version=t,this.transformResults=e},th=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function eh(t,e){return void 0!==t.updateTime?e instanceof _h&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof _h}var nh=function(){};function rh(t,e,n){return t instanceof uh?function(t,e,n){return new _h(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ch?function(t,e,n){if(!eh(t.rn,e))return new Eh(t.key,n.version);var r=lh(t,e);return new _h(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof hh?function(t,e,n){if(Au(null!=n.transformResults),!eh(t.rn,e))return new Eh(t.key,n.version);var r=fh(0,e),i=function(t,e,n){var r=[];Au(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof _h&&(a=e.field(s.field)),r.push(ql(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=dh(t,r.data(),i);return new _h(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new wh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ih(t,e,n,r){return t instanceof uh?function(t,e){if(!eh(t.rn,e))return e;var n=ah(e);return new _h(t.key,n,t.value,{an:!0})}(t,e):t instanceof ch?function(t,e){if(!eh(t.rn,e))return e;var n=ah(e),r=lh(t,e);return new _h(t.key,n,r,{an:!0})}(t,e):t instanceof hh?function(t,e,n,r){if(!eh(t.rn,e))return e;var i=fh(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof _h&&(c=n.field(a.field)),null===c&&r instanceof _h&&(c=r.field(a.field)),i.push(Ul(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=dh(t,i.data(),s);return new _h(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return eh(t.rn,e)?new wh(t.key,Hu.min()):e}(t,e)}function sh(t,e){return t instanceof hh?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof _h?e.field(s.field):void 0,a=Bl(s.transform,o||null);null!=a&&(n=null==n?(new yh).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function oh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||qu(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Hl&&e instanceof Hl||t instanceof Wl&&e instanceof Wl?qu(t.elements,e.elements,$c):t instanceof Kl&&e instanceof Kl?$c(t.nn,e.nn):t instanceof zl&&e instanceof zl}(t.transform,e.transform)}(t,e)})))}function ah(t){return t instanceof _h?t.version:Hu.min()}var uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(pi.c)(e,t),e}(nh),ch=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(pi.c)(e,t),e}(nh);function lh(t,e){return function(t,e){var n=new yh(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof _h?e.data():gh.empty())}var hh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=th.exists(!0),r}return Object(pi.c)(e,t),e}(nh);function fh(t,e){return e}function dh(t,e,n){for(var r=new yh(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(pi.c)(e,t),e}(nh),mh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(pi.c)(e,t),e}(nh),gh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!il(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return $c(this.proto,t.proto)},t}(),yh=function(){function t(t){void 0===t&&(t=gh.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Hc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Ku.X(),this._n);return null!=t?new gh(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=il(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function vh(t){var e=[];return Vc(t.fields||{},(function(t,n){var r=new Ku([t]);if(il(n)){var i=vh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Xl(e)}var bh=function(t,e){this.key=t,this.version=e},_h=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(pi.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(bh),wh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(pi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(bh),Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(bh),Oh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Sh(t,e,n,r,i,s,o,a){return new Oh(t,e,n,r,i,s,o,a)}function Ch(t){return new Oh(t)}function Th(t){return!Yu(t.limit)&&"F"===t.limitType}function Ih(t){return!Yu(t.limit)&&"L"===t.limitType}function xh(t){return t.Tn.length>0?t.Tn[0].field:null}function Ah(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function jh(t){return null!==t.collectionGroup}function kh(t){var e=ju(t);if(null===e.In){e.In=[];var n=Ah(e),r=xh(e);if(null!==n&&null===r)n.tt()||e.In.push(new Zh(n)),e.In.push(new Zh(Ku.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Zh(Ku.et(),u))}}}return e.In}function Nh(t){var e=ju(t);if(!e.mn)if("F"===e.limitType)e.mn=tc(e.path,e.collectionGroup,kh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=kh(e);r<i.length;r++){var s=i[r];n.push(new Zh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Kh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kh(e.startAt.position,!e.startAt.before):null;e.mn=tc(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function Rh(t,e,n){return new Oh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return nc(Nh(t),Nh(e))&&t.limitType===e.limitType}function Dh(t){return ec(Nh(t))+"|lt:"+t.limitType}function Lh(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Qc(e.value);var e})).join(", ")+"]"),Yu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qh(t.startAt)),t.endAt&&(e+=", endAt: "+Qh(t.endAt)),"Target("+e+")"}(Nh(t))+"; limitType="+t.limitType+")"}function Fh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Qu.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yh(t.startAt,kh(t),e)||t.endAt&&Yh(t.endAt,kh(t),e))}(t,e)}function Mh(t){return function(e,n){for(var r=!1,i=0,s=kh(t);i<s.length;i++){var o=s[i],a=Jh(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(pi.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Uh(t,n,r):"array-contains"===n?new Hh(t,r):"in"===n?new $h(t,r):"not-in"===n?new Wh(t,r):"array-contains-any"===n?new Gh(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new qh(t,n):new Bh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Gc(e,this.value)):null!==e&&Hc(this.value)===Hc(e)&&this.Pn(Gc(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return xu()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Qu.it(r.referenceValue),i}return Object(pi.c)(e,t),e.prototype.matches=function(t){var e=Qu.$(t.key,this.key);return this.Pn(e)},e}(Vh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=zh(0,n),r}return Object(pi.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Vh),Bh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=zh(0,n),r}return Object(pi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Vh);function zh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Qu.it(t.referenceValue)}))}var Hh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(pi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return el(e)&&Wc(e.arrayValue,this.value)},e}(Vh),$h=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(pi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Wc(this.value.arrayValue,e)},e}(Vh),Wh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(pi.c)(e,t),e.prototype.matches=function(t){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Wc(this.value.arrayValue,e)},e}(Vh),Gh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(pi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!el(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Wc(e.value.arrayValue,t)}))},e}(Vh),Kh=function(t,e){this.position=t,this.before=e};function Qh(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Qc(t)})).join(",")}function Yh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Qu.$(Qu.it(o.referenceValue),n.key):Gc(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$c(t.position[n],e.position[n]))return!1;return!0}var Zh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jh(t,e,n){var r=t.field.tt()?Qu.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Gc(r,i):xu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xu()}}function tf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ef=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=rh(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=ih(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=ih(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Oc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&qu(this.mutations,t.mutations,(function(t,e){return oh(t,e)}))&&qu(this.baseMutations,t.baseMutations,(function(t,e){return oh(t,e)}))},t}(),nf=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Au(e.mutations.length===r.length);for(var i=wc,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),rf=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Vc(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return Uc(this.Nn)},t}(),sf=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&xu(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),of=function(){function t(){this.Qn=new rf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Hu.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?sf.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),af=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function uf(t){return new al(t,!0)}function cf(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var lf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hf=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),ff=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=vc();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=yc();return i.forEach((function(t,e){e||(e=new wh(t,Hu.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return Qu.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):jh(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Qu(e)).next((function(t){var e=_c();return t instanceof _h&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=_c();return this.os.As(t,i).next((function(o){return sf.forEach(o,(function(o){var a=function(t,e){return new Oh(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=ih(u,l,l,s.gn);r=h instanceof _h?r.Tt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Fh(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=Oc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ch&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof _h&&(c=c.Tt(t,e))})),c}))},t}(),df=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Oc(),i=Oc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();pf.Ds=-1;var mf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Su("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),gf=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(yi.g)())&&Cu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Su("SimpleDb","Removing database:",t),Ef(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(yi.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Su("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Nu(ku.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vf(t,n))},i.onupgradeneeded=function(t){Su("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Su("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(pi.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(pi.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(pi.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=_f.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),sf.reject(t)})).Ln(),u={},o.catch((function(){})),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Su("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),yf=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Ef(this.ni.delete())},t}(),vf=function(t){function e(e,n){var r=this;return(r=t.call(this,ku.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(pi.c)(e,t),e}(Nu);function bf(t){return"IndexedDbTransactionError"===t.name}var _f=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new af,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new vf(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Sf(e.target.error);n.ci.reject(new vf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vf(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Su("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wf(e)},t}(),wf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Su("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Su("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ef(n)},t.prototype.add=function(t){return Su("SimpleDb","ADD",this.store.name,t,t),Ef(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ef(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Su("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Su("SimpleDb","DELETE",this.store.name,t),Ef(this.store.delete(t))},t.prototype.count=function(){return Su("SimpleDb","COUNT",this.store.name),Ef(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){Su("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new sf((function(n,r){e.onerror=function(t){var e=Sf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new sf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new yf(i),o=e(i.primaryKey,i.value,s);if(o instanceof sf){var a=o.catch((function(t){return s.done(),sf.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return sf.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ef(t){return new sf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Sf(t.target.error);n(e)}}))}var Of=!1;function Sf(t){var e=gf.js(Object(yi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Nu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Of||(Of=!0,setTimeout((function(){throw r}),0)),r}}return t}function Cf(){return"undefined"!=typeof window?window:null}function Tf(){return"undefined"!=typeof document?document:null}var If=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new af,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Nu(ku.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),xf=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new mf(this,"async_queue_retry"),this.Di=function(){var e=Tf();e&&Su("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Tf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(pi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pi.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!bf(t=n.sent()))throw t;return Su("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Cu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=If.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&xu()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(pi.b)(this,void 0,void 0,(function(){var t;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Af(t,e){if(Cu("AsyncQueue",e+": "+t),bf(t))return new Nu(ku.UNAVAILABLE,e+": "+t);throw t}function jf(t,e){var n=t[1],r=e[1],i=Uu(t[0],e[0]);return 0===i?Uu(n,r):i}var kf=function(){function t(t){this.Ki=t,this.buffer=new pc(jf),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();jf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Nf={zi:!1,Hi:0,Ji:0,Yi:0},Rf=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Rf.nr=10,Rf.sr=1e3,Rf.ir=new Rf(41943040,Rf.nr,Rf.sr),Rf.rr=new Rf(-1,0,0);var Pf=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Su("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(pi.b)(e,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return bf(e=n.sent())?(Su("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ap(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Df=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return sf.resolve(pf.Ds);var r=new kf(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Su("LruGarbageCollector","Garbage collection skipped; disabled"),sf.resolve(Nf)):this.Pr(t).next((function(r){return r<n.params.Xi?(Su("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Nf):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(Su("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Ar(t,n)})).next((function(t){return u=Date.now(),Ou()<=gi.a.DEBUG&&Su("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),sf.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function Lf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Mf(e)),e=Ff(t.get(n),e);return Mf(e)}function Ff(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Mf(t){return t+"\x01\x01"}function Vf(t){var e=t.length;if(Au(e>=2),2===e)return Au("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Wu.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&xu(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:xu()}s=o+2}return new Wu(r)}var Uf=function(t){this.yr=t};function qf(t,e){if(e.document)return function(t,e,n){var r=vl(t,e.name),i=pl(e.updateTime),s=new gh({mapValue:{fields:e.fields}});return new _h(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Qu.ct(e.noDocument.path),r=Wf(e.noDocument.readTime);return new wh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Qu.ct(e.unknownDocument.path),s=Wf(e.unknownDocument.version);return new Eh(i,s)}return xu()}function Bf(t,e,n){var r=zf(n),i=e.key.path.q().H();if(e instanceof _h){var s=function(t,e){return{name:yl(t,e.key),fields:e.En().mapValue.fields,updateTime:hl(t,e.version.M())}}(t.yr,e);return new bd(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof wh){var o=e.key.path.H(),a=$f(e.version),u=e.hasCommittedMutations;return new bd(null,new yd(o,a),null,u,r,i)}if(e instanceof Eh){var c=e.key.path.H(),l=$f(e.version);return new bd(new vd(c,l),null,null,!0,r,i)}return xu()}function zf(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Hf(t){var e=new zu(t[0],t[1]);return Hu.N(e)}function $f(t){var e=t.M();return new fd(e.seconds,e.nanoseconds)}function Wf(t){var e=new zu(t.seconds,t.nanoseconds);return Hu.N(e)}function Gf(t,e){var n=(e.baseMutations||[]).map((function(e){return Cl(t.yr,e)})),r=e.mutations.map((function(e){return Cl(t.yr,e)})),i=zu.fromMillis(e.localWriteTimeMs);return new ef(e.batchId,i,n,r)}function Kf(t){var e,n,r=Wf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wf(t.lastLimboFreeSnapshotVersion):Hu.min();return void 0!==t.query.documents?(Au(1===(n=t.query).documents.length),e=Nh(Ch(_l(n.documents[0])))):e=function(t){return Nh(xl(t))}(t.query),new ac(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ic.fromBase64String(t.resumeToken))}function Qf(t,e){var n,r=$f(e.ft),i=$f(e.lastLimboFreeSnapshotVersion);n=rc(e.target)?Tl(t.yr,e.target):Il(t.yr,e.target);var s=e.resumeToken.toBase64();return new wd(e.targetId,ec(e.target),r,s,e.sequenceNumber,i,n)}function Yf(t){var e=xl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rh(e,e.limit,"L"):e}var Xf=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return Au(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return td(t)._i({index:md.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,s=ed(t),o=td(t);return o.add({}).next((function(a){Au("number"==typeof a);for(var u=new ef(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Sl(t.yr,e)})),i=n.mutations.map((function(e){return Sl(t.yr,e)}));return new md(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new pc((function(t,e){return Uu(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],m=gd.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(m,gd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.os.Dr(t,e))})),t.es((function(){i.pr[a]=u.keys()})),sf.qn(l).next((function(){return u}))}))},t.prototype.Cr=function(t,e){var n=this;return td(t).get(e).next((function(t){return t?(Au(t.userId===n.userId),Gf(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?sf.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return td(t)._i({index:md.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Au(e.batchId>=r),s=Gf(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return td(t)._i({index:md.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return td(t).ui(md.userMutationsIndex,n).next((function(t){return t.map((function(t){return Gf(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=gd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return ed(t)._i({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Vf(r[1]);if(a===n.userId&&e.path.isEqual(c))return td(t).get(u).next((function(t){if(!t)throw xu();Au(t.userId===n.userId),s.push(Gf(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new pc(Uu),i=[];return e.forEach((function(e){var s=gd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=ed(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Vf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),sf.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=gd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new pc(Uu);return ed(t)._i({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Vf(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.kr(t,a)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(td(t).get(e).next((function(t){if(null===t)throw xu();Au(t.userId===n.userId),r.push(Gf(n.serializer,t))})))})),sf.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return Jf(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),sf.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return sf.resolve();var r=IDBKeyRange.lowerBound(gd.prefixForUser(e.userId)),i=[];return ed(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Vf(t[1]);i.push(s)}else r.done()})).next((function(){Au(0===i.length)}))}))},t.prototype.Qr=function(t,e){return Zf(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return nd(t).get(this.userId).next((function(t){return t||new pd(e.userId,-1,"")}))},t}();function Zf(t,e,n){var r=gd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ed(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Jf(t,e,n){var r=t.store(md.store),i=t.store(gd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){Au(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=gd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return sf.qn(s).next((function(){return c}))}function td(t){return Bd.Ys(t,md.store)}function ed(t){return Bd.Ys(t,gd.store)}function nd(t){return Bd.Ys(t,pd.store)}var rd=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return od(t).put(ad(e),n)},t.prototype.Hn=function(t,e){var n=od(t),r=ad(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return od(t).get(ad(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return od(t).get(ad(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:ud(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=vc();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=vc(),i=new hc(Qu.$);return this.zr(t,e,(function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,ud(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return sf.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return od(t)._i({range:r},(function(t,e,r){for(var o=Qu.ct(t);s&&Qu.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=_c(),s=e.path.length+1,o={};if(n.isEqual(Hu.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=zf(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=bd.collectionReadTimeIndex}return od(t)._i(o,(function(t,n,o){if(t.length===s){var a=qf(r.serializer,n);e.path.j(a.key.path)?a instanceof _h&&Fh(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new id(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return sd(t).get(_d.key).next((function(t){return Au(!!t),t}))},t.prototype.Wr=function(t,e){return sd(t).put(_d.key,e)},t.prototype.jr=function(t){if(t){var e=qf(this.serializer,t);return e instanceof wh&&e.version.isEqual(Hu.min())?null:e}return null},t}(),id=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new rf((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(pi.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new pc((function(t,e){return Uu(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.so.get(s);if(o.zn){var u=Bf(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=ud(u);r+=c-a,n.push(e.no.jn(t,s,u))}else if(r-=a,e.Zr){var l=Bf(e.no.serializer,new wh(s,Hu.min()),e.Wn(s));n.push(e.no.jn(t,s,l))}else n.push(e.no.Hn(t,s))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),sf.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(of);function sd(t){return Bd.Ys(t,_d.store)}function od(t){return Bd.Ys(t,bd.store)}function ad(t){return t.path.H()}function ud(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xu();e=t.noDocument}return JSON.stringify(e).length}var cd=function(){function t(){this.io=new ld}return t.prototype.Dr=function(t,e){return this.io.add(e),sf.resolve()},t.prototype.As=function(t,e){return sf.resolve(this.io.getEntries(e))},t}(),ld=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new pc(Wu.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new pc(Wu.$)).H()},t}(),hd=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Au(n<r&&n>=0&&r<=11);var s=new _f("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(dd.store)}(t),function(t){t.createObjectStore(pd.store,{keyPath:pd.keyPath}),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0}),t.createObjectStore(gd.store)}(t),Cd(t),function(t){t.createObjectStore(bd.store)}(t));var o=sf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ed.store),t.deleteObjectStore(wd.store),t.deleteObjectStore(Od.store)}(t),Cd(t)),o=o.next((function(){return function(t){var e=t.store(Od.store),n=new Od(0,0,Hu.min().M(),0);return e.put(Od.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(md.store).ui().next((function(n){t.deleteObjectStore(md.store),t.createObjectStore(md.store,{keyPath:md.keyPath,autoIncrement:!0}).createIndex(md.userMutationsIndex,md.userMutationsKeyPath,{unique:!0});var r=e.store(md.store),i=n.map((function(t){return r.put(t)}));return sf.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Td.store,{keyPath:Td.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(_d.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(bd.store);e.createIndex(bd.readTimeIndex,bd.readTimeIndexPath,{unique:!1}),e.createIndex(bd.collectionReadTimeIndex,bd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Id.store,{keyPath:Id.keyPath})}(t),function(t){t.createObjectStore(xd.store,{keyPath:xd.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(bd.store)._i((function(t,n){e+=ud(n)})).next((function(){var n=new _d(e);return t.store(_d.store).put(_d.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(pd.store),r=t.store(md.store);return n.ui().next((function(n){return sf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(md.userMutationsIndex,i).next((function(r){return sf.forEach(r,(function(r){Au(r.userId===n.userId);var i=Gf(e.serializer,r);return Jf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Ed.store),n=t.store(bd.store);return t.store(Od.store).get(Od.key).next((function(t){var r=[];return n._i((function(n,i){var s=new Wu(n),o=function(t){return[0,Lf(t)]}(s);r.push(e.get(o).next((function(n){return n?sf.resolve():function(n){return e.put(new Ed(0,Lf(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return sf.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath});var n=e.store(Sd.store),r=new ld,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Lf(i)})}};return e.store(bd.store)._i({li:!0},(function(t,e){var n=new Wu(t);return i(n.q())})).next((function(){return e.store(gd.store)._i({li:!0},(function(t,e){var n=Vf(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(wd.store);return n._i((function(t,r){var i=Kf(r),s=Qf(e.serializer,i);return n.put(s)}))},t}(),fd=function(t,e){this.seconds=t,this.nanoseconds=e},dd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};dd.store="owner",dd.key="owner";var pd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};pd.store="mutationQueues",pd.keyPath="userId";var md=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};md.store="mutations",md.keyPath="batchId",md.userMutationsIndex="userMutationsIndex",md.userMutationsKeyPath=["userId","batchId"];var gd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Lf(e)]},t.key=function(t,e,n){return[t,Lf(e),n]},t}();gd.store="documentMutations",gd.PLACEHOLDER=new gd;var yd=function(t,e){this.path=t,this.readTime=e},vd=function(t,e){this.path=t,this.version=e},bd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};bd.store="remoteDocuments",bd.readTimeIndex="readTimeIndex",bd.readTimeIndexPath="readTime",bd.collectionReadTimeIndex="collectionReadTimeIndex",bd.collectionReadTimeIndexPath=["parentPath","readTime"];var _d=function(t){this.byteSize=t};_d.store="remoteDocumentGlobal",_d.key="remoteDocumentGlobalKey";var wd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};wd.store="targets",wd.keyPath="targetId",wd.queryTargetsIndexName="queryTargetsIndex",wd.queryTargetsKeyPath=["canonicalId","targetId"];var Ed=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ed.store="targetDocuments",Ed.keyPath=["targetId","path"],Ed.documentTargetsIndex="documentTargetsIndex",Ed.documentTargetsKeyPath=["path","targetId"];var Od=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Od.key="targetGlobalKey",Od.store="targetGlobal";var Sd=function(t,e){this.collectionId=t,this.parent=e};function Cd(t){t.createObjectStore(Ed.store,{keyPath:Ed.keyPath}).createIndex(Ed.documentTargetsIndex,Ed.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(wd.store,{keyPath:wd.keyPath}).createIndex(wd.queryTargetsIndexName,wd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Od.store)}Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];var Td=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Td.store="clientMetadata",Td.keyPath="clientId";var Id=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Id.store="bundles",Id.keyPath="bundleId";var xd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};xd.store="namedQueries",xd.keyPath="name";var Ad=Object(pi.g)(Object(pi.g)(Object(pi.g)(Object(pi.g)([pd.store,md.store,gd.store,bd.store,wd.store,dd.store,Od.store,Ed.store],[Td.store]),[_d.store]),[Sd.store]),[Id.store,xd.store]),jd=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return kd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Wf(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return kd(t).put({bundleId:(n=e).id,createTime:$f(pl(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Nd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Yf(e.bundledQuery),readTime:Wf(e.readTime)};var e}))},t.prototype.uo=function(t,e){return Nd(t).put(function(t){return{name:t.name,readTime:$f(pl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function kd(t){return Bd.Ys(t,Id.store)}function Nd(t){return Bd.Ys(t,xd.store)}var Rd=function(){function t(){this.ao=new ld}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var s={collectionId:r,parent:Lf(i)};return Pd(t).put(s)}return sf.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Bu(e),""],!1,!0);return Pd(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Vf(s.parent))}return n}))},t}();function Pd(t){return Bd.Ys(t,Sd.store)}var Dd=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Ld=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new Dd(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return Hu.N(new zu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return Fd(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return Au(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Fd(t)._i((function(o,a){var u=Kf(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Vo(t,u)))})).next((function(){return sf.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return Fd(t)._i((function(t,n){var r=Kf(n);e(r)}))},t.prototype.wo=function(t){return Md(t).get(Od.key).next((function(t){return Au(null!==t),t}))},t.prototype.Eo=function(t,e){return Md(t).put(Od.key,e)},t.prototype.Ro=function(t,e){return Fd(t).put(Qf(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=ec(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fd(t)._i({range:r,index:wd.queryTargetsIndexName},(function(t,n,r){var s=Kf(n);nc(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],s=Vd(t);return e.forEach((function(e){var o=Lf(e.path);i.push(s.put(new Ed(n,o))),i.push(r.Vr.Do(t,n,e))})),sf.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Vd(t);return sf.forEach(e,(function(e){var s=Lf(e.path);return sf.qn([i.delete([n,s]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=Vd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vd(t),i=Oc();return r._i({range:n,li:!0},(function(t,e,n){var r=Vf(t[1]),s=new Qu(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=Lf(e.path),r=IDBKeyRange.bound([n],[Bu(n)],!1,!0),i=0;return Vd(t)._i({index:Ed.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return Fd(t).get(e).next((function(t){return t?Kf(t):null}))},t}();function Fd(t){return Bd.Ys(t,wd.store)}function Md(t){return Bd.Ys(t,Od.store)}function Vd(t){return Bd.Ys(t,Ed.store)}var Ud="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(pi.c)(e,t),e}(hf),Bd=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Nu(ku.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new $d(this,i),this.Ko=n+"main",this.serializer=new Uf(u),this.Wo=new gf(this.Ko,11,new hd(this.serializer)),this.jo=new Ld(this.Vr,this.serializer),this.os=new Rd,this.ss=function(t,e){return new rd(t,e)}(this.serializer,this.os),this.Go=new jd(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&Cu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof qd)return gf.Ys(t.Lr,e);throw xu()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Nu(ku.FAILED_PRECONDITION,Ud);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new pf(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Hd(e).put(new Td(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(bf(e))return Su("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Su("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return zd(t).get(dd.key).next((function(t){return sf.resolve(e.oc(t))}))},t.prototype.cc=function(t){return Hd(t).delete(this.clientId)},t.prototype.uc=function(){return Object(pi.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,Td.store);return n.ui().next((function(t){var e=i.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return sf.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?sf.resolve(!0):zd(t).get(dd.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Nu(ku.FAILED_PRECONDITION,Ud);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hd(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Su("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return Object(pi.b)(this,void 0,void 0,(function(){var t=this;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[dd.store,Td.store],(function(e){var n=new qd(e,pf.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Hd(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Xf.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Su("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ad,(function(s){return r=new qd(s,i.ko?i.ko.next():pf.Ds),"readwrite-primary"===e?i.nc(r).next((function(t){return!!t||i.sc(r)})).next((function(e){if(!e)throw Cu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new Nu(ku.FAILED_PRECONDITION,lf);return n(r)})).next((function(t){return i.rc(r).next((function(){return t}))})):i.yc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.yc=function(t){var e=this;return zd(t).get(dd.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Nu(ku.FAILED_PRECONDITION,Ud)}))},t.prototype.rc=function(t){var e=new dd(this.clientId,this.allowTabSynchronization,Date.now());return zd(t).put(dd.key,e)},t.Gs=function(){return gf.Gs()},t.prototype.ic=function(t){var e=this,n=zd(t);return n.get(dd.key).next((function(t){return e.oc(t)?(Su("IndexedDbPersistence","Releasing primary lease."),n.delete(dd.key)):sf.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Su("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Cu("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function zd(t){return Bd.Ys(t,dd.store)}function Hd(t){return Bd.Ys(t,Td.store)}var $d=function(){function t(t,e){this.db=t,this.cr=new Df(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return Wd(t,n)},t.prototype.No=function(t,e,n){return Wd(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return Wd(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return nd(t).fi((function(r){return Zf(t,r,e).next((function(t){return t&&(n=!0),sf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,(function(o,a){if(a<=e){var u=n.bc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),Vd(t).delete([0,Lf(o.path)])}))}));i.push(u)}})).next((function(){return sf.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return Wd(t,e)},t.prototype.vc=function(t,e){var n,r=Vd(t),i=pf.Ds;return r._i({index:Ed.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==pf.Ds&&e(new Qu(Vf(n)),i),i=o,n=s):i=pf.Ds})).next((function(){i!==pf.Ds&&e(new Qu(Vf(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function Wd(t,e){return Vd(t).put(function(t,e){return new Ed(0,Lf(t.path),e)}(e,t.Fo))}function Gd(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Kd=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new hc(Uu),this.Nc=new rf((function(t){return ec(t)}),nc),this.xc=Hu.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new ff(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function Qd(t,e,n,r){return new Kd(t,e,n,r)}function Yd(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:return n=ju(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.Mr(t).next((function(o){return s=o,r=n.persistence.mc(e),i=new ff(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],o=Oc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i._s(t,o).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}}))}))}function Xd(t,e){var n=ju(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=sf.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);Au(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function Zd(t){var e=ju(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function Jd(t,e){var n=ju(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next((function(){return n.jo.So(t,e._e,s)})));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(s,c),function(t,e,n){return Au(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.jo.yo(t,c))}}}));var a=yc();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))})),o.push(function(t,e,n,r,i){var s=Oc();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=yc();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof wh&&s.version.isEqual(Hu.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Su("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(Hu.min())){var u=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));o.push(u)}return sf.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Oc.fs(t,a)}))})).then((function(t){return n.Cc=i,t}))}function tp(t,e){var n=ju(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function ep(t,e){var n=ju(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?sf.resolve(r=i):n.jo.fo(t).next((function(i){return r=new ac(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function np(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:r=ju(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!bf(o=a.sent()))throw o;return Su("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function rp(t,e,n){var r=ju(t),i=Hu.min(),s=Oc();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ju(t),i=r.Nc.get(n);return void 0!==i?sf.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Nh(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Dc.ws(t,e,n?i:Hu.min(),n?s:Oc())})).next((function(t){return{documents:t,Bc:s}}))}))}function ip(t,e){var n=ju(t),r=ju(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function sp(t){var e=ju(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ju(t),i=yc(),s=zf(n),o=od(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:bd.readTimeIndex,range:a},(function(t,e){var n=qf(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{qc:i,readTime:Hf(s)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc;return e.xc=t.readTime,n}))}function op(t){return Object(pi.b)(this,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){return[2,(e=ju(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=od(t),n=Hu.min();return e._i({index:bd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Hf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function ap(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){if(t.code!==ku.FAILED_PRECONDITION||t.message!==lf)throw t;return Su("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var up=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new mf(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===ku.RESOURCE_EXHAUSTED?(Cu(e.toString()),Cu("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===ku.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new Nu(ku.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(pi.b)(t,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return Su("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(Su("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),cp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(pi.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:xu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(Au(void 0===e||"string"==typeof e),ic.fromBase64String(e||"")):(Au(void 0===e||e instanceof Uint8Array),ic.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?ku.UNKNOWN:lc(t.code);return new Nu(e,t.message||"")}(o);n=new Rc(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=vl(t,u.document.name),l=pl(u.document.updateTime),h=new gh({mapValue:{fields:u.document.fields}}),f=new _h(c,l,h,{});n=new kc(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=vl(t,d.document),m=d.readTime?pl(d.readTime):Hu.min(),g=new wh(p,m);n=new kc([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,v=vl(t,y.document);n=new kc([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return xu();var b=e.filter,_=new uc(b.count||0);n=new Nc(b.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Hu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Hu.min():e.readTime?pl(e.readTime):Hu.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=wl(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=rc(r)?{documents:Tl(t,r)}:{query:Il(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=fl(t,e.resumeToken):e.ft.F(Hu.min())>0&&(n.readTime=hl(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xu()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=wl(this.serializer),e.removeTarget=t,this.Zc(e)},e}(up),lp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(Au(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Au(void 0!==e),t.map((function(t){return function(t,e){var n=pl(t.updateTime?t.updateTime:e);n.isEqual(Hu.min())&&(n=pl(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Jl(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=pl(t.commitTime);return this.listener.wu(n,e)}return Au(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=wl(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Sl(e.serializer,t)}))};this.Zc(n)},e}(up),hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(pi.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new Nu(ku.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===ku.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===ku.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),fp=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Cu(e),this.Vu=!1):Su("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),dp=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return Object(pi.b)(s,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return Ep(this)?(Su("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(pi.b)(this,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){switch(n.label){case 0:return(e=ju(t)).Mu.add(4),[4,mp(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,pp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new fp(n,r)};function pp(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:if(!Ep(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function mp(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function gp(t,e){var n=ju(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),wp(n)?_p(n):Fp(n).zc()&&vp(n,e))}function yp(t,e){var n=ju(t),r=Fp(n);n.Ou.delete(e),r.zc()&&bp(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Ep(n)&&n.Bu.set("Unknown"))}function vp(t,e){t.qu.De(e.targetId),Fp(t).hu(e)}function bp(t,e){t.qu.De(e),Fp(t).lu(e)}function _p(t){t.qu=new Dc({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Fp(t).start(),t.Bu.pu()}function wp(t){return Ep(t)&&!Fp(t).Gc()&&t.Ou.size>0}function Ep(t){return 0===ju(t).Mu.size}function Op(t){t.qu=void 0}function Sp(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){return t.Ou.forEach((function(e,n){vp(t,e)})),[2]}))}))}function Cp(t,e){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(n){return Op(t),wp(t)?(t.Bu.Su(e),_p(t)):t.Bu.set("Unknown"),[2]}))}))}function Tp(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof Rc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Su("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ip(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof kc?t.qu.$e(e):e instanceof Nc?t.qu.je(e):t.qu.qe(e),n.isEqual(Hu.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Zd(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(ic.lt,n.ft)),bp(t,e);var r=new ac(n.target,e,1,n.sequenceNumber);vp(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Su("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Ip(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Ip(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r=this;return Object(pi.d)(this,(function(i){switch(i.label){case 0:if(!bf(e))throw e;return t.Mu.add(1),[4,mp(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return Zd(t.Cu)}),t.di.Mi((function(){return Object(pi.b)(r,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return Su("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,pp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function xp(t,e){return e().catch((function(n){return Ip(t,n,e)}))}function Ap(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:e=ju(t),n=Mp(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Ep(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,tp(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=Mp(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Ip(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return jp(e)&&kp(e),[2]}}))}))}function jp(t){return Ep(t)&&!Mp(t).Gc()&&t.Fu.length>0}function kp(t){Mp(t).start()}function Np(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){return Mp(t).Tu(),[2]}))}))}function Rp(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n,r;return Object(pi.d)(this,(function(i){for(e=Mp(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]}))}))}function Pp(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=nf.from(r,e,n),[4,xp(t,(function(){return t.xu.Ku(i)}))];case 1:return s.sent(),[4,Ap(t)];case 2:return s.sent(),[2]}}))}))}function Dp(t,e){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(n){switch(n.label){case 0:return e&&Mp(t).fu?[4,function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return cc(r=e.code)&&r!==ku.ABORTED?(n=t.Fu.shift(),Mp(t).Jc(),[4,xp(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ap(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jp(t)&&kp(t),[2]}}))}))}function Lp(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return n=ju(t),e?(n.Mu.delete(2),[4,pp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,mp(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Fp(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=ju(t);return r.mu(),new cp(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Sp.bind(null,t),nu:Cp.bind(null,t),au:Tp.bind(null,t)}),t.ku.push((function(n){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),wp(t)?_p(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Op(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function Mp(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=ju(t);return r.mu(),new lp(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Np.bind(null,t),nu:Dp.bind(null,t),Eu:Rp.bind(null,t),wu:Pp.bind(null,t)}),t.ku.push((function(n){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Ap(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Su("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var Vp=function(){this.zu=void 0,this.listeners=[]},Up=function(){this.queries=new rf((function(t){return Dh(t)}),Ph),this.onlineState="Unknown",this.Hu=new Set};function qp(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(pi.d)(this,(function(c){switch(c.label){case 0:if(n=ju(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Vp),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=Af(a,"Initialization of query '"+Lh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&$p(n),[2]}}))}))}function Bp(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pi.d)(this,(function(a){return n=ju(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function zp(t,e){for(var n=ju(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(o)&&(r=!0);a.zu=o}}r&&$p(n)}function Hp(t,e,n){var r=ju(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function $p(t){t.Hu.forEach((function(t){t.next()}))}var Wp=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xc(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=xc.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Gp=function(){function t(){this.ca=new pc(Kp.ua),this.aa=new pc(Kp.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new Kp(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new Kp(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new Qu(new Wu([])),r=new Kp(n,t),i=new Kp(n,t+1),s=[];return this.aa.Kt([r,i],(function(t){e._a(t),s.push(t.key)})),s},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new Qu(new Wu([])),n=new Kp(e,t),r=new Kp(e,t+1),i=Oc();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new Kp(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Kp=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return Qu.$(t.key,e.key)||Uu(t.Ta,e.Ta)},t.ha=function(t,e){return Uu(t.Ta,e.Ta)||Qu.$(t.key,e.key)},t}();function Qp(t,e){return"firestore_clients_"+t+"_"+e}function Yp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Xp(t,e){return"firestore_targets_"+t+"_"+e}var Zp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Nu(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Cu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Nu(r.error.code,r.error.message)),i?new t(e,r.state,s):(Cu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Cc(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zu(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Cu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),em=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cu("SharedClientState","Failed to parse online state: "+e),null)},t}(),nm=function(){function t(){this.activeTargetIds=Cc()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),rm=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new hc(Uu),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Qp(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new nm),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(pi.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(pi.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Qp(this.persistenceKey,r)))&&(s=tm.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",(function(){return l.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Xp(this.persistenceKey,t));if(n){var r=Jp.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Xp(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Su("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Su("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Su("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Su("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Cu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(pi.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(pi.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=pf.Ds;if(null!=t)try{var n=JSON.parse(t);Au("number"==typeof n),e=n}catch(t){Cu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==pf.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Zp(this.currentUser,t,e,n),i=Yp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=Yp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Xp(this.persistenceKey,t),i=new Jp(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return tm.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return Zp.Ia(new wu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Jp.Ia(r,e)},t.prototype.Ma=function(t){return em.Ia(t)},t.prototype.uh=function(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Su("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.ga.dh(o,a).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Cc();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),im=function(){function t(){this.wh=new nm,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new nm,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),sm=function(t){this.key=t},om=function(t){this.key=t},am=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Oc(),this.ee=Oc(),this.Ah=Mh(t),this.Rh=new Tc(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Ic,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,u=Th(this.query)&&i.size===this.query.limit?i.last():null,c=Ih(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var l=i.get(t),h=e instanceof _h?e:null;h&&(h=Fh(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Th(this.query)||Ih(this.query))for(;o.size>this.query.limit;){var l=Th(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xu()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new xc(this.query,t.Rh,i,s,t.ee,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Ic,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Oc(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new om(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new sm(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Oc();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return xc.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),um=function(t,e,n){this.query=t,this.targetId=e,this.view=n},cm=function(t){this.key=t,this.Fh=!1},lm=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new rf((function(t){return Dh(t)}),Ph),this.qh=new Map,this.Uh=[],this.Qh=new hc(Qu.$),this.Kh=new Map,this.Wh=new Gp,this.jh={},this.Gh=new Map,this.zh=Dd._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function hm(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:return n=Um(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,ep(n.Cu,Nh(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,fm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&gp(n.Oh,s),a.label=4;case 4:return[2,r]}}))}))}function fm(t,e,n,r){return Object(pi.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(pi.d)(this,(function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(pi.b)(this,void 0,void 0,(function(){var i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,rp(t.Cu,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(Cm(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,rp(t.Cu,e,!0)];case 1:return i=l.sent(),s=new am(e,i.Bc),o=s.gh(i.documents),a=jc.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Jh,a),Cm(t,n,u.Dh),c=new um(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}}))}))}function dm(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return n=ju(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Ph(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,np(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),yp(n.Oh,r.targetId),Om(n,r.targetId)})).catch(ap)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Om(n,r.targetId),[4,np(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function pm(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:r=qm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ju(t),i=zu.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Oc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=sh(c,n.get(c.key));null!=l&&o.push(new ch(c.key,l,vh(l.proto.mapValue),th.exists(!0)))}return r.rs.Sr(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new hc(Uu)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,xm(r,i.Qn)];case 3:return a.sent(),[4,Ap(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Af(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function mm(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r;return Object(pi.d)(this,(function(i){switch(i.label){case 0:n=ju(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jd(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(Au(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?Au(r.Fh):t.de.size>0&&(Au(r.Fh),r.Fh=!1))})),[4,xm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ap(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function gm(t,e,n){var r=ju(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ju(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)})),r&&$p(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function ym(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(pi.d)(this,(function(c){switch(c.label){case 0:return(r=ju(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new hc(Qu.$)).Tt(s,new wh(s,Hu.min())),a=Oc().add(s),u=new Ac(Hu.min(),new Map,new pc(Uu),o,a),[4,mm(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),Im(r),[3,4];case 2:return[4,np(r.Cu,e,!1).then((function(){return Om(r,e,n)})).catch(ap)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function vm(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:n=ju(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Xd(n.Cu,e)];case 2:return i=s.sent(),Em(n,r,null),wm(n,r),n.kh.Qa(r,"acknowledged"),[4,xm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ap(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function bm(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:r=ju(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ju(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return Au(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=s.sent(),Em(r,e,n),wm(r,e),r.kh.Qa(e,"rejected",n),[4,xm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ap(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function _m(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:Ep((n=ju(t)).Oh)||Su("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ju(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=Af(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function wm(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Em(t,e,n){var r=ju(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Om(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||Sm(t,e)}))}function Sm(t,e){var n=t.Qh.get(e);null!==n&&(yp(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Im(t))}function Cm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof sm?(t.Wh.Do(s.key,e),Tm(t,s)):s instanceof om?(Su("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||Sm(t,s.key)):xu()}}function Tm(t,e){var n=e.key;t.Qh.get(n)||(Su("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Im(t))}function Im(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new cm(e)),t.Qh=t.Qh.Tt(e,n),gp(t.Oh,new ac(Nh(Ch(e.path)),n,2,pf.Ds))}}function xm(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:return r=ju(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,a){o.push(r.Yh(a,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=df.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(pi.d)(this,(function(l){switch(l.label){case 0:n=ju(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return sf.forEach(e,(function(e){return sf.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return sf.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!bf(r=l.sent()))throw r;return Su("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}}))}))}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Am(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return(n=ju(t)).currentUser.isEqual(e)?[3,3]:(Su("SyncEngine","User change. New user:",e.h()),[4,Yd(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Nu(ku.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,xm(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function jm(t,e){var n=ju(t),r=n.Kh.get(e);if(r&&r.Fh)return Oc().add(r.key);var i=Oc(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Gt(u.view.Ph)}return i}function km(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return[4,rp((n=ju(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&Cm(n,e.targetId,i.Dh),i)]}}))}))}function Nm(t){return Object(pi.b)(this,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){return[2,sp((e=ju(t)).Cu).then((function(t){return xm(e,t)}))]}))}))}function Rm(t,e,n,r){return Object(pi.b)(this,void 0,void 0,(function(){var i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=ju(t),r=ju(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):sf.resolve(null)}))}))}((i=ju(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ap(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Em(i,e,r||null),wm(i,e),function(t,e){ju(ju(t).rs).Br(e)}(i.Cu,e)):xu(),o.label=4;case 4:return[4,xm(i,s)];case 5:return o.sent(),[3,7];case 6:Su("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Pm(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(pi.d)(this,(function(c){switch(c.label){case 0:return Um(n=ju(t)),qm(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Dm(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,Lp(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)gp(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?a.push(e):u=u.then((function(){return Om(n,e),np(n.Cu,e,!0)})),yp(n.Oh,e)})),[4,u]);case 4:return c.sent(),[4,Dm(n,a)];case 5:return c.sent(),function(t){var e=ju(t);e.Kh.forEach((function(t,n){yp(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new hc(Qu.$)}(n),n.Hh=!1,[4,Lp(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Dm(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(pi.d)(this,(function(m){switch(m.label){case 0:n=ju(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,ep(n.Cu,Nh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,km(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ip(n.Cu,a)];case 8:return p=m.sent(),[4,ep(n.Cu,p)];case 9:return u=m.sent(),[4,fm(n,Lm(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function Lm(t){return Sh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fm(t){var e=ju(t);return ju(ju(e.Cu).persistence).Ic()}function Mm(t,e,n,r){return Object(pi.b)(this,void 0,void 0,(function(){var i,s,o;return Object(pi.d)(this,(function(a){switch(a.label){case 0:return(i=ju(t)).Hh?(Su("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sp(i.Cu)];case 3:return s=a.sent(),o=Ac.ae(e,"current"===n),[4,xm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,np(i.Cu,e,!0)];case 6:return a.sent(),Om(i,e,r),[3,8];case 7:xu(),a.label=8;case 8:return[2]}}))}))}function Vm(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(pi.d)(this,(function(f){switch(f.label){case 0:if(!(r=Um(t)).Hh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(Su("SyncEngine","Adding an already active target "+o),[3,5]):[4,ip(r.Cu,o)]:[3,6];case 2:return a=f.sent(),[4,ep(r.Cu,a)];case 3:return u=f.sent(),[4,fm(r,Lm(a),u.targetId,!1)];case 4:f.sent(),gp(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,np(r.Cu,t,!1).then((function(){yp(r.Oh,t),Om(r,t)})).catch(ap)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Um(t){var e=ju(t);return e.Oh.xu.Qu=mm.bind(null,e),e.Oh.xu.Xe=jm.bind(null,e),e.Oh.xu.Uu=ym.bind(null,e),e.Lh.au=zp.bind(null,e.Mh),e.Lh.Xh=Hp.bind(null,e.Mh),e}function qm(t){var e=ju(t);return e.Oh.xu.Ku=vm.bind(null,e),e.Oh.xu.Wu=bm.bind(null,e),e}var Bm=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Hu.min())?this.tl(t,e):this.Zh._s(t,r).next((function(s){var o=i.el(e,s);return(Th(e)||Ih(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Ou()<=gi.a.DEBUG&&Su("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lh(e)),i.Zh.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new pc(Mh(t));return e.forEach((function(e,r){r instanceof _h&&Fh(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Ou()<=gi.a.DEBUG&&Su("IndexFreeQueryEngine","Using full collection scan to execute query:",Lh(e)),this.Zh.ws(t,e,Hu.min())},t}(),zm=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new pc(Kp.ua)}return t.prototype.br=function(t){return sf.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new ef(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new Kp(u.key,i)),this.os.Dr(t,u.key.path.q())}return sf.resolve(s)},t.prototype.Cr=function(t,e){return sf.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return sf.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return sf.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return sf.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Kp(e,0),i=new Kp(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);s.push(e)})),sf.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new pc(Uu);return e.forEach((function(t){var e=new Kp(t,0),i=new Kp(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),sf.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Qu.ot(i)||(i=i.child(""));var s=new Kp(new Qu(i),0),o=new pc(Uu);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)}),s),sf.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;Au(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return sf.forEach(e.mutations,(function(i){var s=new Kp(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new Kp(e,0),r=this.sl.jt(n);return sf.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return sf.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Hm=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new hc(Qu.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return sf.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=vc();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),sf.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=_c(),i=new Qu(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof _h&&Fh(e,u)&&(r=r.Tt(u.key,u))}return sf.resolve(r)},t.prototype.al=function(t,e){return sf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new $m(this)},t.prototype.eo=function(t){return sf.resolve(this.size)},t}(),$m=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(pi.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),sf.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(of),Wm=function(){function t(t){this.persistence=t,this.hl=new rf((function(t){return ec(t)}),nc),this.lastRemoteSnapshotVersion=Hu.min(),this.highestTargetId=0,this.ll=0,this._l=new Gp,this.targetCount=0,this.fl=Dd.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),sf.resolve()},t.prototype.To=function(t){return sf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return sf.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),sf.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),sf.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Dd(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,sf.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),sf.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,sf.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)})),sf.qn(s).next((function(){return i}))},t.prototype.vo=function(t){return sf.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return sf.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),sf.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),sf.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),sf.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return sf.resolve(n)},t.prototype.Qr=function(t,e){return sf.resolve(this._l.Qr(e))},t}(),Gm=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return sf.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:pl(n.createTime)}),sf.resolve()},t.prototype.co=function(t,e){return sf.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Yf(n.bundledQuery),readTime:pl(n.readTime)}),sf.resolve()},t}(),Km=function(){function t(t,e){var n=this;this.El={},this.ko=new pf(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new Wm(this),this.os=new cd,this.ss=function(t,e){return new Hm(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new Uf(e),this.Go=new Gm(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new zm(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Su("MemoryPersistence","Starting transaction:",t);var i=new Qm(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return sf.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),Qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(pi.c)(e,t),e}(hf),Ym=function(){function t(t){this.persistence=t,this.Rl=new Gp,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw xu()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),sf.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),sf.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),sf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return sf.forEach(this.yl,(function(r){var i=Qu.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return sf.Un([function(){return sf.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Xm=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Zm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(pi.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new yu;o.listenOnce(pu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case du.NO_ERROR:var e=o.getResponseJson();Su("Connection","XHR received:",JSON.stringify(e)),i(e);break;case du.TIMEOUT:Su("Connection",'RPC "'+t+'" timed out'),s(new Nu(ku.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:var n=o.getStatus();if(Su("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(ku).indexOf(e)>=0?e:ku.UNKNOWN}(r.status);s(new Nu(a,r.message))}else s(new Nu(ku.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Nu(ku.UNAVAILABLE,"Connection failed."));break;default:xu()}}finally{Su("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new uu,i=lo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(yi.l)()||Object(yi.n)()||Object(yi.j)()||Object(yi.k)()||Object(yi.o)()||Object(yi.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Su("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Xm({pl:function(t){c?Su("Connection","Not sending because WebChannel is closed:",t):(u||(Su("Connection","Opening WebChannel transport."),a.open(),u=!0),Su("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,gu.EventType.OPEN,(function(){c||Su("Connection","WebChannel transport opened.")})),h(a,gu.EventType.CLOSE,(function(){c||(c=!0,Su("Connection","WebChannel transport closed"),l.Nl())})),h(a,gu.EventType.ERROR,(function(t){c||(c=!0,Tu("Connection","WebChannel transport errored:",t),l.Nl(new Nu(ku.UNAVAILABLE,"The operation could not be completed")))})),h(a,gu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Au(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Su("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=sc[t];if(void 0!==e)return lc(e)}(i),o=r.message;void 0===s&&(s=ku.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new Nu(s,o)),a.close()}else Su("Connection","WebChannel received:",n),l.xl(n)}})),h(i,mu.STAT_EVENT,(function(t){10===t.stat?Su("Connection","Detected buffering proxy"):11===t.stat&&Su("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Cl()}),0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Su("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return Su("RestConnection","Received: ",t),t}),(function(e){throw Tu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Zm[t]},t}()),tg=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Su("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Su("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),eg=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),ng=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return this.serializer=uf(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Qd(this.persistence,new Bm,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Km(Ym.gl,this.serializer)},t.prototype.jl=function(t){return new im},t.prototype.terminate=function(){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(pi.c)(e,t),e.prototype.initialize=function(e){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,op(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,qm(this.Xl.ga)];case 4:return n.sent(),[4,Ap(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Qd(this.persistence,new Bm,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Pf(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=Gd(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Rf.er(this.cacheSizeBytes):Rf.ir;return new Bd(this.synchronizeTabs,e,t.clientId,n,t.di,Cf(),Tf(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new im},e}(ng),ig=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(pi.c)(e,t),e.prototype.initialize=function(e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof rm?(this.kh.ga={_h:Rm.bind(null,n),fh:Mm.bind(null,n),dh:Vm.bind(null,n),Ic:Fm.bind(null,n),lh:Nm.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return Object(pi.b)(r,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Pm(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Cf();if(!rm.Gs(e))throw new Nu(ku.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gd(t.Fl.t,t.Fl.persistenceKey);return new rm(e,t.di,n,t.clientId,t.Yl)},e}(rg),sg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n=this;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return gm(n.ga,t,1)},this.Oh.xu.s_=Am.bind(null,this.ga),[4,Lp(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Up},t.prototype.Zl=function(t){var e=uf(t.Fl.t),n=new Jm(t.Fl);return function(t,e,n){return new hp(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return gm(o.ga,t,0)},s=tg.Gs()?new tg:new eg,new dp(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new lm(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(pi.b)(this,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){switch(n.label){case 0:return e=ju(t),Su("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,mp(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),og=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ag=function(t){this.o_=t};function ug(t,e,n){if(!n)throw new Nu(ku.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function cg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nu(ku.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lg(t,e,n,r){if(!0===e&&!0===r)throw new Nu(ku.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function hg(t){if(!Qu.ot(t))throw new Nu(ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function fg(t){if(Qu.ot(t))throw new Nu(ku.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function dg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xu()}function pg(t,e){if(t instanceof ag&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nu(ku.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dg(t);throw new Nu(ku.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function mg(t,e){if(e<=0)throw new Nu(ku.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var gg=function(t){this.c_=t},yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gg);function vg(t,e,n){return new wy({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.u_=function(t){return new Zl(t.path,new zl)},e.prototype.isEqual=function(t){return t instanceof e},e}(gg),_g=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(pi.c)(e,t),e.prototype.u_=function(t){var e=vg(this,t,!0),n=this.f_.map((function(t){return Iy(t,e)})),r=new Hl(n);return new Zl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gg),wg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(pi.c)(e,t),e.prototype.u_=function(t){var e=vg(this,t,!0),n=this.f_.map((function(t){return Iy(t,e)})),r=new Wl(n);return new Zl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gg),Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(pi.c)(e,t),e.prototype.u_=function(t){var e=new Kl(t.serializer,ll(t.serializer,this.d_));return new Zl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gg),Og=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nu(ku.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nu(ku.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return Uu(this.w_,t.w_)||Uu(this.E_,t.E_)},t}(),Sg=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(ic.fromBase64String(e))}catch(e){throw new Nu(ku.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ic.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),Cg=new Map,Tg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Nu(ku.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nu(ku.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,lg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ig=function(){function t(t,e){this.I_="(lite)",this.m_=new Tg({}),this.A_=!1,t instanceof _u?(this.R_=t,this.P_=new Pu):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Nu(ku.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(t.options.projectId)}(t),this.P_=new Du(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Nu(ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Nu(ku.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Tg(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Pu;switch(t.type){case"gapi":var e=t.client;return Au(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fu(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Nu(ku.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=Cg.get(t);e&&(Su("ComponentProvider","Removing Datastore"),Cg.delete(t),e.terminate())}(this),Promise.resolve()},t}();function xg(){if("undefined"==typeof Uint8Array)throw new Nu(ku.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ag(){if("undefined"==typeof atob)throw new Nu(ku.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.fromBase64String=function(t){return Ag(),new e(Sg.fromBase64String(t))},e.fromUint8Array=function(t){return xg(),new e(Sg.fromUint8Array(t))},e.prototype.toBase64=function(){return Ag(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return xg(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ag),kg=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),Hc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xc(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Zc(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw xu()}},t.prototype.L_=function(t,e){var n=this,r={};return Vc(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new Og(Xc(t.latitude),Xc(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return qc(n)?t(n):n}(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(Bc(t));default:return null}},t.prototype.N_=function(t){var e=Yc(t);return new zu(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=Wu.Y(t);Au(Ml(n));var r=new _u(n.get(1),n.get(3)),i=new Qu(n.B(5));return r.isEqual(e)||Cu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pi.c)(e,t),e.prototype.F_=function(t){return new jg(new Sg(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return sv.q_(e,this.firestore,null)},e}(kg),Rg=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Yg(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Pg(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Dg("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Rg);function Dg(t,e){return"string"==typeof e?Ry(t,e):e instanceof ag?e.o_.G_:e.G_}var Lg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Nu(ku.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Ku(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Fg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new xf,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(pi.c)(e,t),e.prototype.D_=function(){return this.H_||nv(this),this.H_.terminate()},e}(Ig);function Mg(t,e,n){var r=this,i=new af;return t.di.enqueue((function(){return Object(pi.b)(r,void 0,void 0,(function(){var r;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Vy(t,n)];case 1:return s.sent(),[4,Uy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ku.FAILED_PRECONDITION||t.code===ku.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Vg(t){if(t.y_||t.V_)throw new Nu(ku.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ug=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(pi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new qg(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Dg("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Rg),qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Ug),Bg=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new cv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new qg(n.U_,n.Q_,r.key,r,new cv(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Nu(ku.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){return{type:"added",doc:new qg(t.U_,t.Q_,e.doc.key,e.doc,new cv(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new qg(t.U_,t.Q_,e.doc.key,e.doc,new cv(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:zg(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Z_=e),this.X_},t}();function zg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu()}}function Hg(t,e){return t instanceof Ug&&e instanceof Ug?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof Bg&&e instanceof Bg&&t.U_===e.U_&&my(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var $g=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pi.c)(e,t),e.prototype.F_=function(t){return new Sg(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Yg(this.firestore,null,e)},e}(kg);function Wg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=pg(t.firestore,Fg),o=gy(s);return e instanceof ag&&(e=e.o_),Kg(s,("string"==typeof e||e instanceof Lg?Cy(o,"updateDoc",t.K_,e,n,r):Sy(o,"updateDoc",t.K_,e)).ef(t.K_,th.exists(!0)))}function Gg(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||cf(s[u])||(a=s[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(cf(s[u])){var d=s[u];s[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Yg)l=pg(t.firestore,Fg),h=Ch(t.K_.path),c={next:function(e){s[u]&&s[u](Qg(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=pg(t.firestore,Fg),h=t.tf;var p=new $g(l);c={next:function(e){s[u]&&s[u](new Bg(l,p,t,e))},error:s[u+1],complete:s[u+2]},cy(t.tf)}var m=ev(l),g=new og(c),y=new Wp(h,g,f);return l.z_.Ri((function(){return Object(pi.b)(i,void 0,void 0,(function(){var t;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t=qp,[4,Gy(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))})),function(){g.r_(),l.z_.Ri((function(){return Object(pi.b)(i,void 0,void 0,(function(){var t;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t=Bp,[4,Gy(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}}))}))}))}}function Kg(t,e){return function(t,e){var n=this,r=new af;return t.di.Ri((function(){return Object(pi.b)(n,void 0,void 0,(function(){var n;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return n=pm,[4,Wy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(ev(t),e)}function Qg(t,e,n){var r=n.docs.get(e.K_),i=new $g(t);return new Ug(t,i,e.K_,r,new cv(n.hasPendingWrites,n.fromCache),e.j_)}var Yg=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ly(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Xg=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),Zg=function(){};function Jg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(pi.c)(e,t),e.prototype.sf=function(t){var e=gy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new Nu(ku.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){ay(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(oy(r,t,l[c]));a={arrayValue:{values:u}}}else a=oy(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ay(o,s),a=Ty(n,"where",o,"in"===s||"not-in"===s);var h=Vh.create(i,s,a);return function(t,e){if(e.An()){var n=Ah(t);if(null!==n&&!n.isEqual(e.field))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=xh(t);null!==r&&uy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Nu(ku.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Xg(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(Zg),ey=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(pi.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zh(e,n);return function(t,e){if(null===xh(t)){var n=Ah(t);null!==n&&uy(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Xg(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Oh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(Zg),ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(pi.c)(e,t),e.prototype.sf=function(t){return new Xg(t.firestore,t.j_,Rh(t.tf,this.hf,this.lf))},e}(Zg),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(pi.c)(e,t),e.prototype.sf=function(t){var e=sy(t,this.type,this._f,this.ff);return new Xg(t.firestore,t.j_,function(t,e){return new Oh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(Zg),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(pi.c)(e,t),e.prototype.sf=function(t){var e=sy(t,this.type,this._f,this.ff);return new Xg(t.firestore,t.j_,function(t,e){return new Oh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(Zg);function sy(t,e,n,r){if(n[0]instanceof ag&&(n[0]=n[0].o_),n[0]instanceof Rg)return function(t,e,n,r,i){if(!r)throw new Nu(ku.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=kh(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(Jc(e,r.key));else{var c=r.field(u.field);if(qc(c))throw new Nu(ku.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Kh(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=gy(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new Nu(ku.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jh(t)&&-1!==c.indexOf("/"))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Wu.Y(c));if(!Qu.ot(l))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Qu(l);a.push(Jc(e,h))}else{var f=Ty(n,r,c);a.push(f)}}return new Kh(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function oy(t,e,n){if(n instanceof ag&&(n=n.o_),"string"==typeof n){if(""===n)throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jh(e)&&-1!==n.indexOf("/"))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Wu.Y(n));if(!Qu.ot(r))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jc(t,new Qu(r))}if(n instanceof Yg)return Jc(t,n.K_);throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dg(n)+".")}function ay(t,e){if(!Array.isArray(t)||0===t.length)throw new Nu(ku.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Nu(ku.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uy(t,e,n){if(!n.isEqual(e))throw new Nu(ku.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function cy(t){if(Ih(t)&&0===t.Tn.length)throw new Nu(ku.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ch(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new Yg(this.firestore,null,new Qu(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Xg);function hy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(ug("collection","path",e),t instanceof Ig){var i=Wu.Y.apply(Wu,Object(pi.g)([e],n));return fg(i),new ly(t,null,i)}if(!(t instanceof Yg||t instanceof ly))throw new Nu(ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Wu.Y.apply(Wu,Object(pi.g)([t.path],n)).child(Wu.Y(e));return fg(s),new ly(t.firestore,null,s)}function fy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Vu.D()),ug("doc","path",e),t instanceof Ig){var i=Wu.Y.apply(Wu,Object(pi.g)([e],n));return hg(i),new Yg(t,null,new Qu(i))}if(!(t instanceof Yg||t instanceof ly))throw new Nu(ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child(Wu.Y.apply(Wu,Object(pi.g)([e],n)));return hg(s),new Yg(t.firestore,t instanceof ly?t.j_:null,new Qu(s))}var dy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(pi.c)(e,t),e.prototype.F_=function(t){return new Sg(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Yg(this.firestore,null,e)},e}(kg);function py(t,e){return(t instanceof Yg||t instanceof ly)&&(e instanceof Yg||e instanceof ly)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function my(t,e){return t instanceof Xg&&e instanceof Xg&&t.firestore===e.firestore&&Ph(t.tf,e.tf)&&t.j_===e.j_}function gy(t){var e=t.S_(),n=uf(t.R_);return new Ey(t.R_,!!e.ignoreUndefinedProperties,n)}var yy=/^__.*__$/,vy=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new ch(t,this.data,this.en,e):new uh(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new hh(t,this.fieldTransforms)),n},t}(),by=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new ch(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new hh(t,this.fieldTransforms)),n},t}();function _y(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xu()}}var wy=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Py(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(_y(this.a_)&&yy.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Ey=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||uf(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new wy({a_:t,methodName:e,l_:n,path:Ku.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Oy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);jy("Data must be an object, but it was:",o,r);var a,u,c=xy(r,o);if(s.merge)a=new Xl(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=ky(e,f[h],n);if(!o.contains(d))throw new Nu(ku.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Dy(l,d)||l.push(d)}a=new Xl(l),u=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,u=o.fieldTransforms;return new vy(new gh(c),a,u)}function Sy(t,e,n,r){var i=t.Rf(1,e,n);jy("Data must be an object, but it was:",i,r);var s=[],o=new yh;Vc(r,(function(t,r){var a=Ry(e,t,n);r instanceof ag&&(r=r.o_);var u=i.If(a);if(r instanceof yg)s.push(a);else{var c=Iy(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Xl(s);return new by(o.hn(),a,i.fieldTransforms)}function Cy(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[ky(e,r,n)],u=[i];if(s.length%2!=0)throw new Nu(ku.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(ky(e,s[c])),u.push(s[c+1]);for(var l=[],h=new yh,f=a.length-1;f>=0;--f)if(!Dy(l,a[f])){var d=a[f],p=u[f];p instanceof ag&&(p=p.o_);var m=o.If(d);if(p instanceof yg)l.push(d);else{var g=Iy(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Xl(l);return new by(h.hn(),y,o.fieldTransforms)}function Ty(t,e,n,r){return void 0===r&&(r=!1),Iy(n,t.Rf(r?4:3,e))}function Iy(t,e){if(t instanceof ag&&(t=t.o_),Ay(t))return jy("Unsupported field value:",e,t),xy(t,e);if(t instanceof gg)return function(t,e){if(!_y(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Iy(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ag&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ll(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=zu.fromDate(t);return{timestampValue:hl(e.serializer,n)}}if(t instanceof zu){var r=new zu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hl(e.serializer,r)}}if(t instanceof Og)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sg)return{bytesValue:fl(e.serializer,t.T_)};if(t instanceof Yg){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ml(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+dg(t))}(t,e)}function xy(t,e){var n={};return Uc(t)?e.path&&e.path.length>0&&e.en.push(e.path):Vc(t,(function(t,r){var i=Iy(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ay(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof zu||t instanceof Og||t instanceof Sg||t instanceof Yg||t instanceof gg)}function jy(t,e,n){if(!Ay(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=dg(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function ky(t,e,n){if(e instanceof ag&&(e=e.o_),e instanceof Lg)return e.G_;if("string"==typeof e)return Ry(t,e);throw Py("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ny=new RegExp("[~\\*/\\[\\]]");function Ry(t,e,n){if(e.search(Ny)>=0)throw Py("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Lg.bind.apply(Lg,Object(pi.g)([void 0],e.split("."))))).G_}catch(r){throw Py("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Py(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Nu(ku.INVALID_ARGUMENT,(a+=". ")+t+u)}function Dy(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ly=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n=this;return Object(pi.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Nu(ku.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(pi.d)(this,(function(u){switch(u.label){case 0:return n=ju(t),r=wl(n.serializer)+"/documents",i={documents:e.map((function(t){return yl(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Au(!!e.found);var n=vl(t,e.found.name),r=pl(e.found.updateTime),i=new gh({mapValue:{fields:e.found.fields}});return new _h(n,r,i,{})}(t,e):"missing"in e?function(t,e){Au(!!e.missing),Au(!!e.readTime);var n=vl(t,e.missing),r=pl(e.readTime);return new wh(n,r)}(t,e):xu()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Au(!!e),a.push(e)})),a)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof wh||t instanceof _h?n.bf(t):xu()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new ph(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(pi.b)(this,void 0,void 0,(function(){var t,e=this;return Object(pi.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Qu.st(n);e.mutations.push(new mh(r,e.rn(r)))})),[4,function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r,i;return Object(pi.d)(this,(function(s){switch(s.label){case 0:return n=ju(t),r=wl(n.serializer)+"/documents",i={writes:e.map((function(t){return Sl(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof _h)e=t.version;else{if(!(t instanceof wh))throw xu();e=Hu.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Nu(ku.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?th.updateTime(e):th.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(Hu.min()))throw new Nu(ku.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return th.updateTime(e)}return th.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),Fy=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new mf(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return Object(pi.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(pi.d)(this,(function(r){return t=new Ly(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Yu(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!cc(e)}return!1},t}(),My=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=wu.UNAUTHENTICATED,this.clientId=Vu.D(),this.Of=function(){},this.g=new af,this.credentials.A((function(t){Su("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new Nu(ku.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new af;return this.di.Ni((function(){return Object(pi.b)(t,void 0,void 0,(function(){var t,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Af(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Vy(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r=this;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),Su("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return Object(pi.b)(r,void 0,void 0,(function(){return Object(pi.d)(this,(function(t){switch(t.label){case 0:return[4,Yd(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function Uy(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,qy(t)];case 1:return n=i.sent(),Su("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return Object(pi.b)(this,void 0,void 0,(function(){var n,r;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return(n=ju(t)).di.Li(),Su("RemoteStore","RemoteStore received new credentials"),r=Ep(n),n.Mu.add(3),[4,mp(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,pp(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function qy(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Su("FirestoreClient","Using default OfflineComponentProvider"),[4,Vy(t,new ng)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function By(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(Su("FirestoreClient","Using default OnlineComponentProvider"),[4,Uy(t,new sg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function zy(t){return qy(t).then((function(t){return t.persistence}))}function Hy(t){return qy(t).then((function(t){return t.Cu}))}function $y(t){return By(t).then((function(t){return t.Oh}))}function Wy(t){return By(t).then((function(t){return t.ga}))}function Gy(t){return Object(pi.b)(this,void 0,void 0,(function(){var e,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return[4,By(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=hm.bind(null,e.ga),n.Zu=dm.bind(null,e.ga),n)]}}))}))}function Ky(t,e,n,r,i){var s=new og({next:function(s){e.Ri((function(){return Bp(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Nu(ku.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Nu(ku.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Wp(Ch(n.path),s,{includeMetadataChanges:!0,oa:!0});return qp(t,o)}function Qy(t,e,n,r,i){var s=new og({next:function(n){e.Ri((function(){return Bp(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Nu(ku.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Wp(n,s,{includeMetadataChanges:!0,oa:!0});return qp(t,o)}var Yy=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=gy(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=Xy(t,this.U_),i=yv(r.j_,e,n),s=Oy(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,th.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=Xy(t,this.U_);return e instanceof ag&&(e=e.o_),s="string"==typeof e||e instanceof Lg?Cy(this.Qf,"WriteBatch.update",o.K_,e,n,r):Sy(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,th.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=Xy(t,this.U_);return this.qf=this.qf.concat(new ph(e.K_,th.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Nu(ku.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Xy(t,e){if(t instanceof ag&&(t=t.o_),t.firestore!==e)throw new Nu(ku.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(pi.c)(e,t),e.prototype.get=function(e){var n=this,r=Xy(e,this.U_),i=new $g(this.U_);return t.prototype.get.call(this,e).then((function(t){return new Ug(n.U_,i,r.K_,t.W_,new cv(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=gy(t)}return t.prototype.get=function(t){var e=this,n=Xy(t,this.U_),r=new dy(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return xu();var i=t[0];if(i instanceof wh)return new Rg(e.U_,r,n.K_,null,n.j_);if(i instanceof _h)return new Rg(e.U_,r,i.key,i,n.j_);throw xu()}))},t.prototype.set=function(t,e,n){var r=Xy(t,this.U_),i=yv(r.j_,e,n),s=Oy(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Xy(t,this.U_);return e instanceof ag&&(e=e.o_),s="string"==typeof e||e instanceof Lg?Cy(this.Qf,"Transaction.update",o.K_,e,n,r):Sy(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=Xy(t,this.U_);return this.Wf.delete(e.K_),this},t}()),Jy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Vg(t);var n=ev(t),r=t.S_(),i=new sg;return Mg(n,i,new rg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Vg(t);var e=ev(t),n=t.S_(),r=new sg;return Mg(e,r,new ig(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Nu(ku.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new af;return t.z_.Ni((function(){return Object(pi.b)(e,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(pi.b)(this,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return gf.Gs()?[4,gf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Gd(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof _u||(i.Gf=e),i}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(pi.b)(e,void 0,void 0,(function(){var e,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return[4,zy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=ju(t);return e.Mu.delete(0),pp(e)}(n))]}}))}))}))}(ev(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(pi.b)(e,void 0,void 0,(function(){var e,n;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return[4,zy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(pi.b)(this,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(n){switch(n.label){case 0:return(e=ju(t)).Mu.add(0),[4,mp(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(ev(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&lg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new af;return t.di.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){var e;return Object(pi.d)(this,(function(r){switch(r.label){case 0:return e=_m,[4,Wy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(ev(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=ev(t),i=cf(e)?e:{next:e},s=new og(i);return t.z_.Ri((function(){return Object(pi.b)(n,void 0,void 0,(function(){var t;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){ju(t).Hu.add(e),e.next()},[4,Gy(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.z_.Ri((function(){return Object(pi.b)(n,void 0,void 0,(function(){var t;return Object(pi.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){ju(t).Hu.delete(e)},[4,Gy(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Nu(ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new mv(this,hy(this.o_,t))}catch(t){throw ov(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new sv(this,fy(this.o_,t))}catch(t){throw ov(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new fv(this,function(t,e){if(ug("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nu(ku.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xg(t,null,function(t){return new Oh(Wu.X(),t)}(e))}(this.o_,t))}catch(t){throw ov(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new af;return t.di.Ri((function(){return Object(pi.b)(n,void 0,void 0,(function(){var n;return Object(pi.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return By(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new Fy(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(ev(t),(function(n){return e(new Zy(t,n))}))}(this.o_,(function(n){return t(new rv(e,n))}))},e.prototype.batch=function(){var t=this;return ev(this.o_),new iv(new Yy(this.o_,(function(e){return Kg(t.o_,e)})))},e}(ag);function ev(t){return t.H_||nv(t),t.H_.kf(),t.H_}function nv(t){var e=t.S_(),n=function(t,e,n){return new bu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new My(t.P_,t.z_,n)}var rv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(pi.c)(e,t),e.prototype.get=function(t){var e=this,n=gv(t);return this.o_.get(n).then((function(t){return new lv(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=gv(t);return n?(cg("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=gv(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(pi.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=gv(t);return this.o_.delete(e),this},e}(ag),iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.set=function(t,e,n){var r=gv(t);return n?(cg("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=gv(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(pi.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=gv(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(ag),sv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Ng(e),r}return Object(pi.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Nu(ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Yg(n.o_,r,new Qu(t)))},e.q_=function(t,n,r){return new e(n,new Yg(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new mv(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new mv(this.firestore,hy(this.o_,t))}catch(t){throw ov(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ag&&(t=t.o_),t instanceof Yg&&py(this.o_,t)},e.prototype.set=function(t,e){e=cg("DocumentReference.set",e);try{return function(t,e,n){var r=pg(t.firestore,Fg),i=yv(t.j_,e,n);return Kg(r,Oy(gy(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,th.on()))}(this.o_,t,e)}catch(t){throw ov(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Wg(this.o_,t):Wg.apply(void 0,Object(pi.g)([this.o_,t,e],n))}catch(t){throw ov(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Kg(pg((t=this.o_).firestore,Fg),[new ph(t.K_,th.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=av(e),i=uv(e,(function(e){return new lv(t.firestore,new Ug(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return Gg(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new $g(n),s=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Hy(r)];case 1:return[4,function(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s;return Object(pi.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ju(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof _h?n.resolve(r):r instanceof wh?n.resolve(null):n.reject(new Nu(ku.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Af(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Ug(n,i,t.K_,e,new cv(e instanceof _h&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Gy(r)];case 1:return[4,Ky(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Qg(n,t,e)}))}(this.o_):function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Gy(r)];case 1:return[4,Ky(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Qg(n,t,e)}))}(this.o_)).then((function(t){return new lv(e.firestore,new Ug(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ag);function ov(t,e,n){return t.message=t.message.replace(e,n),t}function av(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!cf(r))return r}return{}}function uv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=cf(t[0])?t[0]:cf(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new sv(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Hg(this.o_,t.o_)},e}(ag),hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(lv),fv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(pi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Jg(this.o_,function(t,e,n){var r=e,i=Dg("where",t);return new ty(i,r,n)}(t,n,r)))}catch(t){throw ov(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Jg(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Dg("orderBy",t);return new ey(r,n)}(t,n)))}catch(t){throw ov(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Jg(this.o_,function(t){return mg("limit",t),new ny("limit",t,"F")}(t)))}catch(t){throw ov(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Jg(this.o_,function(t){return mg("limitToLast",t),new ny("limitToLast",t,"L")}(t)))}catch(t){throw ov(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ry("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw ov(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ry("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw ov(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw ov(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Jg(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw ov(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return my(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new $g(n),s=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Hy(r)];case 1:return[4,function(t,e,n){return Object(pi.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(pi.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,rp(t,e,!0)];case 1:return r=c.sent(),i=new am(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=Af(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Bg(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new $g(n),s=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Gy(r)];case 1:return[4,Qy(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Bg(n,i,t,e)}))}(this.o_):function(t){var e=this,n=pg(t.firestore,Fg),r=ev(n),i=new $g(n);cy(t.tf);var s=new af;return n.z_.Ri((function(){return Object(pi.b)(e,void 0,void 0,(function(){return Object(pi.d)(this,(function(e){switch(e.label){case 0:return[4,Gy(r)];case 1:return[4,Qy(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Bg(n,i,t,e)}))}(this.o_)).then((function(t){return new pv(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=av(e),i=uv(e,(function(e){return new pv(t.firestore,e)}));return Gg(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ag),dv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hv(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(ag),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new fv(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new hv(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new dv(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new hv(n.U_,r))}))},e.prototype.isEqual=function(t){return Hg(this.o_,t.o_)},e}(ag),mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(pi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new sv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new sv(this.firestore,void 0===t?fy(this.o_):fy(this.o_,t))}catch(t){throw ov(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=pg(t.firestore,Fg),r=fy(t),i=yv(t.j_,e);return Kg(n,Oy(gy(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,th.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new sv(e.firestore,t)}))},e.prototype.isEqual=function(t){return py(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(fv);function gv(t){return t instanceof ag&&(t=t.o_),pg(t,Yg)}function yv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var vv,bv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Lg.bind.apply(Lg,Object(pi.g)([void 0],e))))||this}return Object(pi.c)(e,t),e.documentId=function(){return new e(Ku.et().J())},e.prototype.isEqual=function(t){return t instanceof ag&&(t=t.o_),t instanceof Lg&&this.o_.G_.isEqual(t.G_)},e}(ag),_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pi.c)(e,t),e.serverTimestamp=function(){var t=new bg("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new yg("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _g("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wg("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Eg("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(ag),wv={Firestore:tv,GeoPoint:Og,Timestamp:zu,Blob:jg,Transaction:rv,WriteBatch:iv,DocumentReference:sv,DocumentSnapshot:lv,Query:fv,QueryDocumentSnapshot:hv,QuerySnapshot:pv,CollectionReference:mv,FieldPath:bv,FieldValue:_v,setLogLevel:function(t){Eu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new vu.a("firestore",(function(t){return function(t,e){return new tv(t,new Fg(t,e),new Jy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},wv)))})(vv=mi.a),vv.registerVersion("@firebase/firestore","2.0.4");var Ev=n("VRyK");n("qgXg"),n("Ylt2"),n("tf+s");const Ov=new r.q("angularfire2.auth.use-emulator");function Sv(t,e){return function(t,e=si.a){return new mt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Cv(t,e){return Sv(t,e).pipe(Object(It.a)(t=>({payload:t,type:"query"})))}function Tv(t,e){return Cv(t,e).pipe(ue(void 0),oi(),Object(It.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Iv(t,e,n){return Tv(t,n).pipe(ce((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return xv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return xv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ci(void 0,void 0)),Object(It.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function xv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Av(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class jv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Tv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(ue(void 0),oi(),kt(([t,e])=>e.length>0||!t),Object(It.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Av(t);return Iv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Cv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(hi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new kv(this.ref.doc(t),this.afs)}}class kv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Fv(n,e);return new jv(r,i,this.afs)}snapshotChanges(){return Sv(this.ref,this.afs.schedulers.outsideAngular).pipe(ue(void 0),oi(),Object(It.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(It.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ht.a)(this.ref.get(t)).pipe(Object(hi.b)(this.afs.schedulers.insideAngular))}}class Nv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Tv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Tv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ce((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Av(t);return Iv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Cv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(It.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ht.a)(this.query.get(t)).pipe(Object(hi.b)(this.afs.schedulers.insideAngular))}}const Rv=new r.q("angularfire2.enableFirestorePersistence"),Pv=new r.q("angularfire2.firestore.persistenceSettings"),Dv=new r.q("angularfire2.firestore.settings"),Lv=new r.q("angularfire2.firestore.use-emulator");function Fv(t,e=(t=>t)){return{query:e(t),ref:t}}let Mv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new fi.d(s),this.keepUnstableUntilFirst=Object(fi.h)(this.schedulers);const c=Object(fi.g)(t,s,e);!di.a.auth&&u&&Object(fi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(fi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(ht.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(lt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(lt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Fv(n,e),s=this.schedulers.ngZone.run(()=>r);return new jv(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Nv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new kv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.dc(fi.c),r.dc(fi.b,8),r.dc(Rv,8),r.dc(Dv,8),r.dc(r.B),r.dc(r.z),r.dc(Pv,8),r.dc(Lv,8),r.dc(Ov,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(fi.c),Object(r.dc)(fi.b,8),Object(r.dc)(Rv,8),Object(r.dc)(Dv,8),Object(r.dc)(r.B),Object(r.dc)(r.z),Object(r.dc)(Pv,8),Object(r.dc)(Lv,8),Object(r.dc)(Ov,8))},token:t,providedIn:"any"}),t})(),Vv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Rv,useValue:!0},{provide:Pv,useValue:e}]}}}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[Mv]}),t})(),Uv=(()=>{class t{constructor(t){this.firestore=t}getFamilyMembers(){return this.firestore.collection("family").snapshotChanges()}updateAssigned(t){return this.firestore.collection("family").doc(t).set({assigned:!0},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Mv))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qv(t){return Array.isArray(t)?t:[t]}function Bv(t){return null==t?"":"string"==typeof t?t:t+"px"}var zv=n("n6bG");function Hv(t,e,n,r){return Object(zv.a)(n)&&(r=n,n=void 0),r?Hv(t,e,n).pipe(Object(It.a)(t=>Object(vt.a)(t)?r(...t):r(t))):new mt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}n("3N8a"),n("IjjT"),n("7Hc7");class $v{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Wv(t,this.durationSelector))}}class Wv extends bt.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(_t.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Gv=n("Y7HM");function Kv(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Qv(t,e=si.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Gv.a)(e)?r=Number(e)<1?1:Number(e):Object(yt.a)(e)&&(n=e),Object(yt.a)(n)||(n=si.a),new mt.a(e=>{const i=Object(Gv.a)(t)?t:+t-n.now();return n.schedule(Kv,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new $v(n))};var n}function Yv(t){return e=>e.lift(new Xv(t))}class Xv{constructor(t){this.notifier=t}call(t,e){const n=new Zv(t),r=Object(_t.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Zv extends bt.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}let Jv;try{Jv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(dy){Jv=!1}let tb=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.B,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.B,8))},token:t,providedIn:"root"}),t})(),eb=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})();const nb=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let rb=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(nb,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(nb,8))},token:t,providedIn:"root"}),t})(),ib=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),sb=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new ft.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Qv(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(lt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(kt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.z),r.dc(tb),r.dc(a,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.z),Object(r.dc)(tb),Object(r.dc)(a,8))},token:t,providedIn:"root"}),t})(),ob=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(Ev.a)(Hv(e,"resize"),Hv(e,"orientationchange")):Object(lt.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Qv(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(tb),r.dc(r.z),r.dc(a,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(tb),Object(r.dc)(r.z),Object(r.dc)(a,8))},token:t,providedIn:"root"}),t})(),ab=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),ub=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[ib,eb,ab],ib,ab]}),t})();function cb(){throw Error("Host already has a portal attached")}class lb{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&cb(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class hb extends lb{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class fb extends lb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class db extends lb{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class pb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&cb(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof hb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof fb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof db?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mb extends pb{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gb=(()=>{class t extends pb{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.j),r.Qb(r.P),r.Qb(a))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),yb=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})();class vb{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Bv(-this._previousScrollPosition.left),t.style.top=Bv(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function bb(){return Error("Scroll strategy has already been attached.")}class _b{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw bb();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wb{enable(){}disable(){}attach(){}}function Eb(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Ob(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Sb{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw bb();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Eb(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cb=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new wb,this.close=t=>new _b(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new vb(this._viewportRuler,this._document),this.reposition=t=>new Sb(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.dc(sb),r.dc(ob),r.dc(r.z),r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(sb),Object(r.dc)(ob),Object(r.dc)(r.z),Object(r.dc)(a))},token:t,providedIn:"root"}),t})();class Tb{constructor(t){if(this.scrollStrategy=new wb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Ib{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class xb{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function Ab(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function jb(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let kb=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(a))},token:t,providedIn:"root"}),t})();const Nb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Rb=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Nb){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),Nb?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a),r.dc(tb))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(a),Object(r.dc)(tb))},token:t,providedIn:"root"}),t})();class Pb{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new ft.a,this._attachments=new ft.a,this._detachments=new ft.a,this._locationChanges=me.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new ft.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Xt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Bv(this._config.width),t.height=Bv(this._config.height),t.minWidth=Bv(this._config.minWidth),t.minHeight=Bv(this._config.minHeight),t.maxWidth=Bv(this._config.maxWidth),t.maxHeight=Bv(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;qv(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Yv(Object(Ev.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Db=/([A-Za-z%]+)$/;class Lb{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.a,this._resizeSubscription=me.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Mb(this._overlayRef.getConfig().minHeight),o=Mb(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new xb(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Bv(n.height),r.top=Bv(n.top),r.bottom=Bv(n.bottom),r.width=Bv(n.width),r.left=Bv(n.left),r.right=Bv(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Bv(t)),i&&(r.maxWidth=Bv(i))}this._lastBoundingBoxSize=n,Fb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Fb(n,this._getExactOverlayY(e,t,r)),Fb(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Bv(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Bv(s.maxWidth):i&&(n.maxWidth="")),Fb(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Bv(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Bv(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ob(t,n),isOriginOutsideView:Eb(t,n),isOverlayClipped:Ob(e,n),isOverlayOutsideView:Eb(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{jb("originX",t.originX),Ab("originY",t.originY),jb("overlayX",t.overlayX),Ab("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&qv(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Fb(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Mb(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Db);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Vb{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Lb(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Ib(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Ub{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qb=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Ub}connectedTo(t,e,n){return new Vb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Lb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(ob),r.dc(a),r.dc(tb),r.dc(Rb))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(ob),Object(r.dc)(a),Object(r.dc)(tb),Object(r.dc)(Rb))},token:t,providedIn:"root"}),t})(),Bb=0,zb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Tb(t);return i.direction=i.direction||this._directionality.value,new Pb(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Bb++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new mb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Cb),r.dc(Rb),r.dc(r.j),r.dc(qb),r.dc(kb),r.dc(r.r),r.dc(r.z),r.dc(a),r.dc(rb),r.dc(E,8))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Hb={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[zb],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let $b=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[zb,Hb],imports:[[ib,yb,ub],ub]}),t})(),Wb=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(dy){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Kb(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Kb(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Gb(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(tb))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(tb))},token:t,providedIn:"root"}),t})();function Gb(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Kb(t){if(!Gb(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Qb{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(r.W)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Xt(1)).subscribe(t)}}let Yb=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Qb(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Wb),r.dc(r.z),r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Wb),Object(r.dc)(r.z),Object(r.dc)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;let Xb=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(tb),r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(tb),Object(r.dc)(a))},token:t,providedIn:"root"}),t})();const Zb=new r.O("9.2.4");class Jb{}function t_(t,e){return{type:7,name:t,definitions:e,options:{}}}function e_(t,e=null){return{type:4,styles:e,timings:t}}function n_(t,e=null){return{type:2,steps:t,options:e}}function r_(t){return{type:6,styles:t,offset:null}}function i_(t,e,n){return{type:0,name:t,styles:e,options:n}}function s_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function o_(t){Promise.resolve(null).then(t)}class a_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){o_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class u_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?o_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function c_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l_(t){switch(t.length){case 0:return new a_;case 1:return t[0];default:return new u_(t)}}function h_(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function f_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&d_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&d_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&d_(n,"destroy",t)))}}function d_(t,e,n){const r=n.totalTime,i=p_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function p_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function m_(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function g_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let y_=(t,e)=>!1,v_=(t,e)=>!1,b_=(t,e,n)=>[];const __=c_();(__||"undefined"!=typeof Element)&&(y_=(t,e)=>t.contains(e),v_=(()=>{if(__||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):v_}})(),b_=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let w_=null,E_=!1;function O_(t){w_||(w_=("undefined"!=typeof document?document.body:null)||{},E_=!!w_.style&&"WebkitAppearance"in w_.style);let e=!0;return w_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in w_.style,!e&&E_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in w_.style),e}const S_=v_,C_=y_,T_=b_;function I_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let x_=(()=>{class t{validateStyleProperty(t){return O_(t)}matchesElement(t,e){return S_(t,e)}containsElement(t,e){return C_(t,e)}query(t,e,n){return T_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new a_(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),A_=(()=>{class t{}return t.NOOP=new x_,t})();function j_(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:k_(parseFloat(e[1]),e[2])}function k_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function N_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=k_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=k_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function R_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function P_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else R_(t,n);return n}function D_(t,e,n){return n?e+":"+n+";":""}function L_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=D_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=D_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function F_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=$_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),c_()&&L_(t))}function M_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=$_(e);t.style[n]=""}),c_()&&L_(t))}function V_(t){return Array.isArray(t)?1==t.length?t[0]:n_(t):t}const U_=new RegExp("{{\\s*(.+?)\\s*}}","g");function q_(t){let e=[];if("string"==typeof t){let n;for(;n=U_.exec(t);)e.push(n[1]);U_.lastIndex=0}return e}function B_(t,e,n){const r=t.toString(),i=r.replace(U_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function z_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const H_=/-+([a-z0-9])/g;function $_(t){return t.replace(H_,(...t)=>t[1].toUpperCase())}function W_(t,e){return 0===t||0===e}function G_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Q_(t,e)}))}}return e}function K_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Q_(t,e){return window.getComputedStyle(t)[e]}function Y_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(J_(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(J_(o,i))}(t,n,e)):n.push(t),n}const X_=new Set(["true","1"]),Z_=new Set(["false","0"]);function J_(t,e){const n=X_.has(t)||Z_.has(t),r=X_.has(e)||Z_.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?X_.has(t):Z_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?X_.has(e):Z_.has(e)),o&&a}}const tw=new RegExp("s*:selfs*,?","g");function ew(t,e,n){return new nw(t).build(e,n)}class nw{constructor(t){this._driver=t}build(t,e){const n=new rw(e);return this._resetContextStyleTimingState(n),K_(this,V_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(iw(t)){const e=t;Object.keys(e).forEach(t=>{q_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=z_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=K_(this,V_(t.animation),e);return{type:1,matchers:Y_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:sw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>K_(this,t,e)),options:sw(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=K_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:sw(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ow(N_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ow(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||N_(r,e),ow(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:r_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=r_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(iw(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=q_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(iw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(iw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:K_(this,V_(t.animation),e),options:sw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:sw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:sw(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(tw,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,m_(e.collectedStyles,e.currentQuerySelector,{});const o=K_(this,V_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:sw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:N_(t.timings,e.errors,!0);return{type:12,animation:K_(this,V_(t.animation),e),timings:n,options:null}}}class rw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function iw(t){return!Array.isArray(t)&&"object"==typeof t}function sw(t){var e;return t?(t=R_(t)).params&&(t.params=(e=t.params)?R_(e):null):t={},t}function ow(t,e,n){return{duration:t,delay:e,easing:n}}function aw(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class uw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cw=new RegExp(":enter","g"),lw=new RegExp(":leave","g");function hw(t,e,n,r,i,s={},o={},a,u,c=[]){return(new fw).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class fw{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new uw;const l=new pw(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),K_(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[aw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?j_(n.duration):null,s=null!=n.delay?j_(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),K_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dw);const t=j_(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>K_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?j_(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),K_(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return N_(e.params?B_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?j_(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dw);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),K_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;K_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const dw={};class pw{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new mw(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=j_(n.duration)),null!=n.delay&&(r.delay=j_(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=B_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new pw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=dw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new gw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(cw,"."+this._enterClassName)).replace(lw,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class mw{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new mw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):P_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=B_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=P_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?z_(t.values()):[],s=e.size?z_(e.values()):[];if(n){const t=r[0],e=R_(t);t.offset=0,e.offset=1,r=[t,e]}return aw(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class gw extends mw{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=P_(t[0],!1);a.offset=0,i.push(a);const u=P_(t[0],!1);u.offset=yw(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=P_(t[r],!1);o.offset=yw((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return aw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function yw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class vw{}class bw extends vw{normalizePropertyName(t,e){return $_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(_w[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const _w=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ww(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Ew={};class Ow{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Ew,f=this.buildStyles(n,o&&o.params||Ew,l),d=a&&a.params||Ew,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:hw(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ww(e,this._triggerName,n,r,v,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=m_(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=m_(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=z_(m.values());return ww(e,this._triggerName,n,r,v,f,p,_,E,g,y,w)}}class Sw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=R_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=B_(s,r,e)),n[t]=s})}}),n}}class Cw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Sw(t.style,t.options&&t.options.params||{})}),Tw(this.states,"true","1"),Tw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ow(t,e,this.states))}),this.fallbackTransition=new Ow(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Tw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Iw=new uw;class xw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ew(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=h_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=hw(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Iw,r),s.forEach(t=>{const e=m_(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=l_(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=p_(e,"","","");return f_(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Aw=[],jw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Nw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=R_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Rw=new Nw("void");class Pw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qw(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=m_(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=m_(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(qw(t,"ng-trigger"),qw(t,"ng-trigger-"+e),a[e]=Rw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Lw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(qw(t,"ng-trigger"),qw(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Nw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Rw),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{M_(t,n),F_(t,r)})}return}const c=m_(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(qw(t,"ng-animate-queued"),s.onStart(()=>{Bw(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&l_(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Rw,o=new Nw("void"),a=new Lw(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==jw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){qw(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=p_(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,f_(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Dw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Pw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Fw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Fw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qw(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bw(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Fw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Fw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return l_(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=jw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)qw(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?l_(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new uw,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Uw(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>qw(t,n))});const m=[],g=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const t=this.collectedLeaveElements[j],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Uw(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>qw(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Bw(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Bw(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>M_(i,p.fromStyles)),e.onDestroy(()=>F_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>M_(i,p.fromStyles)),e.onDestroy(()=>F_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>m_(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{m_(E,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Hw(t,a,u)),C=new Map;Vw(C,this.driver,y,u,"*").forEach(t=>{Hw(t,a,u)&&S.push(t)});const T=new Map;f.forEach((t,e)=>{Vw(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>F_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=l_(e)),r.push(s)}}else M_(e,o.fromStyles),s.onDestroy(()=>F_(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=l_(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let j=0;j<m.length;j++){const t=m[j],e=t.__ng_removed;if(Bw(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?zw(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=m_(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}M_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new a_(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof u_?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Aw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=h_(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Lw(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{m_(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>qw(t,"ng-animating"));const f=l_(h);return f.onDestroy(()=>{c.forEach(t=>Bw(t,"ng-animating")),F_(a,e.toStyles)}),l.forEach(t=>{m_(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new a_(t.duration,t.delay)}}class Lw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new a_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>f_(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){m_(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Fw(t){return t&&1===t.nodeType}function Mw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Vw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Mw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=kw,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Mw(t,s[a++])),o}function Uw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function qw(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Bw(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function zw(t,e,n){l_(n).onDone(()=>t.processLeaveNode(e))}function Hw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class $w{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Dw(t,e,n),this._timelineEngine=new xw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ew(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Cw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=g_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=g_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ww(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Kw(e[0]),e.length>1&&(r=Kw(e[e.length-1]))):e&&(n=Kw(e)),n||r?new Gw(t,n,r):null}let Gw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&F_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(F_(this._element,this._initialStyles),this._endStyles&&(F_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(M_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(M_(this._element,this._endStyles),this._endStyles=null),F_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Kw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Qw(i)&&(e=e||{},e[i]=t[i])}return e}function Qw(t){return"display"===t||"position"===t}class Yw{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=nE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),eE(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xw(this._element,this._name,"paused")}resume(){Xw(this._element,this._name,"running")}setPosition(t){const e=Zw(this._element,this._name);this._position=t*this._duration,eE(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=nE(t,"").split(","),r=Jw(n,e);r>=0&&(n.splice(r,1),eE(t,"",n.join(",")))}(this._element,this._name))}}function Xw(t,e,n){eE(t,"PlayState",n,Zw(t,e))}function Zw(t,e){const n=nE(t,"");return n.indexOf(",")>0?Jw(n.split(","),e):Jw([n],e)}function Jw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function tE(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function eE(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function nE(t,e){return t.style["animation"+e]}class rE{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Yw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Q_(this.element,n))})}this.currentSnapshot=t}}class iE extends a_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=I_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class sE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return O_(t)}matchesElement(t,e){return S_(t,e)}containsElement(t,e){return C_(t,e)}query(t,e,n){return T_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>I_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof rE),u={};W_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=G_(t,e,u));if(0==n)return new iE(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Ww(t,e),d=new rE(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class oE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Q_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class aE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uE().toString()),this._cssKeyframesDriver=new sE}validateStyleProperty(t){return O_(t)}matchesElement(t,e){return S_(t,e)}containsElement(t,e){return C_(t,e)}query(t,e,n){return T_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof oE);W_(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Ww(t,e=G_(t,e=e.map(t=>P_(t,!1)),u));return new oE(t,e,a,l)}}function uE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let cE=(()=>{class t extends Jb{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?n_(t):t;return fE(this._renderer,null,e,"register",[n]),new lE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.F),r.dc(a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class lE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hE(this._id,t,e||{},this._renderer)}}class hE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function fE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let dE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new pE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new mE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.F),r.dc($w),r.dc(r.z))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class pE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mE extends pE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let gE=(()=>{class t extends $w{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a),r.dc(A_),r.dc(vw))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const yE=[{provide:A_,useFactory:function(){return"function"==typeof uE()?new aE:new sE}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Jb,useClass:cE},{provide:vw,useFactory:function(){return new bw}},{provide:$w,useClass:gE},{provide:r.F,useFactory:function(t,e,n){return new dE(t,e,n)},deps:[Y,$w,r.z]}];let vE=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:yE,imports:[ct]}),t})();const bE=new r.O("9.2.4"),_E=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let wE,EE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&bE.full!==Zb.full&&console.warn("The Angular Material version ("+bE.full+") does not match the Angular CDK version ("+Zb.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)(r.dc(Xb),r.dc(_E,8),r.dc(a,8))},imports:[[ib],ib]}),t})();try{wE="undefined"!=typeof Intl}catch(dy){wE=!1}function OE(t,e){}class SE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const CE={dialogContainer:t_("dialogContainer",[i_("void, exit",r_({opacity:0,transform:"scale(0.7)"})),i_("enter",r_({transform:"none"})),s_("* => enter",e_("150ms cubic-bezier(0, 0, 0.2, 1)",r_({transform:"none",opacity:1}))),s_("* => void, * => exit",e_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",r_({opacity:0})))])};function TE(){throw Error("Attempting to attach dialog content after content is already attached")}let IE=(()=>{class t extends pb{constructor(t,e,n,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new r.n,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&TE(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&TE(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&TE(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._focusTrap.focusInitialElement()||this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Yb),r.Qb(r.h),r.Qb(a,8),r.Qb(SE))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&r.Ac(gb,!0),2&t&&r.uc(n=r.ic())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Ib("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Db("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Ic("@dialogContainer",e._state))},features:[r.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Cc(0,OE,0,0,"ng-template",0)},directives:[gb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[CE.dialogContainer]}}),t})(),xE=0;class AE{constructor(t,e,n="mat-dialog-"+xE++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ft.a,this._afterClosed=new ft.a,this._beforeClosed=new ft.a,this._state=0,e._id=n,e._animationStateChanged.pipe(kt(t=>"done"===t.phaseName&&"enter"===t.toState),Xt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(kt(t=>"done"===t.phaseName&&"exit"===t.toState),Xt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(kt(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),this.close()}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(kt(t=>"start"===t.phaseName),Xt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const jE=new r.q("MatDialogData"),kE=new r.q("mat-dialog-default-options"),NE=new r.q("mat-dialog-scroll-strategy"),RE={provide:NE,deps:[zb],useFactory:function(t){return()=>t.scrollStrategies.block()}};let PE=(()=>{class t{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.a,this._afterOpenedAtThisLevel=new ft.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Tt(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(ue(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new SE)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Tb({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:SE,useValue:e}]}),i=new hb(IE,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new AE(n,e,i.id);if(t instanceof r.L)e.attachTemplatePortal(new fb(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new hb(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:IE,useValue:n},{provide:jE,useValue:t.data},{provide:AE,useValue:e}];return!t.direction||i&&i.get(rb,null)||s.push({provide:rb,useValue:{value:t.direction,change:Object(lt.a)()}}),r.r.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(zb),r.dc(r.r),r.dc(E,8),r.dc(kE,8),r.dc(NE),r.dc(t,12),r.dc(Rb))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),DE=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[PE,RE],imports:[[$b,yb,EE],EE]}),t})();function LE(t,e){1&t&&(r.Vb(0,"h1"),r.Ec(1,"Primero de todo... \xbfQui\xe9n eres? no te equivoques eh?"),r.Ub())}function FE(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(t),r.jc().selectLoginMember("Mam\xe1")})),r.Ec(1,"Mam\xe1"),r.Ub()}}function ME(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(t),r.jc().selectLoginMember("Pap\xe1")})),r.Ec(1,"Pap\xe1"),r.Ub()}}function VE(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(t),r.jc().selectLoginMember("Cristina")})),r.Ec(1,"Cristina"),r.Ub()}}function UE(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(t),r.jc().selectLoginMember("Ver\xf3nica")})),r.Ec(1,"Ver\xf3nica"),r.Ub()}}function qE(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.hc("click",(function(){return r.wc(t),r.jc().selectLoginMember("Felipe")})),r.Ec(1,"Felipe"),r.Ub()}}function BE(t,e){if(1&t&&(r.Vb(0,"div",6),r.Rb(1,"img",7),r.Vb(2,"h1"),r.Ec(3),r.Ub(),r.Vb(4,"h1"),r.Ec(5,"\xa1Este es tu amigo invisible! No se lo digas a nadie."),r.Ub(),r.Vb(6,"h1"),r.Ec(7,"El gasto maximo para el regalo ser\xe1 50\u20ac"),r.Ub(),r.Vb(8,"h1"),r.Ec(9,"\xa1FELIZ NAVIDAD!"),r.Ub(),r.Vb(10,"h1"),r.Ec(11,"\xa1Importante: no repitas este enlace o le quitar\xedas a otro su amigo invisible!"),r.Ub(),r.Ub()),2&t){const t=r.jc(2);r.Cb(1),r.pc("src",t.selectedPhoto,r.xc),r.Cb(2),r.Fc(t.selectedMember.name)}}function zE(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",8),r.hc("click",(function(){return r.wc(t),r.jc(2).choose()})),r.Ec(1,"Pulsa para obtener tu amigo invisible"),r.Ub()}}function HE(t,e){if(1&t&&(r.Vb(0,"div"),r.Cc(1,BE,12,2,"div",4),r.Cc(2,zE,2,0,"button",5),r.Ub()),2&t){const t=r.jc();r.Cb(1),r.oc("ngIf",t.isButtonClicked),r.Cb(1),r.oc("ngIf",!t.isButtonClicked)}}let $E=(()=>{class t{constructor(t,e){this.familyManagement=t,this.dialog=e,this.isLogged=!1,this.isButtonClicked=!1}ngOnInit(){this.getDataFamilyMembers()}getDataFamilyMembers(){this.dataBaseFamily=[],this.familyManagement.getFamilyMembers().subscribe(t=>{t.forEach(t=>{!1===t.payload.doc.data().assigned&&this.dataBaseFamily.push(new ii(t.payload.doc.id,t.payload.doc.data().name,t.payload.doc.data().assigned,t.payload.doc.data().picture))})})}getRandomMember(){this.dataBaseFamily=this.dataBaseFamily.filter(t=>t.name!==this.memberLogged),this.selectedMember=this.dataBaseFamily[Math.floor(Math.random()*this.dataBaseFamily.length)]}choose(){this.isButtonClicked=!0,this.getPhotoPath(this.selectedMember.name),this.familyManagement.updateAssigned(this.selectedMember.id)}selectLoginMember(t){this.memberLogged=t,this.getRandomMember(),this.isLogged=!0}getPhotoPath(t){switch(t){case"Cristina":this.selectedPhoto="../../../assets/cristina.PNG";break;case"Ver\xf3nica":this.selectedPhoto="../../../assets/Vero2.PNG";break;case"Mam\xe1":this.selectedPhoto="../../../assets/mama.jpg";break;case"Pap\xe1":this.selectedPhoto="../../../assets/papa.jpg";break;case"Felipe":this.selectedPhoto="../../../assets/felipe.jpg"}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Uv),r.Qb(PE))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-invisible-friend"]],decls:8,vars:7,consts:[[1,"container"],[4,"ngIf"],["type","button","class","btn btn-primary login",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","login",3,"click"],["class","result",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"result"],["alt","...",1,"photo","card-img-top",3,"src"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Cc(1,LE,2,0,"h1",1),r.Cc(2,FE,2,0,"button",2),r.Cc(3,ME,2,0,"button",2),r.Cc(4,VE,2,0,"button",2),r.Cc(5,UE,2,0,"button",2),r.Cc(6,qE,2,0,"button",2),r.Cc(7,HE,3,2,"div",1),r.Ub()),2&t&&(r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",!e.isLogged),r.Cb(1),r.oc("ngIf",e.isLogged))},directives:[A],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.result[_ngcontent-%COMP%]{width:400;height:400}.photo[_ngcontent-%COMP%]{width:80%;height:50%}.login[_ngcontent-%COMP%]{margin:10px;width:200px;height:50px}"]}),t})(),WE=(()=>{class t{constructor(){this.title="InvisibleFriend"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"app-invisible-friend"),r.Rb(1,"router-outlet"))},directives:[$E,Fr],styles:[""]}),t})();n("XoHu");let GE=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),KE=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),QE=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[GE],imports:[KE]}),t})();function YE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new XE(t,n))}}n("KqfI");class XE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ZE(t,this.observables,this.project))}}class ZE extends bt.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(Object(_t.a)(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV"),$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const JE=["*"];$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const tO=["dialog"];function eO(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.valuef8e9a947b9db4252c0e9905765338712f2fd032f3720830768741091151:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let nO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),rO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),iO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),sO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),oO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})();var aO=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const uO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function cO(t){const e=Array.from(t.querySelectorAll(uO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let lO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N,QE]]}),t})(),hO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),fO=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class dO{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const pO=()=>{};let mO=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):pO}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(r.dc(a))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(a))},token:t,providedIn:"root"}),t})(),gO=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class yO{close(t){}dismiss(t){}}class vO{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var bO=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let _O=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new ft.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{Hv(t,"keydown").pipe(Yv(this._closed$),kt(t=>t.which===aO.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(bO.ESC))}));let e=!1;Hv(this._dialogEl.nativeElement,"mousedown").pipe(Yv(this._closed$),Object(pe.a)(()=>e=!1),ie(()=>Hv(t,"mouseup").pipe(Yv(this._closed$),Xt(1))),kt(({target:e})=>t===e)).subscribe(()=>{e=!0}),Hv(t,"click").pipe(Yv(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(bO.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=cO(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(r.Qb(a),r.Qb(r.l),r.Qb(r.z))},t.\u0275cmp=r.Kb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Ac(tO,!0),2&t&&r.uc(n=r.ic())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Eb("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:JE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.nc(),r.Vb(0,"div",0,1),r.Vb(2,"div",2),r.mc(3),r.Ub(),r.Ub()),2&t&&r.Eb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),wO=(()=>{let t=class{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new ft.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Hv(e,"focusin").pipe(Yv(n),Object(It.a)(t=>t.target));Hv(e,"keydown").pipe(Yv(n),kt(t=>t.which===aO.Tab),YE(t)).subscribe(([t,n])=>{const[r,i]=cO(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Hv(e,"click").pipe(Yv(n),YE(t),Object(It.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:eO(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new yO,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new vO(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(o,o),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(gO).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(_O).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{eO(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{eO(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new dO([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new dO([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new dO([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.r.create({providers:[{provide:yO,useValue:i}],parent:e}),u=o.create(a),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new dO([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(r.dc(r.g),r.dc(r.r),r.dc(a),r.dc(mO),r.dc(r.F),r.dc(r.z))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.g),Object(r.dc)(r.o),Object(r.dc)(a),Object(r.dc)(mO),Object(r.dc)(r.F),Object(r.dc)(r.z))},token:t,providedIn:"root"}),t})(),EO=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(r.dc(r.j),r.dc(r.r),r.dc(wO),r.dc(fO))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.j),Object(r.dc)(r.o),Object(r.dc)(wO),Object(r.dc)(fO))},token:t,providedIn:"root"}),t})(),OO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[EO]}),t})(),SO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),CO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),TO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),IO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),xO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),AO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),jO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),kO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})(),NO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)}}),t})(),RO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[N]]}),t})();const PO=[nO,rO,iO,sO,oO,lO,hO,OO,SO,CO,TO,IO,xO,jO,kO,NO,RO,AO];let DO=(()=>{let t=class{};return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[PO,nO,rO,iO,sO,oO,lO,hO,OO,SO,CO,TO,IO,xO,jO,kO,NO,RO,AO]}),t})(),LO=(()=>{class t{}return t.\u0275mod=r.Ob({type:t,bootstrap:[WE]}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},providers:[],imports:[[ct,ri,fi.a.initializeApp(i),Vv,vE,DE,DO]]}),t})();Object(r.T)(),at().bootstrapModule(LO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);